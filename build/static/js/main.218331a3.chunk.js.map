{"version":3,"sources":["components/Navegacion_Admin/Sidebar.js","components/Layout_admin/LayoutAdmin.js","context/carritoContext.js","config/axios.js","config/aws.js","components/Navegacion/RightMenu.js","components/Navegacion/Navegacion.js","components/Categorias/Categorias.js","components/Footer/Footer.js","components/Layout/Layout.js","pages/users/geolocalizacion.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/promos_normales/services/registrar_promocion.js","pages/admin/Promociones/promos_normales/services/actualizar_promocion.js","pages/admin/Promociones/promos_normales/promociones.js","pages/admin/Promociones/promos_masivas/registrar_promocion_masiva.js","pages/admin/Promociones/promos_masivas/promo_masiva.js","pages/admin/Promociones/promociones_principal.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/services/MostrarDatosMultiplesTarjeta.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/tablas_inventarios/inventario_otros.js","pages/admin/Inventario/tablas_inventarios/inventario_tallas.js","pages/admin/Inventario/tablas_inventarios/inventario_numeros.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Publicidad/services/registro_publicidad.js","pages/admin/Publicidad/publicidad.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/consutaExcel.js","pages/admin/Clientes/clientes.js","pages/users/Carusel_ofertas/carousel.js","pages/users/Productos/componente_productos.js","pages/users/Ofertas/ofertasHome.js","pages/users/Datos_tienda/datos_tienda.js","pages/users/BannerPromociones/cardsProductos.js","pages/users/BannerPromociones/BannerPromocion.js","pages/users/Registro/registro.js","pages/users/Login/login.js","components/Firebase/firebase.js","config/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Vista_Producto/subs/datos_cliente.js","pages/users/Carrito/services/apartado_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/verificarArticulos.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/consulta_productos.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/apartadoMultiple.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Vista_Producto/vista_producto.js","components/BusquedaCategorias/busqueda_categorias.js","pages/users/error404.js","components/Recuperar_pass/Recuperar_pass.js","config/routes.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js","pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png"],"names":["Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","withRouter","props","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","history","push","danger","LoadRoutes","routes","map","route","index","path","exact","component","MenuContext","createContext","MenuProvider","children","useState","active","setActive","loading","setLoading","Provider","value","clienteAxios","axios","create","baseURL","process","aws","SubMenu","Menu","RightMenu","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","reload","LogoutOutlined","Search","Input","Header","useContext","visible","setVisible","setTienda","carrito","setCarrito","setOfertas","a","get","_id","headers","Authorization","then","res","data","articulos","idarticulo","activo","eliminado","filter","arr","catch","forEach","datos","useEffect","obtenerOfertas","obtenerQuienesSomos","obtenerCarrito","tip","imagenLogo","alt","placeholder","onSearch","inlineIndent","count","fontSize","MenuOutlined","title","placement","closable","onClose","categorias","setCategorias","generos","setGeneros","categoriaSeleccionada","setCategoriaSeleccionada","subcategoriaSeleccionada","setSubcategoriaSeleccionada","scrollTo","obtenerCategorias","obtenerGeneros","categorias_nav","categoria","onTitleClick","subcCategoria","sub","categorias_generos","triggerSubMenuAction","Footer","Style","FooterPage","face","setFace","insta","setInsta","twitter","setTwitter","imagenCorp","setImagenCorp","nombreCorp","setNombreCorp","politicas","setPoliticas","telefono","setTelefono","accion","setAccion","linkFace","linkInsta","linkTweeter","err","end","id","UserOutlined","KeyOutlined","textAlign","href","target","rel","FacebookFilled","color","InstagramFilled","TwitterCircleFilled","Geolocalizacion","width","center","titleLayer","zoom","apikey","nombreMarcador","tituloheader","draggable","L","mapquest","container","DomUtil","_leaflet_id","layers","tileLayer","marker","icons","bindPopup","addTo","addControl","control","role","Spinner","spinning","PoliticasEnvio","drawnerClose","datosNegocio","setReloadInfo","disabled","setDisabled","setDatos","setControl","idTienda","setIdTienda","Form","useForm","form","setFieldsValue","costoEnvio","promocionEnvio","descuento","response","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","onChange","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","RegistroTienda","upload","setUpload","files","setFiles","setImagen","undefined","ubicacion","lat","lng","calle_numero","direccion","cp","colonia","ciudad","estado","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","onFinishFailed","errorFields","errors","UploadOutlined","labelCol","rules","required","noStyle","faMapMarkedAlt","marginLeft","valuePropName","init","menubar","plugins","toolbar","onEditorChange","content","editor","AlertTienda","action","setAction","setDatosNegocio","reloadInfo","politicasEnvio","setPoliticasEnvio","setLat","setLng","obtenerPoliticasEnvio","screen","bodyStyle","paddingBottom","footer","margin","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","confirm","Modal","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","delete","prev","setPrev","render","url","ExclamationCircleOutlined","okText","okType","cancelText","onOk","DeleteOutlined","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","Option","Select","Step","Steps","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","useRef","setCloseDraw","closeDraw","current","setCurrent","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","item","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","styles","reactCSS","default","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","setSelect","next","obtenerSubcategorias","codigo","precio","select","genero","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemCategoria","addItemSubCategoria","onCategoriaChange","onSubCategoriaChange","steps","dropdownRender","menu","flexWrap","flex","PlusOutlined","initialValues","ref","min","step","Group","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","status","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","valueSelectCat","setValueSelectCat","itemCat","setItemCat","descripcion","colorHex","obtenerValores","subirDatos","defaultActiveKey","tab","pagination","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","formatoMexico","number","parseFloat","toFixed","toString","replace","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoHora","hora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","marginBottom","queryString","search","productosRender","setProductosRender","setReload","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","idproducto","promocion","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","handleCancelEstado","IDpedido","datosPedido","setPedido","pedidoID","entregado","setEntregado","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","dataSource","renderItem","avatar","max","tipFormatter","porcentaje","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","tooltipVisible","setSearch","productosFiltrados","setProductosFiltrados","includes","idProducto","showDeleteConfirm","eliminarPromocion","RegistroPromocionMasiva","dataPromocion","setDataPromocion","actualizar","setActualizar","promoMasiva","showDrawer","limpiar","setSelectedRowKeys","setPromocionMasiva","checks","listaBD","limpiarChecks","columns","dataIndex","promocionMasiva","selectedRowKeys","hasSelected","rowSelection","listaIDs","getCheckboxProps","idPromocionMasiva","onSelect","record","selected","selectedRows","onSelectAll","checkearChecks","porsentajePromocionMasiva","listaPromosActuales","listaPromosData","listaPromociones","marginRight","rowKey","maxCount","maxStyle","PromoMasivaPrincipal","setPromo","obtenerPromosMasivas","eliminarPromocionMasiva","idPromoMasiva","itemLayout","actualizarActive","productosPromoMasiva","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","setEstado","apellido","tipoEntrega","Text","Typography","DetalleApartado","multiple","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","apartadoMultiple","productosMultiple","ProductosMultiple","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","MostrarDatosMultipleTargeta","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","setCantidad","idSeleccionado","setIdSeleccionado","obtenerValor","actualizarCantidad","warning","text","overflowCount","MinusOutlined","scroll","x","idTallaSeleccionada","setIdTallaSeleccionada","setTalla","obtenerTallas","idNumeroSeleccionada","setIdNumeroSeleccionada","setNumero","match","params","otros","tabs","searchBar","tabBarExtraContent","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","getBase64","Promise","resolve","reject","onerror","RegistroPublicidad","bannerSeleccionado","vincular","setVincular","mostrarProductos","setMostrarProductos","mostrarTitulo","setMostrarTitulo","disabledCheck","setDisabledCheck","previewVisible","setPreviewVisible","previewImage","setPreviewImage","previewTitle","setPreviewTitle","uploadProps","onPreview","preview","originFileObj","substring","lastIndexOf","closeModalCrear","limpiarCampos","enviarDatos","llenarCampos","useCallback","imagenBanner","uid","vincularCategoria","hideRequiredMark","marginTop","checked","blogList","setReloadBlog","setInfoBlog","deleteBlog","blog","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","i","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","ExcelFile","ReactExport","ExcelSheet","ExcelColumn","consulta","setConsulta","obtenerConsulta","clientes","filename","Clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","BgElement","Element","setIndex","carousels","setCarousels","esPromocion","obtenerCarousel","prefixCls","backgroundImage","autoPlay","activeIndex","selectedIndex","delay","ComponenteProductos","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","Datos_tienda","setDireccion","infor","setInfo","CardsProductos","bannerPro","setBannerPro","obtenerBanner","handleSelect","banner","animation","y","opacity","tailLayout","values","vista","remember","Password","validator","_","mostrarDiv","setMostrarDiv","mostrarMensaje","setmostrarMensaje","onRecuperar","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","subtotal","DatosCliente","clienteID","handleOk","controlBoton","setControlBoton","estadoBoton","setEstadoBoton","obtenerDatosUser","ApartadoCarrito","modal","setApartadoMultiple","setTotal","tipoEnvio","setTipoEnvio","apartadoMultipleCompleto","apartarCarrito","articulo","ModalApartado","AgregarApartado","verificarArticulos","ListaCarrito","setMedida","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","setEliminado","cantidadChange","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","tallaCantidad","numeroCantidad","verificar","obtenerSubtotal","ExportOutlined","setCliente","nuevoCarrito","setNuevoCarrito","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","fontWeight","ConsultaProductos","propiedades","Productos","BlogList","BlogsList2","ShowBlog","ObtenerBlog","useParams","Producto","faBus","paddingLeft","paddingRight","ApartadoMultiple","setElige","deleteApartado","ghost","Pedido","Apartado","ResultadoBusqueda","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","datosPassword","UploadAvatar","onDrop","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setDatosActualizados","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","card","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","datosActualizados","setDatosEnvio","traerCostosEnvio","crearPago","centavo","newPedido","datosPago","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","Politicas","lineHeight","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","precioProducto","precioSugerencia","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","disponibilidadSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","productoPrecio","sugerenciaPrecio","showConfirm","IssuesCloseOutlined","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","imageClassName","enlargedImageContainerClassName","enlargedImageClassName","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","zoomHeight","setZoomHeight","zoomWidth","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","setDatosUser","modalMensaje","WhatsAppOutlined","obtenerTienda","TagsOutlined","BellOutlined","Carrito","readMore","setReadMore","setCostoEnvio","OnClickReadMore","CreditCardOutlined","BusquedaCategorias","resultado","setResultado","separator","Error404","FormResetPass","mostrarError","Content","minHeight","AdminHome","RegistrarProductos","Pedidos","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","bannerBD","setBannerBD","setBannerSeleccionado","obtenerBannersBD","actualizarChecks","checkName","checkValue","eliminarBanner","ListaBanners","ThunderboltOutlined","idRecuperacion","setmostrarError","acceso","setAcceso","cambiarEstadoPass","confirmPassword","Entrar","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setPedidoCompleto","avatar_productos","nombre_productos","App","RoutesWithSubRoutes","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.218331a3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = (props) => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesin\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sidebar);\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/')\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive, loading, setLoading}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import axios from 'axios'\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : process.env.REACT_APP_AXIOS\r\n})\r\n\r\n\r\nexport default clienteAxios","import 'dotenv';\r\n\r\nconst aws = process.env.REACT_APP_AWS;\r\n\r\nexport default aws","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-general\">\r\n\t\t\t<Menu.Item key=\"/\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tQuines somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tMis pedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesin\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesin\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar, Spin } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { MenuOutlined, ShoppingCartOutlined, SettingOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ carrito, setCarrito ] = useState(0);\r\n\tconst [ ofertas, setOfertas ] = useState([]);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetActive(true);\r\n\t\t\tobtenerOfertas();\r\n\t\t\tobtenerQuienesSomos();\r\n\t\t\tif (token) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ token, active ]\r\n\t);\r\n\r\n\tasync function obtenerCarrito() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetCarrito(carrito.length);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetCarrito(0);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerQuienesSomos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/tienda')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((datos) => {\r\n\t\t\t\t\tsetTienda(datos);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\tasync function obtenerOfertas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOfertas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando la tienda...\" className=\"spiner\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout navbar-menu-general a0\">\r\n\t\t\t<Header className=\"navbar-menu-general a1\">\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3\">\r\n\t\t\t\t\t\t<div className=\"col-lg-4 row-logo-search\">\r\n\t\t\t\t\t\t\t<div className=\"row row-logo-search-2\">\r\n\t\t\t\t\t\t\t\t{!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Qu ests buscando?\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"search-navbar\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-8 nav-menu-enlaces a4 \">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right navbar-menu-general a5\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineIndent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Inicio</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/productos\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Productos</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{ofertas.length ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/ofertas\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Ofertas</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Blog</div>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Quines somos</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Mis compras</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >\r\n\t\t\t\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 25 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen} />\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesin\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={aws + decoded.imagen}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\" a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger centrar-nav\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesin\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"centrar-nav\" >Entrar</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"top-menu-responsive\">\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t<MenuOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"mx-4\">\r\n\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined className=\"menu-responsivo-icon\" style={{ fontSize: 28 }} />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"drawer-background\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RightMenu ofertas={ofertas} tienda={tienda} />\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport clienteAxios from '../../config/axios';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\tconst [ generos, setGeneros ] = useState([{_id: 'Todos'}]);\r\n/* \tconst [ loading, setLoading ] = useState(false); */\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\r\n\tconst [ categoriaSeleccionada, setCategoriaSeleccionada, ] = useState('');\r\n\tconst [ subcategoriaSeleccionada, setSubcategoriaSeleccionada, ] = useState('');\r\n\tconst [ generoSeleccionado, setGeneroSeleccionado ] = useState('');\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t}, []);\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGeneros([...generos, ...res.data]);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tif(!generos || !categorias){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_nav = categorias.map((categoria) => {\r\n\t\treturn (\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\"\r\n\t\t\t\tonTitleClick={(e) => {\r\n\t\t\t\t\tif(e.key === categoria.categoria){\r\n\t\t\t\t\t\tprops.history.push(`/categorias/${categoria.categoria}`);\r\n\t\t\t\t\t\tsetCategoriaSeleccionada(categoria.categoria);\r\n\t\t\t\t\t\tsetSubcategoriaSeleccionada();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}}\r\n\r\n\t\t\t>\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t/* className=\"nav-font-color-categorias\" */\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tprops.history.push(`/categorias/${categoriaSeleccionada}/${sub._id}`);\r\n\t\t\t\t\t\t\t\tsetSubcategoriaSeleccionada(sub._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t);\r\n\t});\r\n\r\n\tconst categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\t/* className=\"nav-font-color-categorias \" */\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tif(!categoriaSeleccionada && !subcategoriaSeleccionada ){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${generos._id}`)\r\n\t\t\t\t\t}else if(categoriaSeleccionada && !subcategoriaSeleccionada){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${categoriaSeleccionada}/${generos._id}`)\r\n\t\t\t\t\t}else if(categoriaSeleccionada && subcategoriaSeleccionada){\r\n\t\t\t\t\t\tprops.history.push(`/categoria/${categoriaSeleccionada}/${subcategoriaSeleccionada}/${generos._id}`)\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\t\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline size-layout-cat\">\r\n\t\t\t{/* <Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} /> */}\r\n\t\t\t<Menu\r\n\t\t\t\tclassName=\"categorias-navbar d-inline size-menu-cat\"\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\ttriggerSubMenuAction=\"click\"\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t\t{generos.length !== 0 ? (\r\n\t\t\t\t\t<SubMenu title=\"Gnero\" className=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\">\r\n\t\t\t\t\t\t{categorias_generos}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../config/axios';\r\nimport { Link } from 'react-router-dom';\r\nimport {  Button,  Layout} from 'antd';\r\n\r\nimport {FacebookFilled, InstagramFilled, TwitterCircleFilled, UserOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport './footer.scss';\r\nimport '../../scss/variables.scss'\r\n\r\n const { Footer } = Layout;\r\nconst Style = {fontSize:15};\r\n\r\n\r\n\r\nconst FooterPage = () => {\r\n\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n    const [imagenCorp, setImagenCorp] = useState('')\r\n    const [nombreCorp, setNombreCorp] = useState('')\r\n    const [politicas, setPoliticas] = useState('')\r\n    const [telefono, setTelefono] = useState('')\r\n    const [accion, setAccion] = useState(false)\r\n\r\n    \r\n\r\n    function peticionRedes(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                if(res.data[0]){\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                    setNombreCorp(res.data[0].nombre)\r\n                    setPoliticas(res.data[0].politicas)\r\n                    setTelefono(res.data[0].telefono)\r\n                    if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                        setFace(res.data[0].linkFace);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                        setInsta(res.data[0].linkInsta);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                        setTwitter(res.data[0].linkTweeter);\r\n                        setAccion(true);\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n               \r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        peticionRedes();\r\n        setAccion(false)\r\n    }, []);\r\n    \r\n\r\n\r\n\r\n    return(\r\n       \r\n         <Layout className=\"layout\">\r\n             <Footer className=\"bg-footer\" >\r\n                <div end=\"xs\" id=\"foot\"  className=\"row footer-font-color\">  \r\n                    <div className=\"col-lg-9 text-lg-left text-center footer-font-color\">\r\n                        <div className=\"footer-border footer-font-color\">\r\n                            {imagenCorp !== '' ? (\r\n                                <Link  to=\"/quienes_somos\" >\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><UserOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Concenos\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n\r\n                            {politicas !== '' ? (\r\n                                <Link  to=\"/politicas\">\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><KeyOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Aviso de Privacidad\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n                        </div>\r\n\r\n                        <div className=\"mt-2 p-3 font-color-footer\">\r\n                            <h2 className=\"footer-font-color\" style={{fontSize: 18}} >{nombreCorp !== '' ? nombreCorp : \"\"}</h2>\r\n                            {telefono !== '' ? (<p className=\"footer-font-color\">Telfono: {telefono} </p>): \"\"}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-3 p-3\" style={{textAlign:\"center\"}}>\r\n                        {accion ? (<p style={{fontSize: 30, }}>Buscanos en:</p>):\"\"}\r\n                        \r\n\r\n                        {face !== '' ? \r\n                            (\r\n                            <a href={face} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <FacebookFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        \r\n                        }\r\n                        {insta !== '' ? \r\n                            (\r\n                            <a href={insta} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <InstagramFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                        {twitter !== '' ? \r\n                            (\r\n                            <a href={twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <TwitterCircleFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n             {/* <p style={{textAlign:\"center\"}}>Ant Design 2018 Created by Ant UED</p> */}\r\n             </Footer>\r\n         </Layout>\r\n    )\r\n}\r\n\r\nexport default FooterPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport { MenuProvider } from '../../context/carritoContext';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\nimport Categorias from '../Categorias/Categorias';\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"cuerpo bg-layout\">\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<MenuProvider>\r\n\t\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t\t<Content style={{ height: 'auto' }} className=\"bg-layout\">\r\n\t\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t</MenuProvider>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer className=\"foot\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function Geolocalizacion({\r\n\theight,\r\n\twidth,\r\n\tcenter,\r\n\ttitleLayer,\r\n\tzoom,\r\n\tapikey,\r\n\tnombreMarcador,\r\n\ttituloheader,\r\n\tdraggable\r\n}) {\r\n\tuseEffect(() => {\r\n\t\t//api key\r\n\t\twindow.L.mapquest.key = apikey;\r\n\r\n\t\tvar container = window.L.DomUtil.get('map');\r\n\t\tif (container != null) {\r\n\t\t\tcontainer._leaflet_id = null;\r\n\t\t}\r\n\r\n\t\t//inicializar el map\r\n\t\tconst map = window.L.mapquest.map('map', {\r\n\t\t\tcenter,\r\n\t\t\tlayers: window.L.mapquest.tileLayer(titleLayer),\r\n\t\t\tzoom\r\n\t\t});\r\n\r\n          window.L.marker(center, {\r\n            icon: window.L.mapquest.icons.marker(),\r\n            draggable: false\r\n          }).bindPopup(nombreMarcador).addTo(map);\r\n\r\n          map.addControl(window.L.mapquest.control());\r\n    })\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{tituloheader ? (\r\n\t\t\t\t<div className=\"principal-productos\">\r\n\t\t\t\t\tENCUENTRA NUESTRA TIENDA\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div id=\"map\" style={{ height, width }} className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"spinner-border display-3\" style={{ width: '10rem', height: '10rem' }} role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Spin } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default function Spinner(props){\r\n    return <Spin className=\"spiner\" size=\"large\" spinning={props.spinning}>{props.children}</Spin>\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst { datosNegocio, setReloadInfo } = props;\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Divider className=\"mt-5\">Politicas de envo</Divider>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las polticas de envi sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envo\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envo de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promocin de envo\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promocin de envo a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envo de la promocin\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envo' : 'Actualizar politicas de envo'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Upload, notification, Alert } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport PoliticasEnvio from './politicas_envio';\r\nimport aws from '../../../../../config/aws';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faMapMarkedAlt } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\nexport default function RegistroTienda(props) {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst { datosNegocio, token, setLoading, setReloadInfo } = props;\r\n\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState('');\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosNegocio !== undefined) {\r\n\t\t\t\tsetImagen(datosNegocio.imagenLogo);\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lat = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lng = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkFace === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkFace = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkInsta === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkInsta = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkTweeter === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkTweeter = '';\r\n\t\t\t\t}\r\n\t\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetControl(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({});\r\n\t\t\t\tsetControl(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\r\n\tconst capturarImagenCorpEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, imagenCorp: content });\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst SendForm = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('telefono', datos.telefono);\r\n\t\tformData.append('calle_numero', datos.calle_numero);\r\n\t\tformData.append('cp', datos.cp);\r\n\t\tformData.append('colonia', datos.colonia);\r\n\t\tformData.append('ciudad', datos.ciudad);\r\n\t\tformData.append('estado', datos.estado);\r\n\t\tformData.append('lat', datos.lat);\r\n\t\tformData.append('lng', datos.lng);\r\n\t\tformData.append('politicas', datos.politicas);\r\n\t\tformData.append('imagenCorp', datos.imagenCorp);\r\n\t\tformData.append('linkFace', datos.linkFace);\r\n\t\tformData.append('linkInsta', datos.linkInsta);\r\n\t\tformData.append('linkTweeter', datos.linkTweeter);\r\n\r\n\t\tif (control === false) {\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/tienda/', formData, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (files.length !== 0) {\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/tienda/${datosNegocio._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form onFinish={SendForm} form={form} onFinishFailed={onError}>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Divider>Logo del negocio</Divider>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamao recomendado para la imagen es: 900x300px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"m-auto\">\r\n\t\t\t\t\t\t\t<Form.Item label=\"Logo\">\r\n\t\t\t\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t{control === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-center\">Imagen actual:</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Informacin de la tienda</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Nombre\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, nombre: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Telefono \"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, telefono: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"Telefono\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Calle\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, calle_numero: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Cdigo Postal \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Cdigo Postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Colonia \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, colonia: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row mt-3 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Ciudad\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, ciudad: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Estado\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, estado: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Divider>Ubicacin</Divider>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<div className=\"col-lg-12 text-center\">\r\n\t\t\t\t\t\t\t<a href=\"https://www.google.com.mx/maps/preview\" target=\"_blank\"\r\n\t\t\t\t\t\t\t\tstyle={{fontSize: 16}}>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tIr a Google Maps\r\n\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faMapMarkedAlt} style={{marginLeft:15, fontSize: '20px' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Latitud \"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lat: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Latitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lat\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lat\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Longitud\"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lng: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Longitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lng\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lng\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Redes sociales</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Facebook \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkFace: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkFace\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkFace\" placeholder=\"https://facebook.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkInsta: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkInsta\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkInsta\" placeholder=\"https://instagram.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Tweeter\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkTweeter: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkTweeter\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkTweeter\" placeholder=\"https://twitter.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Informacin de Polticas de la empresa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Politicas de privacidad obligatorias' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Imagen corporativa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle */\r\n\t\t\t\t\t\t\t\tname=\"imagenCorp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarImagenCorpEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar informacion de la tienda' : 'Actualizar informacin de la tienda'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t\t<PoliticasEnvio datosNegocio={datosNegocio} setReloadInfo={setReloadInfo} drawnerClose ={drawnerClose}/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Geolocalizacion from '../../../../users/geolocalizacion';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\tconst [ lat, setLat ] = useState('');\r\n\tconst [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t}\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetLat('19.767980');\r\n\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la informacin del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la informacin del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\t/* drawnerClose ={drawnerClose} */\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsetReloadInfo={setReloadInfo}\r\n\t\t\t\t\tdrawnerClose={drawnerClose}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t/* drawnerClose={drawnerClose} */\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar informacin tienda' : 'Editar informacin tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey an no agregas la informacin de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Informacin de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws+datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTelfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Telfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCdigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Cdigo Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicacin actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Polticas de envo</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"An no hay informacin\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envo de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromocin de envo: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envo: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Polticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"An no hay informacin\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Informacin existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"An no hay informacin\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Informacin existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la informacin de tu negocio es importante, ya que esta informacion ayudar que tu\r\n\t\t\t\tnegocio sea encontrado fcilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\n\r\nfunction Admin(props) {\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Ests seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualizacin de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrs registrar tallas despus de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar nmero de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrs registrar el nmero de calzado despus de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([ 'Ropa', 'Calzado' ]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([ 'Ropa', 'Calzado' ]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: '',\r\n\t\tcolor: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('Ninguno');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelect(value);\r\n\t\tif (value === 'Calzado' || value === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, item ]);\r\n\t\tsetSelect(item);\r\n\t\tsetTipoCategoria('Otros');\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t\tsetValueSelectSubCat(value);\r\n\t\tform.setFieldsValue({ subCategoria: value });\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categora',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar</h2>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select, genero: 'Ninguno' }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Cdigo de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Gnero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\"/* \r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un gnero\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Nio\">Nio</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Nia\">Nia</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input min=\"1\" type=\"number\" disabled={disabledformProductos} name=\"precio\" step=\".01\" />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]} */\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripcin del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamao recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{select === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{select === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galera(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega ms imgenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar ms imgenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamao recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Ests seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamao recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualizacin de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectCat, setValueSelectCat ] = useState();\r\n\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([]);\r\n\tconst [ itemCat, setItemCat ] = useState();\r\n\t/* const [ buttonCat, setButtonCat ] = useState(true); */\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: '', \r\n\t\t\tcolor: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\t/* obtenerDatos(); */\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ productoID, reload, form /* , select */ ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ select ]\r\n\t);\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\tcategoria: res.data.categoria,\r\n\t\t\t\t\tsubCategoria: res.data.subCategoria,\r\n\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t});\r\n\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItemCat(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst addItemCategoria = () => {\r\n\t\tif (itemCat === 'Ropa' || itemCat === 'Calzado') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Categoria no valida',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ categoria: itemCat });\r\n\t\t\tsetValueSelectCat(itemCat);\r\n\t\t\tsetCategoriasDefault([ ...categoriasDefault, itemCat ]);\r\n\t\t\tsetSelect(itemCat);\r\n\r\n\t\t\t/* reset subcategoria */\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetSubCategoria([]);\r\n\t\t\tform.resetFields([ 'subCategoria' ]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelectCat(value);\r\n\r\n\t\t/* reset subcategoria */\r\n\t\tsetValueSelect();\r\n\t\tsetSubCategoria([]);\r\n\t\tform.resetFields([ 'subCategoria' ]);\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tform.setFieldsValue({ subCategoria: item });\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value);\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', select);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\t/* for (var pair of formData.entries()) {\r\n\t\t\tconsole.log(pair[0]+ ', ' + pair[1]); \r\n\t\t} */\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.categoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.categoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Cdigo de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\tvalue={valueSelectCat}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Gnero\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona gnero\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Ninguno\">Ninguno</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Nio\">Nio</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Nia\">Nia</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripcin del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamao recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws + files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galera de imgenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","/* import { parse } from \"dotenv/types\";\r\n */\r\n\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tlet nueva;\r\n\t\tif (number % 1 == 0) {\r\n\t\t\tnueva = number;\r\n\t\t} else {\r\n\t\t\tnueva = parseFloat(number).toFixed(2);\r\n\t\t}\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn  nueva.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'short', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('en-US', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Col, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\t\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Ests seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button> ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envo:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envo:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Entregado' ? '#5cb85c' : pedido.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\" key={direccion._id}>\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Direccin:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cdigo de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artculo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categora:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Nmero de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined, UserOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\r\n\tconst {handleCancelEstado} = props;\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ entregado, setEntregado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\thandleCancelEstado();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tif(e.key === \"Entregado\"){\r\n\t\t\tsetEntregado(true);\r\n\t\t\tsetDatos({estado_pedido: e.key});\r\n\t\t\tsetPedido({estado_pedido: e.key});\r\n\t\t}else{\r\n\t\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\testado_pedido: e.key\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\testado_pedido: e.key\r\n\t\t});\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\">\r\n\t\t\t\tEnviado\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Entregado\">\r\n\t\t\t\tEntregado\r\n\t\t\t</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Entregado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la informacin de envo.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea disabled={entregado} rows={4} name=\"mensaje_admin\" placeholder=\"Mensaje para el usuario\" onChange={onChange} />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculacin:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetera:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Cdigo de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input disabled={entregado} name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\" /* onClose={true} */>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag, Button } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'entregados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Entregado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos fecha-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envo:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Entregado' ? '#5cb85c' : pedidos.estado_pedido === 'Enviado' ? '#0088ff' : '#ffc401'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya estn\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"entregados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEntregados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido}  />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} handleCancelEstado={handleCancelEstado} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.map((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"mt-3 row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromocin activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\" my-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promocion individual por producto\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{content === false ? (\r\n\t\t\t\t\t\t<h3>Selecciona un productos que quieres aplicarle una promocin</h3>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3>{producto.nombre}</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{inputValue}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\t//tooltipVisible\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\thelp=\"La promocin no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tGuardar promocin\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\t\tSube una imagen para la promocin, esta imagen aparecer en el carrucel de\r\n\t\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tmessage=\"Tamao recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../../contexts/ProductoContext';\r\nimport { formatoMexico } from '../../../../../config/reuserFunction';\r\nimport aws from '../../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promocin no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promocin, recuerda que esta imagen aparecer en el carrucel de\r\n\t\t\t\t\t\t\t\tpromocines\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamao recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport '../promociones.scss';\r\nimport '../registrar_promocion.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction PromocionesNormales(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<Row justify=\"center mt-2\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promocin' : 'Registrar nueva promocin'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 30 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose} >\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} drawnerClose={drawnerClose}/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(PromocionesNormales);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tDrawer,\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tTable,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tTag\r\n} from 'antd';\r\nimport { ClearOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Option } = Select;\r\n\r\nexport default function RegistroPromocionMasiva(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reloadData, setReloadData ] = useState(true);\r\n\tconst [ dataPromocion, setDataPromocion ] = useState([]);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst [ actualizar, setActualizar ] = props.actualizar;\r\n\tconst { promoMasiva } = props;\r\n\tconst [ checkall, setCheckAll ] = useState(false);\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t\tobtenerProductos();\r\n\t};\r\n\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t\tlimpiar();\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetReloadData(!reloadData);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetInputValue(0);\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t\tsetReloadData(!reloadData);\r\n\t\tsetActualizar(false);\r\n\t};\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/sinPaginacion`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => setInputValue(value);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetReloadData(!reloadData);\r\n\t\t} else {\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\r\n\t\t\t\tif(actualizar){\r\n\t\t\t\t\tconst checks = [];\r\n\t\t\t\t\tconst data = [];\r\n\t\t\t\t\tconst listaBD = [];\r\n\t\t\t\t\tres.data.posts.forEach((res) => {\r\n\t\t\t\t\t\tpromoMasiva.forEach((promo) => {\r\n\t\t\t\t\t\t\tif(res._id === promo.productoPromocion._id){\r\n\t\t\t\t\t\t\t\tchecks.push(res._id)\r\n\t\t\t\t\t\t\t\tdata.push(res);\r\n\t\t\t\t\t\t\t\tlistaBD.push({ idProducto: res._id })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetSelectedRowKeys(checks);\r\n\t\t\t\t\tsetDataPromocion(data); \r\n\t\t\t\t\tsetPromocionMasiva(listaBD);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tlimpiarChecks()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.map((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\t/* Checklist */\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Imagen',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\trender: (imagen) => <Avatar src={aws + imagen} />\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre'\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Promocin',\r\n\t\t\tdataIndex: 'promocion',\r\n\t\t\trender: (promocion) =>\r\n\t\t\t\tpromocion && promocion.length !== 0 ? <Tag color=\"green\">activa</Tag> : <div className=\"d-none\" />\r\n\t\t}\r\n\t];\r\n\tconst [ promocionMasiva, setPromocionMasiva ] = useState([]);\r\n\tconst [ selectedRowKeys, setSelectedRowKeys ] = useState([]);\r\n\tconst hasSelected = selectedRowKeys.length > 0;\r\n\r\n\tconst onSelectChange = (selectedRowKeys) => {\r\n\t\tsetSelectedRowKeys(selectedRowKeys);\r\n\t\tconst listaIDs = selectedRowKeys.map((res) => {\r\n\t\t\treturn { idProducto: res };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t};\r\n\r\n\tconst rowSelection = {\r\n\t\tselectedRowKeys,\r\n\t\tonChange: onSelectChange,\r\n\t\tgetCheckboxProps: (producto) => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled:\r\n\t\t\t\t\t\tproducto.promocion &&\r\n\t\t\t\t\t\tproducto.promocion.length !== 0 &&\r\n\t\t\t\t\t\tproducto.promocion[0].idPromocionMasiva !== promoMasiva[0].idPromocionMasiva, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdisabled: producto.promocion && producto.promocion.length !== 0, // Column configuration not to be checked\r\n\t\t\t\t\tname: producto.nombre\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t},\r\n\t\tonSelectAll: (selected, selectedRows) => {\r\n\t\t\tsetDataPromocion(selectedRows);\r\n\t\t}\r\n\t};\r\n\t/* Checklist fin */\r\n\r\n\t/* Actualizar datos */\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (actualizar) {\r\n\t\t\t\tcheckearChecks();\r\n\t\t\t}\r\n\t\t\tif(visible){\r\n\t\t\t\tshowDrawer();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ actualizar, promoMasiva ]\r\n\t);\r\n\r\n\tconst limpiarChecks = () => {\r\n\t\tsetSelectedRowKeys([]);\r\n\t\tsetDataPromocion([]);\r\n\t\tsetPromocionMasiva([]);\r\n\t}\r\n\r\n\tconst checkearChecks = () => {\r\n\t\tsetInputValue(parseInt(promoMasiva[0].porsentajePromocionMasiva));\r\n\t\tconst listaPromosActuales = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion._id;\r\n\t\t});\r\n\t\tsetSelectedRowKeys(listaPromosActuales);\r\n\r\n\t\tconst listaIDs = promoMasiva.map((res) => {\r\n\t\t\treturn { idProducto: res.productoPromocion._id };\r\n\t\t});\r\n\t\tsetPromocionMasiva(listaIDs);\r\n\t\tconst listaPromosData = promoMasiva.map((producto) => {\r\n\t\t\treturn producto.productoPromocion;\r\n\t\t});\r\n\t\tsetDataPromocion(listaPromosData);\r\n\t};\r\n\t/* Actualizar datos */\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tconst listaPromociones = {\r\n\t\t\tproductos: promocionMasiva,\r\n\t\t\tdescuento: inputValue\r\n\t\t};\r\n\t\tsetLoading(true);\r\n\t\tif (actualizar) {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/promocion/masiva/${promoMasiva[0].idPromocionMasiva}`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/promocion/masiva/`, listaPromociones, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\tlimpiar();\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-end\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={showDrawer}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<PlusOutlined /> Nueva promocin masiva\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"Crear promocin masiva\"\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tonClose={onClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={onClose} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tdisabled={inputValue > 0 && selectedRowKeys.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\tonClick={subirPromocion}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tGuardar promocin masiva\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"row d-flex\">\r\n\t\t\t\t\t\t<div className=\"order-1 order-lg-0  col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\" mt-2 row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t\t\t<ClearOutlined\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={limpiarFiltros}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"tabla-promociones\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span style={{ marginLeft: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{hasSelected ? `Selected ${selectedRowKeys.length} items` : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Table\r\n\t\t\t\t\t\t\t\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\t\t\t\t\t\t\t\trowSelection={rowSelection}\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\t\tpagination={false}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"order-0 order-lg-1 col-12 col-lg-6\">\r\n\t\t\t\t\t\t\t<div className=\" mt-2 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\tmessage=\"En este apartado puedes agregar promociones masivas, por categoria elegida\"\r\n\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t\t\t\t\t\t{dataPromocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{dataPromocion.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<h3>Selecciona los productos que quieres aplicarles una promocin</h3>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box porcentaje-descuento d-inline text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 25 }}> {inputValue} %OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Drawer>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Space, Button, Avatar, notification, Result, Spin, Modal, List } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\nimport RegistroPromocionMasiva from './registrar_promocion_masiva';\r\n\r\nconst { confirm } = Modal;\r\n\r\nconst PromoMasivaPrincipal = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ promo, setPromo ] = useState([]);\r\n\r\n\tconst obtenerPromosMasivas = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/promocion/masiva')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetData(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarPromocionMasiva = async (idPromoMasiva) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`promocion/masiva/${idPromoMasiva}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idPromoMasiva) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocionMasiva(idPromoMasiva);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizarActive = (promo) => {\r\n\t\tsetActualizar(true);\r\n\t\tsetPromo(promo);\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPromosMasivas();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<RegistroPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\tvisible={[ visible, setVisible ]}\r\n\t\t\t\tpromoMasiva={promo}\r\n\t\t\t\tactualizar={[ actualizar, setActualizar ]}\r\n\t\t\t/>\r\n\t\t\t{/* <ActualizarPromocionMasiva\r\n\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\r\n\t\t\t/> */}\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => actualizarActive(item.productosPromoMasiva)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tshowDeleteConfirm(item.productosPromoMasiva[0].idPromocionMasiva);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\t\t\t\tmaxCount={5}\r\n\t\t\t\t\t\t\t\t\t\tsize={64}\r\n\t\t\t\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.productosPromoMasiva.map((res, index) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <Avatar key={index} src={aws + res.productoPromocion.imagen} />;\r\n\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<h3 style={{ color: '#22BB33' }}>{`${item.productosPromoMasiva[0]\r\n\t\t\t\t\t\t\t\t\t\t\t.porsentajePromocionMasiva}%`}</h3>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdescription={<h4>De descuento</h4>}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PromoMasivaPrincipal;\r\n","import React from 'react';\r\nimport { Tabs } from 'antd';\r\nimport PromocionesNormales from './promos_normales/promociones';\r\nimport PromoMasivaPrincipal from './promos_masivas/promo_masiva';\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nexport default function Promociones() {\r\n\treturn (\r\n\t\t<div className=\"card-container\">\r\n\t\t\t<div className=\"mb-4\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    SISTEMA DE PROMOCIONES\r\n                </p>\r\n                <p className=\"text-center\" style={{ fontSize: 15 }}>\r\n                    En este apartado puedes agregar ofertas especiales a tu producto y aparecer en la pgina principal\r\n                </p>\r\n            </div>\r\n\t\t\t<Tabs centered>\r\n\t\t\t\t<TabPane tab=\"Promociones individuales\" key=\"1\">\r\n\t\t\t\t\t<PromocionesNormales />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t<TabPane tab=\"Promociones masivas\" key=\"2\">\r\n\t\t\t\t\t<PromoMasivaPrincipal />\r\n\t\t\t\t</TabPane>\r\n\t\t\t\t{/* <TabPane tab=\"Promociones unitarias\" key=\"3\">\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t\t<p>Content of Tab Pane 3</p>\r\n\t\t\t\t</TabPane> */}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `Ests seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artculos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Col,Row,Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input,Card, Divider} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token');\r\n\r\n    let multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto,index) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} index={index} />;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n    }\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n        let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <div>\r\n                    <Divider orientation=\"left\">Datos del cliente</Divider>\r\n                   {/*  <p className=\"h4 font-weight-bold mb-4\">Datos Usuario</p> */}\r\n                    <div className=\"row detalle-apartados\">\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Nombre: </h6>\r\n                            <p>{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\"d-inline\">Telfono: </h6>\r\n                            <p>{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\"d-inline\">Calle: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Entre las calles: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\"d-inline\">Cdigo Postal: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                            <h6 className=\"d-inline\">Colonia: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-4\">\r\n                            <h6 className=\"d-inline\">Ciudad: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\"d-inline\">Estado: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\"d-inline\">Pas: </h6>\r\n                            {<p>{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </div>\r\n                    <Divider orientation=\"left\">Datos del producto</Divider>\r\n                    <div className=\"detalle-apartado__border m-2 mb-5\">\r\n                        {/* <p className=\"h4 font-weight-bold\">Datos producto</p> */}\r\n                        {detalleApartado.apartadoMultiple.length !== 0 ? (\r\n                            <div>\r\n                                <div className=\"row\">\r\n                                    {multiple}\r\n                                </div>\r\n                                <div className=\"mt-5\">\r\n                                    <h6 className=\"d-inline\" style={{fontSize: 24}}>Total:</h6>\r\n                                    <p className=\" data-info-pedidos\" style={{fontSize: 24}}>$ {formatoMexico(detalleApartado.total)}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        ):(\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Cdigo de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categora: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n                                                        <div>\r\n                                {/* <Divider orientation=\"left\">Estatus del pedido</Divider> */}\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                        </div>\r\n                        )}\r\n                    </div>\r\n                    <Divider>Estatus del pedido</Divider>\r\n                    <div className=\"m-2\">\r\n                        <div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artculos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"ENTREGADO\">Entregado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetera:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculacin:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Nmero de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n\r\nfunction ProductosMultiple({producto,info}){\r\n    return (\r\n        <div className=\"col-12 col-lg-4\">\r\n            <Link to={`/vista_producto/${producto._id}`}>\r\n            <Card\r\n                hoverable\r\n                style={{ width: 250 }}\r\n                cover={\r\n                    <div className=\"contenedor-imagen-detalle-apartado\">\r\n                        <img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n                    </div>\r\n                }\r\n            >\r\n                <Meta\r\n                    title={producto.nombre}\r\n                    description={\r\n                        <div className=\"row\">\r\n                            <h2 className=\"h5 precio-rebaja col-lg-12\">${formatoMexico(info.precio)}</h2>\r\n                            {info.medida ? info.medida.talla ? (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.talla}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Talla: {info.medida.numero}</h2>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                                \r\n                            ) : (\r\n                                <div>\r\n                                    <h2 className=\"h5 precio-rebaja col-lg-12\">Cantidad: {info.cantidad}</h2>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    }\r\n                />\r\n            </Card>\r\n        </Link>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport aws from '../../../../config/aws';\r\nimport { Card, Col, Tag, Modal, notification,Divider } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst MostrarDatosMultipleTargeta = (props) => {\r\n    const { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n    \r\n    const deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `Ests seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n    \r\n\treturn (\r\n            <Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n                <Card\r\n                    className=\"shadow-sm card-body-apartados\"\r\n                    actions={[\r\n                        <div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n                            <ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    setDetalleApartado(apartado);\r\n                                    showModal();\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Detalle del pedido\r\n                            </p>\r\n                        </div>,\r\n                        <div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n                            <DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n                            <p\r\n                                onClick={() => {\r\n                                    deleteApartado(apartado._id);\r\n                                }}\r\n                                className=\"d-inline\"\r\n                            >\r\n                                Eliminar\r\n                            </p>\r\n                        </div>\r\n                    ]}\r\n                >\r\n                    <Meta\r\n                        className=\"contenedor-card-apartados\"\r\n                        description={\r\n                            <div className=\"\">\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n                                    <p className=\"data-info-apartados\">{apartado._id}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n                                    <p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n                                    <p className=\"data-info-apartados\">\r\n                                        {`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={\r\n                                            apartado.estado === 'ACEPTADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'PROCESANDO' ? (\r\n                                                '#ffc401'\r\n                                            ) : apartado.estado === 'ENVIADO' ? (\r\n                                                '#0088ff'\r\n                                            ) : apartado.estado === 'ENTREGADO' ? (\r\n                                                '#5cb85c'\r\n                                            ) : (\r\n                                                '#F75048'\r\n                                            )\r\n                                        }\r\n                                    >\r\n                                        {apartado.estado}\r\n                                    </Tag>\r\n                                </div>\r\n\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n                                    <Tag\r\n                                        className=\"data-info-apartados\"\r\n                                        color={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n                                    >\r\n                                        {apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                                    </Tag>\r\n                                </div>\r\n                                <div className=\"sistema-apartado m-2\">\r\n                                    <h6 className=\"titulos-info-apartados\">Cantidad de artculos:</h6>\r\n                                    <p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </Card>\r\n            </Col>\r\n\t);\r\n};\r\n\r\n\r\n\r\nexport default MostrarDatosMultipleTargeta;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\nimport MostrarDatosMultiple from './services/MostrarDatosMultiplesTarjeta';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction obtenerDatos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatos(24, page);\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page, filter, estado ]\r\n\t);\r\n\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => apartado.apartadoMultiple.length ? (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosMultiple \r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t):(\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) )}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={800}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado\r\n\t\t\t\t\t\tdetalleApartado={detalleApartado}\r\n\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\tsetFilter={setFilter}\r\n\t\t\t\t\t\tsetVisible={setVisible}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioOtros(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tpage,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idSeleccionado, setIdSeleccionado ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetIdSeleccionado(producto);\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdSeleccionado('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cdigo',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} overflowCount={100000} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\twidth: 100,\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 230,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idSeleccionado ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idSeleccionado ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioOtros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioTallas(props) {\r\n\tconst { location, history, page, productos, productosRender, reload, setReload, loading, setLoading, token, limite } = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idTallaSeleccionada, setIdTallaSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ talla, setTalla ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerTallas = (producto, talla) => {\r\n\t\tsetTalla(talla);\r\n\t\tsetIdTallaSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: talla._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTalla([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdTallaSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cdigo',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (tallas, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((tallas) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttallas.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={talla._id === tallas._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerTallas(producto._id, tallas)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idTallaSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idTallaSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioTallas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Table, Tag, InputNumber, notification, Badge, Spin, Form, Button } from 'antd';\r\nimport { PlusOutlined, MinusOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\n\r\nfunction InventarioNumeros(props) {\r\n\tconst {\r\n\t\tlocation,\r\n\t\thistory,\r\n\t\tpage,\r\n\t\tproductos,\r\n\t\tproductosRender,\r\n\t\treload,\r\n\t\tsetReload,\r\n\t\tloading,\r\n\t\tsetLoading,\r\n\t\ttoken,\r\n\t\tlimite\r\n\t} = props;\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ cantidad, setCantidad ] = useState(0);\r\n\tconst [ idNumeroSeleccionada, setIdNumeroSeleccionada ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validate');\r\n\tconst [ numero, setNumero ] = useState([]);\r\n\r\n\tconst obtenerValor = (value, producto) => {\r\n\t\tif (!value) {\r\n\t\t\tsetCantidad(0);\r\n\t\t} else {\r\n\t\t\tsetCantidad(parseInt(value));\r\n\t\t}\r\n\t\tsetValidateStatus('validate');\r\n\t};\r\n\r\n\tconst obtenerNumero = (producto, numero) => {\r\n\t\tsetNumero(numero);\r\n\t\tsetIdNumeroSeleccionada(producto);\r\n\t\tsetValidateStatus('warning');\r\n\t\tform.resetFields();\r\n\t\tsetCantidad(0);\r\n\t};\r\n\r\n\tconst actualizarCantidad = async (producto, accion) => {\r\n\t\tif (cantidad <= 0 || cantidad === null) {\r\n\t\t\tnotification.warning({\r\n\t\t\t\tmessage: 'La cantidad no puede ir vacia',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/productos/inventario/${producto._id}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcantidad,\r\n\t\t\t\t\t\tmedida: numero._id,\r\n\t\t\t\t\t\taccion\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetNumero([]);\r\n\t\t\t\t\tsetValidateStatus('validate');\r\n\t\t\t\t\tform.resetFields([ producto._id ]);\r\n\t\t\t\t\tsetCantidad(0);\r\n\t\t\t\t\tsetIdNumeroSeleccionada('');\r\n\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Cdigo',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\twidth: 150,\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\twidth: 300,\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nmero y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\twidth: 500,\r\n\t\t\trender: (numeros, producto) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numeros) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\toverflowCount={100000}\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumeros.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype={numero._id === numeros._id ? 'primary' : 'default'}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => obtenerNumero(producto._id, numeros)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Agregar/Restar',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: '_id',\r\n\t\t\twidth: 250,\r\n\t\t\trender: (cantidad, producto) => (\r\n\t\t\t\t<Form className=\"d-flex\" form={form}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname={producto._id}\r\n\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\tvalidateStatus={producto._id === idNumeroSeleccionada ? validateStatus : 'validate'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\tmax={100000}\r\n\t\t\t\t\t\t\tonChange={(e) => obtenerValor(e, producto._id)}\r\n\t\t\t\t\t\t\tonClick={(e) => obtenerValor(e.target.value, producto._id)}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<div className=\"mx-1 d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'sumar')}\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<PlusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={producto._id === idNumeroSeleccionada ? false : true}\r\n\t\t\t\t\t\t\tonClick={() => actualizarCantidad(producto, 'restar')}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<MinusOutlined className=\"d-flex\" />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={limite} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(InventarioNumeros);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Input, notification, Row, Tabs } from 'antd';\r\nimport './inventario.scss';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\nimport InventarioOtros from './tablas_inventarios/inventario_otros';\r\nimport InventarioTallas from './tablas_inventarios/inventario_tallas';\r\nimport InventarioNumeros from './tablas_inventarios/inventario_numeros';\r\n\r\nconst { Search } = Input;\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst limite = 20;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\t/* const [ tipoCategoria, setTipoCategoria ] = useState(''); */\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tconst tipoCategoria = props.match.params.tipoCategoria;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page)\r\n\t\t},\r\n\t\t[ page, reload, props ]\r\n\t);\r\n\r\n\tconst obtenerCategorias = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/tipoCategorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length !== 0){\r\n\t\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\t\t/* obtenerProductos(res.data[0]._id, limite, page);  */ \r\n\t\t\t\t\t/* setTipoCategoria(res.data[0]._id); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${res.data[0]._id}`);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tobtenerProductos(tipoCategoria, limite, page);\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tconst otros = res.data.posts.filter((element) => element.tipoCategoria === tipoCategoria);\r\n\t\t\t\t\tsetProductosRender(otros);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\terror(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (tipoCategoria, limit, page) => {\r\n\t\t/* setTipoCategoria(tipoCategoria); */\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter/individuales?tipoCategoria=${tipoCategoria}&limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction error(err) {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tconst tabs = categorias.map((categorias) => {\r\n\t\tif (categorias._id === 'Otros') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioOtros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Ropa') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario tallas\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioTallas\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t} else if (categorias._id === 'Calzado') {\r\n\t\t\treturn (\r\n\t\t\t\t<TabPane tab=\"Inventario calzado\" key={categorias._id}>\r\n\t\t\t\t\t<InventarioNumeros\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tproductos={productos}\r\n\t\t\t\t\t\tproductosRender={productosRender}\r\n\t\t\t\t\t\treload={reload}\r\n\t\t\t\t\t\tsetReload={setReload}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tpage={page}\r\n\t\t\t\t\t\tlimite={limite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</TabPane>\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tconst searchBar = (\r\n\t\t<div className=\"row mw-100 search-container\">\r\n\t\t\t<Search\r\n\t\t\t\tclassName=\"col-lg-7 search-width px-0\"\r\n\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\tstyle={{ height: 40, marginBottom: 10, width: 400 }}\r\n\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"col-lg-5 pl-0 pr-4\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Row justify=\"center\" className=\"search-container-responsive\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[ reload, setReload ]} />\r\n\t\t\t</Row>\r\n\t\t\t<Tabs\r\n\t\t\t\ttabBarExtraContent={searchBar}\r\n\t\t\t\tonChange={(tipoCategoria) => {\r\n\t\t\t\t\t/* obtenerProductos(tipoCategoria, limite, page); */\r\n\t\t\t\t\tprops.history.push(`/admin/inventario/${tipoCategoria}`)\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{tabs}\r\n\t\t\t</Tabs>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst {drawnerClose} = props;\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Ests seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tdrawnerClose();\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\tQue esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecern en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search/admin?codigo=${busqueda}&nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t{/* <Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button> */}\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia drawnerClose={drawnerClose}/>\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vaco',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y despus una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vaco' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamao recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"upload-text-display d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tBanner principal\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta seccin puedes subir una imagen al banner en la pagina principal.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamao recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Alert, Form, Modal, Select, Checkbox, message } from 'antd';\r\nimport { PlusOutlined, PlusCircleOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\nconst { Option } = Select;\r\nconst { confirm } = Modal;\r\n\r\nfunction getBase64(file) {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.readAsDataURL(file);\r\n\t\treader.onload = () => resolve(reader.result);\r\n\t\treader.onerror = (error) => reject(error);\r\n\t});\r\n}\r\n\r\nfunction RegistroPublicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\tconst { bannerSeleccionado } = props;\r\n\tconst [ control, setControl ] = props.control;\r\n\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState('');\r\n\tconst [ vincular, setVincular ] = useState(false);\r\n\tconst [ mostrarProductos, setMostrarProductos ] = useState(false);\r\n\tconst [ mostrarTitulo, setMostrarTitulo ] = useState(false);\r\n\tconst [ disabledCheck, setDisabledCheck ] = useState(true);\r\n\r\n\t/* UPLOAD ANTD */\r\n\tconst [ visible, setVisible ] = props.modalVisible;\r\n\tconst [ previewVisible, setPreviewVisible ] = useState(false);\r\n\tconst [ previewImage, setPreviewImage ] = useState('');\r\n\tconst [ previewTitle, setPreviewTitle ] = useState('');\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tconst handleCancel = () => setPreviewVisible(false);\r\n\tconst uploadProps = {\r\n\t\tfileList: fileList,\r\n\t\tlistType: 'picture-card',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg') {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Formato de imagen no vlido',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetDisabled(true);\r\n\t\t},\r\n\t\tonChange: ({ fileList, file }) => {\r\n\t\t\tif (fileList.length !== 0) {\r\n\t\t\t\tsetImagen(file);\r\n\t\t\t} else {\r\n\t\t\t\tsetImagen('');\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tform.resetFields([ 'imagen' ]);\r\n\t\t\t}\r\n\t\t\tsetFileList(fileList);\r\n\t\t},\r\n\t\tonRemove: () => {\r\n\t\t\tshowDeleteConfirm();\r\n\t\t},\r\n\t\tonPreview: async (file) => {\r\n\t\t\tif (!file.url && !file.preview) {\r\n\t\t\t\tfile.preview = await getBase64(file.originFileObj);\r\n\t\t\t}\r\n\t\t\tsetPreviewImage(file.url || file.preview);\r\n\t\t\tsetPreviewVisible(true);\r\n\t\t\tsetPreviewTitle(file.name || file.url.substring(file.url.lastIndexOf('/') + 1));\r\n\t\t}\r\n\t};\r\n\t/* UPLOAD ANTD */\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetVisible(false);\r\n\t\tlimpiarCampos();\r\n\t\tsetReload(!reload);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetDisabledCheck(false);\r\n\t\tsetCategoria(categoria);\r\n\t};\r\n\tconst onChangeVincular = (e) => setVincular(e.target.checked);\r\n\tconst onChangeMostrar = (e) => setMostrarProductos(e.target.checked);\r\n\tconst onChangeTitulo = (e) => setMostrarTitulo(e.target.checked);\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (!categoria && !imagen) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Selecciona uno',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!imagen && categoria && mostrarProductos === false) {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'si una categoria esta seleccionada, \"mostrar productos\" es obligatorio',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconst formData = new FormData();\r\n\t\t\t\tif (imagen.length !== 0) {\r\n\t\t\t\t\tformData.append('imagen', imagen);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tformData.append('imagenBanner', \"\");\r\n\t\t\t\t}\r\n\t\t\t\tformData.append('categoria', categoria);\r\n\t\t\t\tformData.append('vincularCategoria', vincular);\r\n\t\t\t\tformData.append('mostrarProductos', mostrarProductos);\r\n\t\t\t\tformData.append('mostrarTitulo', mostrarTitulo);\r\n\r\n\t\t\t\tif (control) {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.put(`/banner/${bannerSeleccionado._id}`, formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tcloseModalCrear();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/banner/', formData, {\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tlimpiarCampos();\r\n\t\t\t\t\t\t\tcloseModalCrear();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tawait clienteAxios\r\n\t\t.delete(`/banner/imagen/${bannerSeleccionado._id}`, {\r\n\t\t\theaders: {\r\n\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\tmessage.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tsetLoading(false);\r\n\t\t\terrors(err);\r\n\t\t});\r\n\t}\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Quieres eliminar la imagen?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst llenarCampos = useCallback(\r\n\t\t() => {\r\n\t\t\tif (bannerSeleccionado.imagenBanner || bannerSeleccionado.imagenBanner !== '') {\r\n\t\t\t\tsetImagen(bannerSeleccionado.imagenBanner);\r\n\t\t\t\tsetFileList([\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuid: '-1',\r\n\t\t\t\t\t\tname: 'imagen actual',\r\n\t\t\t\t\t\tstatus: 'done',\r\n\t\t\t\t\t\turl: aws + bannerSeleccionado.imagenBanner\r\n\t\t\t\t\t}\r\n\t\t\t\t]);\r\n\t\t\t} else {\r\n\t\t\t\tsetImagen('');\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t}\r\n\r\n\t\t\tform.setFieldsValue({\r\n\t\t\t\tcategoria: bannerSeleccionado.categoria\r\n\t\t\t});\r\n\t\t\tif (bannerSeleccionado.categoria.length === 0) {\r\n\t\t\t\tform.resetFields([ 'categoria' ]);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabledCheck(false);\r\n\t\t\t\tsetCategoria(bannerSeleccionado.categoria);\r\n\t\t\t}\r\n\t\t\tsetVincular(bannerSeleccionado.vincularCategoria);\r\n\t\t\tsetMostrarProductos(bannerSeleccionado.mostrarProductos);\r\n\t\t\tsetMostrarTitulo(bannerSeleccionado.mostrarTitulo);\r\n\t\t},\r\n\t\t[ form, bannerSeleccionado ]\r\n\t);\r\n\r\n\tconst limpiarCampos = () => {\r\n\t\tsetVincular(false);\r\n\t\tsetMostrarProductos(false);\r\n\t\tsetMostrarTitulo(false);\r\n\t\tsetDisabledCheck(true);\r\n\t\tsetImagen('');\r\n\t\tsetFileList([]);\r\n\t\tsetCategoria('');\r\n\t\tform.resetFields();\r\n\t\tsetControl(false);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCategorias();\r\n\t\t\tif (reload) {\r\n\t\t\t\tlimpiarCampos();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (control) {\r\n\t\t\t\tllenarCampos();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ control, llenarCampos ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t>\r\n\t\t\t\tNueva imagen de publicidad\r\n\t\t\t</Button>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\tforceRender={true}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\tmessage=\"Puedes subir solo una imagen para que aparezca de banner secundario o puedes configurar para que sea una seccin completa con productos y redirecciones\"\r\n\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<Form {...layout} form={form} hideRequiredMark onFinish={enviarDatos}>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Categoria\" name=\"categoria\">\r\n\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona una categoria\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{categoriasBD.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcategoriasBD.map((categoria) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={categoria.categoria} value={categoria.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{categoria.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen\" name=\"imagen\">\r\n\t\t\t\t\t\t\t\t\t<Upload {...uploadProps}>\r\n\t\t\t\t\t\t\t\t\t\t{fileList.length >= 1 ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: 8 }}>Upload</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={vincular}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeVincular}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tVincular Categoria\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={mostrarProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeMostrar}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMostrar Productos\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeTitulo}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledCheck}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tMostrar Titulo\r\n\t\t\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button htmlType=\"submit\" type=\"primary\" disabled={disabled}>\r\n\t\t\t\t\t\t\t\t\t\t\t{control ? 'Actualizar datos' : 'Crear banner'}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Modal\r\n\t\t\t\t\t\tforceRender\r\n\t\t\t\t\t\tvisible={previewVisible}\r\n\t\t\t\t\t\ttitle={previewTitle}\r\n\t\t\t\t\t\tfooter={null}\r\n\t\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\r\n\t\t\t\t\t</Modal>\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default RegistroPublicidad;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Space, Modal, List, notification, Spin, Checkbox, message, Alert } from 'antd';\r\nimport {\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tExclamationCircleOutlined,\r\n    PictureOutlined,\r\n    ThunderboltOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport RegistroPublicidad from './services/registro_publicidad';\r\nimport aws from '../../../config/aws';\r\nimport './publicidad.scss';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function Publicidad(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ bannerBD, setBannerBD ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ bannerSeleccionado, setBannerSeleccionado ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBannersBD();\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerBannersBD = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/banner/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBannerBD(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarChecks = async (e, banner) => {\r\n\t\tconst checkName = e.target.name;\r\n\t\tconst checkValue = e.target.checked;\r\n\t\tswitch (checkName) {\r\n\t\t\tcase 'vinculacion':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ vincularCategoria: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Vinculacin actualizada');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mostrarProductos':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ mostrarProductos: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Mostrar productos actualizado');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'mostrarTitulo':\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.put(\r\n\t\t\t\t\t\t`/banner/${banner}`,\r\n\t\t\t\t\t\t{ mostrarTitulo: checkValue },\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tmessage.success('Mostrar titulo actualizado');\r\n\t\t\t\t\t\tsetReload(!reload);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\terrors(err);\r\n\t\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t///ELIMINAR BANNER\r\n\tconst eliminarBanner = async (banner) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/banner/${banner}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\terrors(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(banner) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Quieres eliminar este banner?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBanner(banner);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst actualizar = (banner) => {\r\n\t\tsetVisible(true);\r\n\t\tsetControl(true);\r\n\t\tsetBannerSeleccionado(banner);\r\n    };\r\n\r\n\tconst errors = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst ListaBanners = (props) => {\r\n\t\tconst { banner } = props;\r\n\t\treturn (\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"list-publicidad\"\r\n\t\t\t\tkey={banner._id}\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<Space className=\"list-publicidad-botones\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => actualizar(banner)}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(banner._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\tclassName=\"list-publicidad-meta-container\"\r\n\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2 list-publicidad-imagen-container\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{banner.imagenBanner ? (\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + banner.imagenBanner}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<PictureOutlined style={{ color: '#CFCFCF', fontSize: 50 }} />\r\n\t\t\t\t\t\t\t\t\t<h6 style={{ color: '#CFCFCF' }}>No hay imagen</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t<div className=\"mt-4 titulo-producto list-publicidad-titulos-container\">\r\n\t\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t\t{banner.categoria ? banner.categoria : 'Sin categoria'}\r\n\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t<div className=\"list-publicidad-checks-container\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Vinculacin:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"vinculacion\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.vincularCategoria}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Mostrar productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"mostrarProductos\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.mostrarProductos}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-inline mr-4\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline mr-2 checktitle\">Mostrar titulo:</h6>\r\n\t\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"check-check\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={banner.categoria.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\tname=\"mostrarTitulo\"\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => actualizarChecks(e, banner._id)}\r\n\t\t\t\t\t\t\t\t\t\tchecked={banner.mostrarTitulo}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes subir una seccin completa con un banner y los productos de una categoria en\r\n\t\t\t\tespecial en la pagina principal.\r\n\t\t\t</p>\r\n            <div className=\"d-flex justify-content-center\">\r\n                <Alert showIcon icon={<ThunderboltOutlined style={{fontSize: 20}} />} message=\"Puedes editar mas rapido los checkbox con solo hacer clic sobre ellos!\" type=\"info\" />\r\n            </div>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3\">\r\n\t\t\t\t<RegistroPublicidad\r\n\t\t\t\t\treload={[ reload, setReload ]}\r\n\t\t\t\t\tmodalVisible={[ visible, setVisible ]}\r\n                    bannerSeleccionado={bannerSeleccionado}\r\n                    control={[ control, setControl ]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List dataSource={bannerBD} renderItem={(banner) => <ListaBanners banner={banner} />} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `Ests seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t Authorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualizacin exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamao recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un ttulo llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamao recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {Row, Button} from 'antd';\r\n\r\nimport ReactExport from \"react-export-excel\";//LIBRERIA EXCEL\r\nimport { withRouter } from 'react-router-dom';\r\nconst ExcelFile = ReactExport.ExcelFile;//ARCHIVO DE EXCEL\r\nconst ExcelSheet = ReactExport.ExcelSheet;//HOJA DE EXCEL\r\nconst ExcelColumn = ReactExport.ExcelColumn;//COLUMNA DE EXCEL\r\n\r\n\r\nfunction ConsutaExcel(props) {\r\n    const token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tconst [ consulta, setConsulta ] = useState([]);\r\n\t//const [data, setData] = useState([]);\r\n\r\n    function Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n    \r\n    useEffect(() => {\r\n\t\tif (token === '' || token === null) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}else{\r\n\t\t\tconst obtenerConsulta = async () => {\r\n\t\t\tawait clienteAxios\r\n                .get(`/cliente/todos/`, {\r\n                    headers: {\r\n                        Authorization: `bearer ${token}`\r\n                    }\r\n                })\r\n\t\t\t.then((res) => {\r\n                    setConsulta(res.data);\r\n\t\t\t\t})\r\n                .catch((res) => {});\r\n\t\t}\r\nobtenerConsulta();\r\n\t\t\r\n\t\t};\r\n\t\t\r\n\t}, []);\r\n\t\t\r\n\tconst datos =  consulta.map((datos) => {\r\n\r\n\t\tconst clientes = {}\r\n\r\n\t\t\tclientes.nombre = `${datos.nombre} ${datos.apellido}`\r\n\t\t\tclientes.telefono = datos.telefono\r\n\t\t\tclientes.email = datos.email\r\n\r\n\t\t\tif (datos.direccion.length === 0) {\r\n\t\t\t\tclientes.direccion = \"\"\r\n\t\t\t\tclientes.ciudad = \"\"\r\n\t\t\t}else{\r\n\t\t\t\tclientes.direccion = `${datos.direccion[0].calle_numero} ${datos.direccion[0].colonia}` \r\n\t\t\t\tclientes.ciudad = `${datos.direccion[0].ciudad}, ${datos.direccion[0].estado}, ${datos.direccion[0].pais}` \r\n\t\t\t}\r\n\r\n\t\treturn clientes;\r\n\t\t});\t\r\n\r\n    return (\r\n        <>\r\n            <Row justify=\"center\">\r\n            <ExcelFile element={<Button size=\"large\" type=\"primary\">Descargar datos de clientes</Button>} filename=\"Datos Clientes\">\r\n                <ExcelSheet data={datos} name=\"Datos de clientes\">\r\n                    <ExcelColumn label=\"Nombre\" value=\"nombre\" />\r\n\t\t\t\t\t<ExcelColumn label=\"Telefonos\" value=\"telefono\" />\r\n\t\t\t\t\t<ExcelColumn label=\"E-mail\" value=\"email\" />\r\n\t\t\t\t\t<ExcelColumn label=\"Domicilio\" value=\"direccion\" />\r\n\t\t\t\t\t<ExcelColumn label=\"Ciudad\" value=\"ciudad\" />\r\n                </ExcelSheet>\r\n            </ExcelFile>\r\n\t\t\t</Row>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default withRouter(ConsutaExcel);","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nimport ConsutaExcel from './consutaExcel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else if (decoded['rol'] !== true) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}else{\r\n\t\t\t\tobtenerClientes(20, page);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Direccin',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\r\n\t\t\t<ConsutaExcel />\r\n\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React, { useState, useEffect } from 'react';\r\n//import Carousel from 'react-bootstrap/Carousel';\r\nimport './ofertas.scss';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\tconst [ index, setIndex ] = useState(0);\r\n\tconst [ carousels, setCarousels ] = useState([]);\r\n\tconst [ esPromocion, setEsPromocion ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst obtenerCarousel = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/carousel/limite')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {});\r\n\t\t};\r\n\t\t\r\n\t\tobtenerCarousel();\r\n\t}, []);\r\n\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\r\n\tconst render = carousels.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\tesPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t: carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: 'pointer' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\tif (carousels.length === 0) {\r\n\t\treturn null\r\n\t}\r\n\treturn (\r\n\t\t<BannerAnim   autoPlay activeIndex={index} onSelect={handleSelect} prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React from 'react';\r\nimport aws from '../../../config/aws';\r\nimport DOMPurify from 'dompurify';\r\nimport { Card } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nexport default function ComponenteProductos(props) {\r\n\tconst { productos } = props;\r\n\r\n\tif (productos.precioPromocion) {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.productoPromocion.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\tproductos.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\tproductos.productoPromocion.precio\r\n\t\t\t\t\t\t\t\t\t)}%OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t\t{productos.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={promo._id} className=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\r\n\t\t\t\t\t\t\t\t\t\t__html: DOMPurify.sanitize(productos.descripcion)\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t</Card.Grid>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport ComponenteProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction OfertasHome(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${12}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<ComponenteProductos key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 font-weight-bold\">Encuentra ofertas todos los das!</h4> \r\n\t\t\t\t</div>\r\n\t\t\t</div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center pb-5\">\r\n\t\t\t\t<Link to=\"/ofertas\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\tVer Todas las ofertas\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(OfertasHome);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Geolocalizacion from '../geolocalizacion';\r\nimport './informacion.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function Datos_tienda() {\r\n\tconst [ tienda, setTienda ] = useState({});\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ infor, setInfo ] = useState('');\r\n\r\n\tfunction peticionTienda() {\r\n\t\tclienteAxios\r\n\t\t\t.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTienda(res.data[0]);\r\n\t\t\t\tsetInfo(res.data[0].nombre);\r\n\t\t\t\tsetDireccion(res.data[0].direccion[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpeticionTienda();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{infor !== '' ? (\r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t\t\t<div className=\"row contenedor-home-banner d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<h4 className=\"mb-0 text-center\">Encuentra nuestra tienda!</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\theight=\"38vh\"\r\n\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\tcenter={[ tienda.ubicacion[0].lat, tienda.ubicacion[0].lng ]}\r\n\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\tnombreMarcador={tienda.nombre}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col-lg-2 text-center caligra\">\r\n\t\t\t\t\t\t\t<div className=\"m-3\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"logotipo\"\r\n\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\"> {tienda.nombre} </p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tTel: <span className=\"subs h6\">{tienda.telefono}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tDireccion: <span className=\"h6\">{direccion.calle_numero}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCol.{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.estado}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCP: <span>{direccion.cp}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result } from 'antd';\r\n// import Pagination from '../../../components/Pagination/pagination';\r\n// import queryString from 'query-string';\r\n\r\nimport '../Productos/productos.scss';\r\nimport './bannerPromocion.scss'\r\nimport ComponentProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction CardsProductos(props) {\r\n    const {categoria} = props;\r\n\t//const { location, history } = props.propiedades;\r\n\t//const { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n    const [ loading, setLoading ] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        async function obtenerProductos(limit, page) {\r\n            setLoading(true);\r\n            await clienteAxios\r\n                .get(`/productos/filter?categoria=${categoria}`)\r\n                .then((res) => {\r\n                    setProductos(res.data.posts);\r\n                    setProductosPaginacion(res.data.posts);\r\n                    setLoading(false);\r\n                })\r\n                .catch((err) => {\r\n                    if(err.response){\r\n                        notification.error({\r\n                            message: 'Error',\r\n                            description: err.response.data.message,\r\n                            duration: 2\r\n                        });\r\n                    }else{\r\n                        notification.error({\r\n                            message: 'Error de conexion',\r\n                            description: 'Al parecer no se a podido conectar al servidor.',\r\n                            duration: 2\r\n                        });\r\n                    }\r\n                });\r\n        }\r\n\r\n       obtenerProductos()\r\n    }, [categoria])\r\n\r\n\r\n\tconst render = productos.map((productos, index) => {\r\n\t\tif(index <= 5){\r\n\t\t\treturn (\r\n\t\t\t\t<ComponentProductos key={productos._id} productos={productos} />\r\n\t\t\t)\r\n\t\t}\t\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"mt-2 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"justify-content-center align-items-center\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw' }} className=\"row d-flex justify-content-center align-items-center\">\r\n\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{/* <Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/> */}\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default CardsProductos;","import React, { useState, useEffect } from 'react';\r\n//import {useSpring, animated} from 'react-spring'\r\n\r\nimport './bannerPromocion.scss'\r\nimport CardsProductos from './cardsProductos';\r\n\r\nimport clienteAxios from '../../../config/axios';\r\nimport {Link, withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport TweenOne from 'rc-tween-one';\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\n\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\n function Banner_Promocion(props) {\r\n\r\n    const [ index, setIndex ] = useState(0);\r\n    const [ bannerPro, setBannerPro ] = useState([]);\r\n\r\n    useEffect(() => {\r\n\t\tconst obtenerBanner = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/banner/')\r\n\t\t\t\t.then((res) => {\r\n                    setBannerPro(res.data);\r\n\t\t\t\t})\r\n                .catch((res) => {});\r\n\t\t};\r\n\t\tobtenerBanner();\r\n    }, []);\r\n    \r\n\r\n\r\n    const handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n    };\r\n  \r\n    \r\n    const render = bannerPro.map((banner) => {\r\n        \r\n        return (\r\n            <div key={banner._id} className=\"mt-5 cont-principal\">\r\n                {banner.mostrarTitulo != false ? (\r\n                    <TweenOne key=\"demo\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                        <h1 className=\"mt-5 tit-banner\">{banner.categoria}</h1>\r\n                    </TweenOne>\r\n                 ) : \"\"}\r\n\r\n                {banner.imagenBanner || banner.imagenBanner !== '' ? (\r\n                    <div className=\"banner-prin\"> \r\n                     <BannerAnim autoPlay activeIndex={index} onSelect={handleSelect} prefixCls=\"banner-prin mx-auto\" >\r\n                     <Element prefixCls=\"banner-user-elem\" animation={{ y: 30, opacity: 0, type: 'from', delay: 800 }}>\r\n                         <BgElement\r\n                             onClick={() =>\r\n                                 {if (banner.vincularCategoria != false) {\r\n                                     props.history.push(`/searching/${banner.categoria}`);\r\n                                 }\r\n                             }}\r\n \r\n                             key=\"bg\"\r\n                             className=\"bg banner-prom mx-auto\"\r\n                             alt=\"img-oferta\"\r\n                             style={{\r\n                                 backgroundImage: `url(${aws + banner.imagenBanner})`,\r\n                                 cursor: 'pointer'\r\n                             }}\r\n                         >\r\n                         </BgElement>\r\n                     </Element>\r\n                     </BannerAnim>\r\n                    </div>\r\n                    ) : \r\n                    null\r\n                    }\r\n\r\n                <div>\r\n                    {banner.mostrarProductos != false ? (\r\n                        <div className=\"mx-auto div-cards\">\r\n                            <CardsProductos className=\"mx-auto\" categoria={banner.categoria} />\r\n                            <div className=\"d-flex justify-content-center\">\r\n                                <Link to={`/searching/${banner.categoria}`} style={{ fontSize: 18 }}>\r\n                                    Ver todos los productos\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    ) : \"\"}\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    })\r\n\r\n    return (\r\n        <div className=\"cont-principal\">\r\n           {render}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Banner_Promocion);\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button, Checkbox } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El nombre es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'El apellido es obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\">\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio' } ]} noStyle>\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contrasea\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"contrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contrasea es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contrasea\">\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"repeatContrasena\"\r\n\t\t\t\t\t\trules={[ { required: true, message: 'La contrasea es obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"d-flex justify-content-center\"\r\n\t\t\t\t\tname=\"aceptarPoliticas\"\r\n\t\t\t\t\tvaluePropName=\"checked\"\r\n\t\t\t\t\trules={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvalidator: (_, value) =>\r\n\t\t\t\t\t\t\t\tvalue\r\n\t\t\t\t\t\t\t\t\t? Promise.resolve()\r\n\t\t\t\t\t\t\t\t\t: Promise.reject('Debes aceptar las polticas para registrarte')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Checkbox>Acepto las polticas, terminos y condiciones.</Checkbox>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React,{useState} from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { notification, Form, Input, Button, Alert } from 'antd';\r\n\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\r\n\tconst [mostrarDiv, setMostrarDiv] = useState('d-none');\r\n\tconst [mostrarMensaje, setmostrarMensaje] = useState('d-none');\r\n\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\tif (vista) {\r\n\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\tprops.history.push(vista);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprops.history.push('/admin');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst onRecuperar = async (email) => {\r\n\t\t\tawait clienteAxios.post('/cliente/restablecer/pass',email)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetmostrarMensaje(\"\");\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t}\r\n\r\n\tconst mostrarDivClick = () => {\r\n\t\tsetMostrarDiv(\"\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contrasea\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contrasea es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<p onClick={mostrarDivClick} style={{cursor: 'pointer',color: '#0084ff'}}>Has olvidado tu contrasena?</p>\t\t\t\t\r\n\t\t\t</Form>\r\n\t\t\t<div  className={`${mostrarDiv} col-12 mt-2`}>\r\n\t\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onRecuperar}>\r\n\t\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t\t<Form.Item name=\"emailCliente\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n\t\t\t\t\t\tEnviar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tclassName={`${mostrarMensaje}`}\r\n\t\t\t\t\t\tmessage=\"Correo enviado\"\r\n\t\t\t\t\t\tdescription=\"Se a enviado un correo para actualizar su contrasea\"\r\n\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\tconst vista = localStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\tif (vista) {\r\n\t\t\t\t\t\t\t\tlocalStorage.getItem(\"vistas\");\r\n\t\t\t\t\t\t\t\twindow.location.href = `${vista}`\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"vistas\");\r\n\t\t\t\t\t\t\t\t}, 300);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","\r\nexport default {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATA_BASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROYECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n  };","import React, { useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"text-center mb-4 mt-4\">\r\n                Si aun no tienes cuenta regstrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs centered className=\"shadow col-12 col-lg-4 bg-white rounded tabs-colors\" defaultActiveKey=\"1\">\r\n                    <TabPane className=\"tab-color\" tab=\"Iniciar Sesin\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p >Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane className=\"tab-color\" tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if(res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'Ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Form, Divider, notification, Input, Row, Col } from 'antd';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nexport default function DatosCliente(props) {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst { token, clienteID } = props;\r\n\tconst [ handleOk ] = props.enviarDatos;\r\n\r\n\tconst [ controlBoton, setControlBoton ] = useState(true);\r\n\tconst [ estadoBoton, setEstadoBoton ] = useState('Completa tus datos');\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${clienteID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (res.data.direccion.length !== 0) {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: res.data.direccion[0].calle_numero,\r\n\t\t\t\t\t\tentre_calles: res.data.direccion[0].entre_calles,\r\n\t\t\t\t\t\tcp: res.data.direccion[0].cp,\r\n\t\t\t\t\t\tcolonia: res.data.direccion[0].colonia,\r\n\t\t\t\t\t\tciudad: res.data.direccion[0].ciudad,\r\n\t\t\t\t\t\testado: res.data.direccion[0].estado,\r\n\t\t\t\t\t\tpais: res.data.direccion[0].pais\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: '',\r\n\t\t\t\t\t\tentre_calles: '',\r\n\t\t\t\t\t\tcp: '',\r\n\t\t\t\t\t\tcolonia: '',\r\n\t\t\t\t\t\tciudad: '',\r\n\t\t\t\t\t\testado: '',\r\n\t\t\t\t\t\tpais: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data.telefono.length === 0 || res.data.direccion.length === 0) {\r\n\t\t\t\t\tsetEstadoBoton('Completa tus datos');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst control = () => {\r\n\t\tswitch (estadoBoton) {\r\n\t\t\tcase 'Completa tus datos':\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tbreak;\r\n\t\t\t/* case 'Apartar':\r\n\t\t\t\thandleOk();\r\n\t\t\t\tbreak; */\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tasync function editarDatos(valores) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${clienteID}`, valores, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControlBoton(true);\r\n\t\t\t\t/* setEstadoBoton('Apartar'); */\r\n\t\t\t\t/* notification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 1\r\n\t\t\t\t}); */\r\n\t\t\t\thandleOk();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatosUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Form {...layout} form={form} onFinish={editarDatos}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre\" name=\"nombre\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Apellido\" name=\"apellido\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Email\" name=\"email\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Telfono\" name=\"telefono\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"telefono\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Divider>Datos de envo</Divider>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Calle y nmero\" name=\"calle_numero\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\tdisabled={controlBoton}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Entre calles\" name=\"entre_calles\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Cdigo postal\" name=\"cp\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Colonia\" name=\"colonia\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Ciudad\" name=\"ciudad\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Estado\" name=\"estado\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Pas\" name=\"pais\">\r\n\t\t\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Pas obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"Pas\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t{estadoBoton === 'Apartar' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t\tonClick={control}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Divider, notification, Modal, Select, Alert, Avatar, List } from 'antd';\r\n/* import { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons'; */\r\nimport aws from '../../../../config/aws';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport DatosCliente from '../../Vista_Producto/subs/datos_cliente';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ApartadoCarrito(props) {\r\n\tconst { cliente, token } = props;\r\n\tconst [ visible, setVisible ] = props.modal;\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ apartadoMultiple, setApartadoMultiple ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst error = (err) => {\r\n\t\tif (err.response) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${cliente}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst apartadoMultiple = [];\r\n\t\t\t\tconst apartadoMultipleCompleto = [];\r\n\t\t\t\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\t\t\t\tif (res.idarticulo.activo === false) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconst carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\t\t\t\tcarrito.forEach((carrito) => {\r\n\t\t\t\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\treturn res.talla;\r\n\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\treturn res.numero;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar precio;\r\n\r\n\t\t\t\t\tif (!carrito.promocion) {\r\n\t\t\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\t\t\t\tcase 'Ropa':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { talla: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Calzado':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tmedida: { numero: medida[0] },\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'Otros':\r\n\t\t\t\t\t\t\tapartadoMultiple.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tapartadoMultipleCompleto.push({\r\n\t\t\t\t\t\t\t\tproducto: carrito.idarticulo,\r\n\t\t\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar subtotal = 0;\r\n\t\t\t\tvar total = 0;\r\n\r\n\t\t\t\tcarrito.forEach((res) => {\r\n\t\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttotal = subtotal;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetApartadoMultiple(apartadoMultiple);\r\n\t\t\t\tsetProducto(apartadoMultipleCompleto);\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\terror(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst apartarCarrito = async () => {\r\n\t\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/apartado/multiple',\r\n\t\t\t{\r\n\t\t\t\tcliente: cliente,\r\n\t\t\t\tapartadoMultiple: apartadoMultiple,\r\n                total: total,\r\n                estado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEnvio\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n            notification.success({\r\n                message: 'Listo!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            })\r\n            setTimeout(() => {\r\n                window.location.href = '/pedidos';\r\n            }, 1000);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n        });\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tapartarCarrito();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (visible) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ visible ]\r\n\t);\r\n\r\n\tconst articulos = producto.map((res, index) => {\r\n\t\treturn (\r\n\t\t\t<List.Item key={index} className=\"row\">\r\n\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t<Avatar size={64} src={aws + res.producto.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t<h5>{res.producto.nombre}</h5>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Cantidad: {res.cantidad}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{res.medida ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{res.medida.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.numero}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Talla: {res.medida.talla}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(res.precio)}</h6>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</List.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Apartar carrito\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\tfooter={null}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>{articulos}</List>\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t<h4>Total: ${formatoMexico(total)}</h4>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envo: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envo por paquetera</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t{cliente ? (\r\n\t\t\t\t<DatosCliente token={token} clienteID={cliente} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'Otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'Ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'Otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tprecio: precio,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Divider, Alert, Avatar, List } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\nimport DatosCliente from '../Vista_Producto/subs/datos_cliente';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet precio;\r\n\t\t\tif(carrito.promocion && carrito.promocion.length !== 0){\r\n\t\t\t\tprecio = carrito.promocion.precioPromocion;\r\n\t\t\t}else{\r\n\t\t\t\tprecio = carrito.idarticulo.precio;\r\n\t\t\t}\r\n\t\t\tAgregarApartado(\r\n\t\t\t\tcliente._id,\r\n\t\t\t\tcarrito.idarticulo._id,\r\n\t\t\t\tcarrito.cantidad,\r\n\t\t\t\tprecio,\r\n\t\t\t\tcarrito.medida,\r\n\t\t\t\ttipoEnvio,\r\n\t\t\t\ttoken,\r\n\t\t\t\tcarrito.idarticulo.tipoCategoria\r\n\t\t\t);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\tstyle={{ top: 20 }}\r\n\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\tvisible={visible}\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText={false}\r\n\t\t\tonOk={false} */\r\n\t\t\tfooter={false}\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<List>\r\n\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t<Avatar size={64} src={aws + carrito.idarticulo.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t<h5>{carrito.idarticulo.nombre}</h5>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t<h6>Cantidad: {carrito.cantidad}</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.talla}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Talla: {res.numero}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.idarticulo.precio)}</h6>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(carrito.promocion.precioPromocion)}</h6>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</List.Item>\r\n\t\t\t</List>\r\n\r\n\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.idarticulo.precio * carrito.cantidad)}</h4>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h4>Total: ${formatoMexico(carrito.promocion.precioPromocion * carrito.cantidad)}</h4>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envo: </h6>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envo por paquetera</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t<DatosCliente token={token} clienteID={cliente._id} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","var verificacion_general = false;\r\n\r\nexport function verificarArticulos(carrito) {\r\n\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\tconst talla = carrito.idarticulo.tallas.map((tallas) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].talla === tallas.talla) {\r\n\t\t\t\treturn carrito.medida[0].talla;\r\n\t\t\t}else {\r\n                return null\r\n            }\r\n        });\r\n        return talla.filter((talla) => talla !== null);\r\n\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\tconst numero = carrito.idarticulo.numeros.map((numeros) => {\r\n\t\t\tif (carrito.medida && carrito.medida[0].numero === numeros.numero) {\r\n\t\t\t\treturn carrito.medida[0].numero\r\n\t\t\t} else {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n        });\r\n        return numero.filter((talla) => talla !== null);\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\nimport { verificarArticulos } from './verificarArticulos';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\tconst [ eliminado, setEliminado ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetDisponible('');\r\n\t\t\tsetCantidad(carrito.cantidad);\r\n\t\t\tverificar();\r\n\r\n\t\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t} else if (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t\t\tsetEliminado(true);\r\n\t\t\t}\r\n\r\n\t\t\tif (carrito.promocion) {\r\n\t\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t\t} else {\r\n\t\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tfunction verificar() {\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tconst talla = carrito.idarticulo.tallas.filter((tallas) => carrito.medida[0].talla === tallas.talla);\r\n\t\t\tconst tallaCantidad = carrito.idarticulo.tallas.filter(\r\n\t\t\t\t(tallas) => carrito.medida[0].talla === tallas.talla && tallas.cantidad !== 0\r\n\t\t\t);\r\n\t\t\tif (talla.length === 0 || tallaCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tsetMedida([ talla[0].talla, tallaCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tconst numero = carrito.idarticulo.numeros.filter((numeros) => carrito.medida[0].numero === numeros.numero);\r\n\t\t\tconst numeroCantidad = carrito.idarticulo.numeros.filter(\r\n\t\t\t\t(numeros) => carrito.medida[0].numero === numeros.numero && numeros.cantidad !== 0\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\tif (numero.length === 0 || numeroCantidad.length === 0) {\r\n\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\tif (carrito.idarticulo.eliminado && carrito.idarticulo.eliminado === true) {\r\n\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tsetMedida([ numero[0].numero, numeroCantidad[0].cantidad ]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidacion(true);\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidacion(true);\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws + carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3>{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tCategoria: {carrito.idarticulo.categoria}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\tGnero: {carrito.idarticulo.genero}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.color && carrito.idarticulo.color !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito color-border-tags\">\r\n\t\t\t\t\t\t\t\t\t\t\tColor: {carrito.idarticulo.color}\r\n\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t):\"\"}\r\n\r\n\t\t\t\t\t\t\t\t\t{carrito.idarticulo.colorHex && carrito.idarticulo.colorHex !== \"\" ? (\r\n\t\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: carrito.idarticulo.colorHex, height: 30, width: 30 }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t):\"\"}\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : eliminado === true ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Este producto ya no existe</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={verificarArticulos(carrito)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts\"\r\n\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} />Comprar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"color-fonts\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"color-fonts\"\r\n\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExportOutlined style={styles} />Apartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else if (res.idarticulo.eliminado && res.idarticulo.eliminado === true){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Button, message, Result, Space } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ApartadoCarrito from './services/apartado_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\nimport Spin from '../../../components/Spin';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction apartarCarrito() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal navbar-menu-general\">Bievenido a tu carrito {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Comprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"color-boton color-font-boton\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => apartarCarrito()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Apartar carrito\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ApartadoCarrito cliente={cliente._id} token={token} modal={[ visible, setVisible ]} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport ComponenteProductos from './componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => {\r\n\t\treturn (<ComponenteProductos key={productos._id} productos={productos} />);\r\n\t});\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row float-left\">\r\n\t\t\t\t\t<h4 className=\"mb-0 text-center font-weight-bold\">Conoce nuestros productos!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\t\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport { List } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify';\r\nimport './BlogList.scss';\r\n\r\nexport default function BlogList(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ blogs, setBlogs ] = useState([]);\r\n\r\n\tfunction getBlogsApi(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/blog?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetBlogs(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tgetBlogsApi(10, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div id=\"blog\" className=\"container\">\r\n\t\t\t\t<h1 className=\"text-center p-3\">Nuestro Blog!</h1>\r\n\t\t\t\t<div className=\"container-fluid bg-white shadow-lg\">\r\n\t\t\t\t\t<div id=\"cards\">\r\n\t\t\t\t\t\t<BlogsList2 blogs={blogs} setLoading={setLoading} />\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<Pagination blogs={blogs} location={location} history={history} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction BlogsList2(props) {\r\n\tconst { blogs } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<List\r\n\t\t\t\tclassName=\"p-3\"\r\n\t\t\t\titemLayout=\"vertical\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => <Blog blog={blog} />}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog } = props;\r\n\r\n\treturn (\r\n\t\t<Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n\t\t\t<List.Item\r\n\t\t\t\tclassName=\"blogList__lista list-hover  mb-5\"\r\n\t\t\t\tkey={blog.nombre}\r\n\t\t\t\textra={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-blog-list\">\r\n\t\t\t\t\t\t<img className=\"imagen-blog-list\" alt={blog.nombre} src={aws + blog.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\ttitle={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>}\r\n\t\t\t\t\tdescription={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}\r\n\t\t\t\t/>\r\n\t\t\t\t{\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={'blogList__content-description m-0'}\r\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<p>Leer mas</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</List.Item>\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport Spin from '../../../../components/Spin';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus del pedido:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\tdetallePedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t) : detallePedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 \">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\t\t\t<div className=\"row d-flex justify-content-center\">{detallePedido.pedido.map((producto) => <Producto producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Direccin de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].colonia} ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Cdigo de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detallePedido.url}${detallePedido.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-pedido\" src={aws + producto.producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{producto.talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.talla}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.numero ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\tlet multiple;\r\n\r\n\tif (detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0) {\r\n\t\tmultiple = detalleApartado.apartadoMultiple.map((info) => {\r\n\t\t\tconst producto = detalleApartado.productosMultiple.map((producto) => {\r\n\t\t\t\tif (info.producto === producto._id) {\r\n\t\t\t\t\treturn <ProductosMultiple key={producto._id} producto={producto} info={info} />;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn producto;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del Apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del Apartado: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de apartado:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del apartado</Divider>\r\n\r\n\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">{multiple}</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"row d-flex justify-content-center\">\r\n\t\t\t\t\t<Producto producto={detalleApartado} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de Apartado</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Direccin de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codig de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"mt-3 d-flex justify-content-end\">\r\n\t\t\t\t{detalleApartado.apartadoMultiple && detalleApartado.apartadoMultiple.length !== 0 ? (\r\n\t\t\t\t\t<h3>Total: $ {formatoMexico(detalleApartado.total)}</h3>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<h3>Total: $ {detalleApartado.precio ? formatoMexico(detalleApartado.precio) : formatoMexico(detalleApartado.producto.precio)}</h3>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto({ producto }) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\t/* hoverable */\r\n\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{producto.precio ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t) : producto.promocion && producto.promocion.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.promocion[0].precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">\r\n\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.producto.precio)}\r\n\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{producto.medida && producto.medida.length !== 0 ? producto.medida[0].talla ? (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].talla}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {producto.medida[0].numero}</h2>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction ProductosMultiple({ producto, info }) {\r\n\treturn (\r\n\t\t<div key={producto._id} className=\"col-lg-4 col-sm-12\">\r\n\t\t\t<Card\r\n\t\t\t\t/* hoverable */\r\n\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\tbodyStyle={{ paddingLeft: 15, paddingRight: 15 }}\r\n\t\t\t\tcover={\r\n\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t<img alt=\"example\" className=\"imagen-detalle-apartado\" src={aws + producto.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">${formatoMexico(info.precio)}</h2>\r\n\t\t\t\t\t\t\t{info.medida ? info.medida.talla ? (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.talla}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja col-lg-6\">Talla: {info.medida.numero}</h2>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Tag, Button, List, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function ApartadoMultiple({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tclassName=\"color-boton\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envo por paquetera' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={80}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{apartado.productosMultiple.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res._id} title={res.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-primary\"> x {apartado.apartadoMultiple.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.total)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSegur envo\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\tHola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Modal, Tag, Button, List, Result, Tabs, notification, Avatar, Tooltip } from 'antd';\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\nimport ApartadoMultiple from './apartadoMultiple';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { confirm } = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerPedidos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerPedidos();\r\n\t\t\t\tobtenerApartados();\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tsetPedidos([]);\r\n\t\t\t\tsetshowInfo(false);\r\n\t\t\t\tsetEstado(false);\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ estado ]\r\n\t);\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Apartado',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `Ests seguro que deseas eliminar el apartado?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Apartado Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error del servidor',\r\n\t\t\t\t\t\t\tdescription: 'Paso algo en el servidor, al parecer la conexion esta fallando.'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className=\"text-center m-3\">Mis Compras</h4>\r\n\t\t\t\t<Tabs\r\n\t\t\t\t\tcentered\r\n\t\t\t\t\tclassName=\"shadow bg-white rounded tabs-colors\"\r\n\t\t\t\t\tdefaultActiveKey=\"1\"\r\n\t\t\t\t\ttype=\"card\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<TabPane tab=\"Mis compras\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Mis apartados\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (apartado.apartadoMultiple && apartado.apartadoMultiple.length !== 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ApartadoMultiple\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={null}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top color-boton\"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi pedido\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\" d-flex justify-content-center\" style={{ width: 200 }}>\r\n\t\t\t\t\t\t<Avatar.Group\r\n\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\tsize={90}\r\n\t\t\t\t\t\t\tmaxStyle={{ color: '#f56a00', backgroundColor: '#fde3cf' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{pedido.pedido.map((res) => (\r\n\t\t\t\t\t\t\t\t<Tooltip key={res.producto._id} title={res.producto.nombre} placement=\"top\">\r\n\t\t\t\t\t\t\t\t\t<Avatar src={aws + res.producto.imagen} />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Avatar.Group>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\tpedido.estado_pedido === 'Entregado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t\t) : pedido.estado_pedido === 'Enviado' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\tHola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado({ apartado, showModal, setDetalleApartado, setElige, deleteApartado }) {\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tclassName=\"color-boton\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENVIADO' ||\r\n\t\t\t\t\t\t\tapartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t$ {apartado.precio ? (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t</span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envo por paquetera' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t<Tag\r\n\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center centrar-avatar\">\r\n\t\t\t\t\t\t<Avatar src={aws + apartado.producto.imagen} size={80} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${' '}\r\n\t\t\t\t\t\t\t\t\t{apartado.precio ? (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.precio)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tformatoMexico(apartado.producto.precio)\r\n\t\t\t\t\t\t\t\t\t)}{' '}\r\n\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#ffc401'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0088ff'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENTREGADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado entregado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' && apartado.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\thref={`${apartado.url}${apartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center color-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSegur envo\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 color-fonts\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\tHola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Result, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './ofertas.scss';\r\nimport ComponenteProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<ComponenteProductos key={productos._id} productos={productos} />\r\n\t));\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 text-center\">Encuentra ofertas todos los das!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Result, Row } from 'antd';\r\nimport ComponenteProductos from '../Productos/componente_productos';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => <ComponenteProductos key={productos._id} productos={productos} />);\r\n\r\n\tif (!productos) {\r\n\t\treturn (\r\n\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4\">\r\n\t\t\t\t{productos.length} resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{render}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Informacin Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" a placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" a placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" a placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" a placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" a placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" a placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" a placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" a placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" a placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" a placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Pas:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Pas obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" a placeholder=\"Pas\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contrasea</Divider>\r\n\t\t\t\t\t\t<h5>Contrasea Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contrasea actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contrasea:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contrasea\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contrasea:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contrasea\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" className=\"color-boton color-font-boton\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport { Form, Input, Button, Result, notification } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_datos(props) {\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" a placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" a placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Telfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" a placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Direccin:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" a placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Cdigo postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" a placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" a placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" a placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" a placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Pas:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Pas obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" a placeholder=\"Pas\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button className=\"color-boton\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe(process.env.REACT_APP_STRIPE_LLAVE);\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe}>\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Nmero Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiracin</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"leyenda\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus exercitationem,\r\n\t\t\t\t\t\t\t\tvoluptates illo.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<a href=\"#\" className=\"link-banco\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiracin\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCdigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1 color-boton\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1 color-boton\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total )}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envo:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envo gratis </p>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envo: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button ,notification} from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosPedido, idPago, pedidoCompleto, token, history,datosActualizados } = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(datosActualizados);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = Math.round(100 * parseFloat(total));\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Direccin de envo</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Informacin de pago</p>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span> {idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-row-reverse justify-content-center align-items-center text-center pb-3 mr-5 mt-5\">\r\n\t\t\t\t\t<Button size=\"large\" className=\"color-boton\" style={{ width: 200, textAlign: 'center' }} onClick={crearPago}>\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> COMPRAR AHORA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\nimport Spin from '../../../components/Spin';\r\n\r\nimport './confirmacion.scss';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envo',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\tdatosActualizados={datosActualizados}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (!token) {\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps className=\"steps-colors\"  current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {notification} from 'antd'\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setPoliticas(res.data[0].politicas)\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin spinning={loading} >\r\n            <div className=\"container\">\r\n                <div className=\"m-5\">\r\n                        <h1 className=\"text-center mt-4\">Politicas de Privacidad</h1>\r\n                        <h3 className=\"text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </h3>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas}} className='mt-5 px-4 ' />\r\n                    </div>             \r\n                </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamao\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.promocion.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto tambin compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\tprecioProducto,\r\n\tprecioSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Ropa' && categoriaSugerencia === 'Otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Calzado' && categoriaSugerencia === 'Otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'Otros' && categoriaSugerencia === 'Calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tprecio: precioProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia,\r\n\t\t\t\tprecio: precioSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\r\n\t\tlet productoPrecio;\r\n\t\tlet sugerenciaPrecio;\r\n\r\n\t\tif(productoPromocion.length !== 0){\r\n\t\t\tproductoPrecio = productoPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tproductoPrecio = producto.precio;\r\n\t\t}\r\n\r\n\t\tif(sugerenciaPromocion.length !== 0){\r\n\t\t\tsugerenciaPrecio = sugerenciaPromocion.precioPromocion;\r\n\t\t}else{\r\n\t\t\tsugerenciaPrecio = sugerencia.precio;\r\n\t\t}\r\n\t\t\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\tproductoPrecio,\r\n\t\t\tsugerenciaPrecio,\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem(\"vistas\", `/vista_producto/${producto._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesin para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"row mw-100\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\tLlvalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerenciaPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerenciaPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerenciaPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidadSugerencia}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1 color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\twidth: zoomWidth*1.6,\r\n\t\t\theight: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\timageClassName=\"image-gallery-image\"\r\n\t\t\t\tenlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\tenlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\tclassName=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se aadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, precio, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio, precio,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio, precio,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio, precio,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Alert, List, Avatar } from 'antd';\r\nimport { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport DatosCliente from './datos_cliente';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datosUser, setDatosUser ] = useState([]);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\t//style={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesin para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tApartado();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>Tu apartado a sido recibido y sera despachado prximamente!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 color-boton\"\r\n\t\t\t\t\t\t\t\ttype=\"default\"\r\n\t\t\t\t\t\t\t\tonClick={() => (window.location.href = '/pedidos')}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tonOk() {}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesin para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\tlet precio;\r\n\t\tif(productos.promocion.length !== 0){\r\n\t\t\tprecio = productos.promocion[0].precioPromocion;\r\n\t\t}else{\r\n\t\t\tprecio = productos.precio;\r\n\t\t}\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, precio, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tlocalStorage.setItem('vistas', `/vista_producto/${productos._id}`);\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesin para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p mb-3\">En este momento no hay articulos disponibles</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p-disponible mb-3\">Articulos disponibles!</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"d-block size-button-vista color-boton color-font-boton\"\r\n\t\t\t\t\t\t\t\t//type=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TagsOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tComprar ahora\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BellOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tApartar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista color-boton-sec color-font-boton\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar al carrito\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Aparta tu producto\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<List>\r\n\t\t\t\t\t<List.Item className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-2\">\r\n\t\t\t\t\t\t\t<Avatar size={64} src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<h5>{productos.nombre}</h5>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t<h6>Cantidad: {cantidadFinal}</h6>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Talla: {numeros.numero}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6>Talla: {tallas.talla}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t\t\t\t\t<h6>Precio: ${formatoMexico(productos.precio)}</h6>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\treturn <h6 key={res._id}>Precio: ${formatoMexico(res.precioPromocion)}</h6>;\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</List.Item>\r\n\t\t\t\t</List>\r\n\t\t\t\t<div className=\"d-flex justify-content-end mt-3 border-bottom\">\r\n\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t<h4>Total: ${formatoMexico(cantidadFinal * productos.precio)}</h4>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\treturn <h4 key={res._id}>Total: ${formatoMexico(cantidadFinal * res.precioPromocion)}</h4>;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t\t<div className=\"col-lg-6 text-center\">\r\n\t\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envo: </h6>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envo por paquetera</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t{decoded && decoded._id ? (\r\n\t\t\t\t\t<DatosCliente\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tclienteID={decoded._id}\r\n\t\t\t\t\t\ttipoEnvio={tipoEnvio}\r\n\t\t\t\t\t\tenviarDatos={[ handleOk ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\nimport Spin from '../../../../components/Spin';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center\">Encuentra nuestra tienda</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Direccin:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Telfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Alert, notification, Result, Button } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport Spin from '../../../components/Spin';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetProductos([]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\tif (loading === false && productos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Result\r\n\t\t\t\tstatus=\"404\"\r\n\t\t\t\ttitle=\"404\"\r\n\t\t\t\tsubTitle=\"Lo sentimos, este producto ya no existe.\"\r\n\t\t\t\textra={<Button className=\"color-boton\" type=\"primary\" onClick={() => props.history.push('/')}>Pagina principal</Button>}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">Descripcin</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer ms...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-principal\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 15 }} className=\"envio-texto\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} />{' '}\r\n\t\t\t\t\t\t\t\t\t<span>Costo del envo:</span> <span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ? costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`En compras arriba de $${costoEnvio.promocionEnvio} el envo ser GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`En compras arriba de $${costoEnvio.promocionEnvio}, el envo ser GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{productos.genero === 'Ninguno' && !productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t{productos.genero === 'Ninguno' ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGnero:\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Tag className=\"color-tags\" style={{ fontSize: 16 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t{!productos.color && !productos.colorHex ? (\r\n\t\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 5 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tColor: {productos.color}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"mb-3 formas-pago\" style={{ fontSize: 20, fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: 18, textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer ms...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport clienteAxios from '../../config/axios';\r\nimport { notification, Row, Breadcrumb } from 'antd';\r\nimport ComponenteProductos from '../../pages/users/Productos/componente_productos';\r\nimport Spin from '../Spin';\r\nimport './busqueda_categorias.scss';\r\n\r\nfunction BusquedaCategorias(props) {\r\n\tconst categoria = props.match.params.categoria;\r\n\tconst subcategoria = props.match.params.subcategoria;\r\n\tconst genero = props.match.params.genero;\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ resultado, setResultado ] = useState([]);\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined || genero === 'Todos') {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetResultado(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t},\r\n\t\t[ props ]\r\n\t);\r\n\r\n\tconst result = resultado.map((productos) => <ComponenteProductos key={productos._id} productos={productos} />);\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t<div className=\"my-4 mx-3\">\r\n\t\t\t\t\t<h3 className=\"d-inline mr-3\">{resultado.length} resultados en: </h3>\r\n\t\t\t\t\t<Breadcrumb separator=\">\" className=\"d-inline\">\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{categoria}</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{subcategoria}</Breadcrumb.Item>\r\n\t\t\t\t\t\t<Breadcrumb.Item className=\"bread-font\">{genero}</Breadcrumb.Item>\r\n\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t\t{result}\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</Spin>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nexport default BusquedaCategorias;\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { notification, Form, Input, Button,Alert  } from 'antd';\r\nimport {useParams} from 'react-router-dom';\r\nimport clienteAxios from '../../config/axios';\r\nimport './Recuperacion_pass.scss';\r\n\r\n\r\nconst layout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 14 }\r\n};\r\n\r\nexport default function Recuperar_pass(props) {\r\n\r\n    const {location,history} = props;\r\n    const {idRecuperacion} = useParams();\r\n\r\n    const [mostrarError, setmostrarError] = useState(\"d-none\");\r\n    const [acceso, setAcceso] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setAcceso(false);\r\n        const cambiarEstadoPass = async () => {\r\n            await clienteAxios.put(`/cliente/restablecer/pass/${idRecuperacion}`)\r\n            .then((res) => {\r\n                setAcceso(false);\r\n            })\r\n            .catch((err) => {\r\n                setAcceso(true);\r\n            })\r\n        }\r\n        cambiarEstadoPass();\r\n    }, [])\r\n\r\n    const onFinish = async (values) => {\r\n        const {password,confirmPassword} = values;\r\n        if(password !== confirmPassword){\r\n            setmostrarError(\"\");\r\n        }else{\r\n            const datos = {\r\n                password,\r\n                confirmPassword,\r\n                idRecuperacion,\r\n            }\r\n            await clienteAxios.put('/cliente/reset/pass/',datos)\r\n            .then((res) => {\r\n                const token = res.data.token;\r\n                localStorage.setItem('token', token);\r\n            })\r\n            .catch((err) => {\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: 'Hubo un error',\r\n                    duration: 2\r\n                });\r\n            })\r\n            props.history.push('/');\r\n        }\r\n    }\r\n\r\n    if(acceso){\r\n        props.history.push('/');\r\n    }\r\n    \r\n\r\n    return (\r\n        <FormResetPass onFinish={onFinish} mostrarError={mostrarError} />\r\n    )\r\n}\r\n\r\n\r\nfunction FormResetPass(props){\r\n    const { onFinish,mostrarError} = props;\r\n    return(\r\n        <div className=\"centrar-div\">\r\n            <div className=\"div-resetPass shadow col-12 col-lg-4 bg-white rounded\">\r\n                <p className=\"text-center my-4\">Recuperacion de contrasea</p>\r\n                <Form {...layout}  name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n                    <Form.Item label=\"Contrasea\" >\r\n                        <Form.Item name=\"password\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirmar contrasea\" >\r\n                        <Form.Item name=\"confirmPassword\" rules={[ { required: true, message: 'Rellenar los campos' } ]} noStyle >\r\n                            <Input.Password />\r\n                        </Form.Item>\r\n                    </Form.Item>\r\n                    <Alert\r\n                        className={`my-4 ${mostrarError}`}\r\n                        message=\"Contrasea distintas\"\r\n                        description=\"Las contraseas son distintas, favor de poner la misma\"\r\n                        type=\"error\"\r\n                    />\r\n                    <Form.Item className=\"d-flex justify-content-center align-items-center text-center\" >\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"color-boton\">\r\n                            Continuar\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones_principal'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\nimport BusquedaCategorias from '../components/BusquedaCategorias/busqueda_categorias';\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nimport Recuperar_pass from '../components/Recuperar_pass/Recuperar_pass';\r\n\r\n\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario/:tipoCategoria',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/resetPass/:idRecuperacion',\r\n\t\tcomponent: Recuperar_pass,\r\n\t\texact: false\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categorias/:categoria/:subcategoria',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/categoria/:categoria/:subcategoria/:genero',\r\n\t\t\t\tcomponent: BusquedaCategorias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\n/* import ConsultaProductos from './Productos/consulta_productos'; */\r\nimport Ofertas from './Ofertas/ofertasHome';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda'\r\nimport Banner_Promocion from './BannerPromociones/BannerPromocion'\r\nimport './home.scss'\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LNEA</h2>\r\n\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">ENVO GRATUITO</h2>\r\n\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Ofertas />\r\n\t\t\t<Banner_Promocion />\r\n\t\t\t{/* <ConsultaProductos propiedades={props} /> */}\r\n            <Datos_tienda />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6\">\r\n\t\t\t\t<h1 className=\"mt-5 text-center\">Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\nimport Spin from '../../../components/Spin';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif(res.data.length === 0){\r\n\t\t\t\t\tprops.history.push('/');\r\n\t\t\t\t}\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3 color-boton\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link key=\"principal\" to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" className=\"color-boton\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>,\r\n                        <Link key=\"reintentar\" to={`/confirmacion_compra/${pedidoID}`}>\r\n                            <Button type=\"primary\" ghost className=\"mb-3 color-boton-sec\">\r\n                                Reintentar\r\n                            </Button>\r\n                        </Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'antd/dist/antd.css'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport routes from './config/routes'\r\nimport {Helmet} from \"react-helmet\";\r\nimport './scss/styleZepeda.scss';\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Tienda Online</title>       \r\n      </Helmet>\r\n      <Router>\r\n          <Switch>\r\n            { routes.map((route, index) => (\r\n              <RoutesWithSubRoutes key= {index} {...route} />\r\n            ))}           \r\n          </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n  return (\r\n    <Route \r\n      path={route.path}\r\n      exact={route.exact}\r\n      render={props => <route.component routes={route.routes} {...props}/>}\r\n    />\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";"],"sourceRoot":""}