{"version":3,"sources":["pages/users/Confirmacion_compra/img/logos/visa.png","pages/users/Confirmacion_compra/img/logos/mastercard.png","pages/users/Confirmacion_compra/img/chip-tarjeta.png","components/Navegacion_Admin/Sidebar.js","components/Layout_admin/LayoutAdmin.js","context/carritoContext.js","config/axios.js","config/aws.js","components/Navegacion/RightMenu.js","components/Navegacion/Navegacion.js","components/Categorias/Categorias.js","components/Footer/Footer.js","components/Layout/Layout.js","pages/users/geolocalizacion.js","components/Spin.js","pages/admin/Principal/services/RegistroTienda/politicas_envio.js","pages/admin/Principal/services/RegistroTienda/RegistroTienda.js","pages/admin/Principal/services/RegistroTienda/MostrarRegistroTienda.js","pages/admin/Principal/principal.js","pages/admin/contexts/ProductoContext.js","pages/admin/Productos/services/registrar_galeria.js","pages/admin/Productos/services/registrar_talla.js","pages/admin/Productos/services/registrar_numero.js","pages/admin/Productos/services/registrar_producto.js","pages/admin/Productos/services/actualizar_galeria.js","pages/admin/Productos/services/actualizar_talla.js","pages/admin/Productos/services/actualizar_numero.js","pages/admin/Productos/services/actualizar_producto.js","components/Pagination/pagination.js","config/reuserFunction.js","pages/admin/Productos/productos.js","pages/admin/Pedidos/detalles_pedido.js","pages/admin/Pedidos/estado_pedido.js","pages/admin/Pedidos/pedidos.js","pages/admin/Promociones/services/registrar_promocion.js","pages/admin/Promociones/services/actualizar_promocion.js","pages/admin/Promociones/promociones.js","pages/admin/Apartado/services/MostrarDatosTargeta.js","pages/admin/Apartado/services/DetalleApartado.js","pages/admin/Apartado/apartado.js","components/excel.js","pages/admin/Inventario/inventario.js","pages/admin/Sugerencias/services/sugerencia.js","pages/admin/Sugerencias/sugerencias.js","pages/admin/Carousel/services/carousel.js","pages/admin/Carousel/carousel.js","pages/admin/Blog/services/blogList.js","pages/admin/contexts/BlogContext.js","pages/admin/Blog/services/ActualizarBlog.js","pages/admin/Blog/services/RegistrarBlog.js","pages/admin/Blog/blog.js","pages/admin/Clientes/clientes.js","pages/users/Carusel_ofertas/carousel.js","pages/users/Productos/consulta_productos.js","pages/users/Ofertas/ofertasHome.js","pages/users/Datos_tienda/datos_tienda.js","pages/users/Registro/registro.js","pages/users/Login/login.js","components/Firebase/firebase.js","config/firebase.js","pages/users/Inicio_sesion/entrar.js","pages/users/Carrito/context_carrito/context-carrito.js","pages/users/Carrito/services/pedido_carrito.js","pages/users/Carrito/services/consultasCarrito.js","pages/users/Carrito/services/consultas_individuales.js","pages/users/Vista_Producto/subs/datos_cliente.js","pages/users/Carrito/modal_apartado.js","pages/users/Carrito/lista_carrito.js","pages/users/Carrito/services/obtenerStock.js","pages/users/Carrito/MostrarDatosCarrito.js","pages/users/Productos/productos.js","pages/users/Blogs/services/BlogList.js","pages/users/Blogs/services/ShowBlog.js","pages/users/Blogs/blog.js","pages/users/Pedidos/detalles.js","pages/users/Pedidos/detalleApartado.js","pages/users/Pedidos/pedidos.js","pages/users/Ofertas/ofertas.js","pages/users/Resultado_Busqueda/resultado_busqueda.js","pages/users/Perfiles/service/ActualizarUsuario.js","pages/users/Confirmacion_compra/services/traer_datos.js","pages/users/Confirmacion_compra/services/Verificacion_Tarjeta.js","pages/users/Confirmacion_compra/services/traer_pedido.js","pages/users/Confirmacion_compra/services/Confirmacion_Final.js","pages/users/Confirmacion_compra/confirmacion_compra.js","pages/users/Politicas/politicas.js","pages/users/Vista_Producto/subs/scroll.js","pages/users/Vista_Producto/subs/servicesSugerencia.js","pages/users/Vista_Producto/subs/sugerencia.js","pages/users/Vista_Producto/Galeria_tienda/galeria.js","pages/users/Vista_Producto/subs/services.js","pages/users/Vista_Producto/subs/cantidades_y_tallas.js","pages/users/Vista_Producto/Info_tienda/info-tienda.js","pages/users/Vista_Producto/vista_producto.js","pages/users/error404.js","config/routes.js","pages/admin/Publicidad/publicidad.js","pages/users/home.js","pages/users/Quienes_somos/quienes_somos.js","pages/users/Carrito/shopping_cart.js","pages/users/Resultado_Busqueda/404.js","pages/users/Perfiles/perfiles.js","pages/users/error500.js","pages/users/Success/success.js","pages/users/Success/error.js","App.js","index.js"],"names":["module","exports","Sider","Layout","token","localStorage","getItem","rol","JSON","parse","atob","split","e","parseJwt","Sidebar","style","height","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","type","className","theme","mode","defaultSelectedKeys","window","location","pathname","Item","key","icon","FundOutlined","to","TeamOutlined","AppstoreAddOutlined","FormOutlined","TagOutlined","ShoppingCartOutlined","PercentageOutlined","NotificationOutlined","PictureOutlined","EditOutlined","HomeOutlined","PoweroffOutlined","onClick","removeItem","reload","danger","LoadRoutes","routes","map","route","index","path","exact","component","MenuContext","createContext","MenuProvider","children","useState","active","setActive","loading","setLoading","Provider","value","clienteAxios","axios","create","baseURL","aws","SubMenu","Menu","RightMenu","props","decoded","jwt_decode","Jwt","ofertas","tienda","length","imagen","imagenFireBase","size","src","backgroundColor","nombre","charAt","SettingOutlined","firebase","signOut","setTimeout","LogoutOutlined","Search","Input","Header","withRouter","useContext","visible","setVisible","setTienda","carrito","setCarrito","setOfertas","a","get","_id","headers","Authorization","then","res","data","articulos","catch","forEach","datos","useEffect","obtenerOfertas","obtenerQuienesSomos","obtenerCarrito","tip","imagenLogo","alt","placeholder","onSearch","history","push","inlineIndent","count","fontSize","MenuOutlined","title","placement","closable","onClose","categorias","setCategorias","generos","setGeneros","scrollTo","obtenerCategorias","obtenerGeneros","categorias_nav","categoria","onTitleClick","subcCategoria","sub","categorias_generos","spinning","Footer","Style","FooterPage","face","setFace","insta","setInsta","twitter","setTwitter","imagenCorp","setImagenCorp","nombreCorp","setNombreCorp","politicas","setPoliticas","telefono","setTelefono","accion","setAccion","linkFace","linkInsta","linkTweeter","err","end","id","UserOutlined","KeyOutlined","textAlign","href","target","rel","FacebookFilled","color","InstagramFilled","TwitterCircleFilled","Geolocalizacion","width","center","titleLayer","zoom","apikey","nombreMarcador","tituloheader","draggable","L","mapquest","container","DomUtil","_leaflet_id","layers","tileLayer","marker","icons","bindPopup","addTo","addControl","control","role","Spin","Component","PoliticasEnvio","datosNegocio","setReloadInfo","disabled","setDisabled","setDatos","setControl","idTienda","setIdTienda","Form","useForm","form","setFieldsValue","costoEnvio","promocionEnvio","descuento","response","notification","error","message","description","duration","post","idAdministrador","success","put","obtenerDatos","showIcon","onFinish","label","onChange","name","wrapperCol","span","offset","help","suffix","htmlType","PlusCircleOutlined","RegistroTienda","upload","setUpload","files","setFiles","setImagen","undefined","ubicacion","lat","lng","calle_numero","direccion","cp","colonia","ciudad","estado","propss","listType","beforeUpload","file","reader","FileReader","readAsDataURL","onload","thumbUrl","result","onRemove","SendForm","formData","FormData","append","info","onFinishFailed","errorFields","errors","UploadOutlined","labelCol","rules","required","noStyle","valuePropName","init","menubar","plugins","toolbar","onEditorChange","content","editor","AlertTienda","action","setAction","setDatosNegocio","reloadInfo","politicasEnvio","setPoliticasEnvio","setLat","setLng","drawnerClose","obtenerPoliticasEnvio","screen","bodyStyle","paddingBottom","footer","margin","image","EyeOutlined","Helmet","charSet","ProductoContext","IdProductoContext","confirm","Modal","RegistrarGaleria","productoContext","galeria","setGaleria","subirBD","obtenerBD","imagenes","eliminarBD","idimagen","delete","prev","setPrev","render","url","ExclamationCircleOutlined","okText","okType","cancelText","onOk","DeleteOutlined","RegistrarTalla","disabledForm","disabledButtons","productos","setProductos","talla","cantidad","datosForm","subirTalla","resul","tallas","find","element","obtenerTalla","resetFields","eliminarTalla","idtalla","minWidth","gutter","RegistrarNumero","numero","subirNumero","numeros","obtenerNumero","eliminarNumero","idnumero","Option","Select","Step","Steps","layout","String","prototype","capitalize","this","toUpperCase","slice","formRef","useRef","setCloseDraw","closeDraw","current","setCurrent","setEditor","disabledPrev","setDisabledPrev","disabledform","setDisabledForm","disabledformProductos","setDisabledFormProductos","loadingCombo","setLoadingCombo","reloadProductos","item","setItem","buttonCat","setButtonCat","categoriasBD","setCategoriasBD","categoriasDefault","setCategoriasDefault","subcategoriasDefault","setSubcategoriasDefault","subCategoriasBD","setSubCategoriasBD","subCategoria","setSubCategoria","displayColorPicker","setDisplayColorPicker","setColor","valueSelect","setValueSelect","valueSelectSubCat","setValueSelectSubCat","styles","reactCSS","default","borderRadius","background","swatch","padding","boxShadow","display","cursor","popover","position","zIndex","cover","top","right","bottom","left","setSelect","next","obtenerSubcategorias","codigo","precio","select","genero","setGenero","tipoCategoria","setTipoCategoria","productoID","setProductoID","userStored","addItemCategoria","addItemSubCategoria","onCategoriaChange","onSubCategoriaChange","steps","dropdownRender","menu","flexWrap","flex","PlusOutlined","initialValues","ref","console","log","min","step","Group","compact","hex","existeGaleria","setExisteGaleria","idImagen","setIdImagen","antprops","propsActualizar","actualizarBD","formdata","status","ActualizarTalla","idTalla","setIdTalla","showZero","idTallas","ActualizarNumero","idNumero","setIdNumero","rellenarCampos","TabPane","Tabs","ActualizarProducto","descripcion","colorHex","obtenerValores","subirDatos","defaultActiveKey","tab","pagination","blogs","limite","currentPage","parseInt","page","defaultCurrent","total","totalDocs","newPage","onChangePage","defaultPageSize","formatoMexico","number","toString","replace","formatoFecha","fecha","Date","toLocaleDateString","weekday","year","month","day","formatoHora","hora","toLocaleTimeString","hour12","agregarPorcentaje","precio_descuento","precio_producto","Math","round","gridStyle","marginBottom","queryString","search","productosRender","setProductosRender","setReload","reloadData","setReloadData","visibleButton","setVisibleButton","eventoCloseConfirm","obtenerProductosFiltrados","busqueda","obtenerProductos","posts","limit","docs","Grid","hoverable","maxHeight","actions","todos","promo","precioPromocion","forceRender","justify","enterButton","RollbackOutlined","maxWidth","subTitle","DetallesPedido","pedido","datosDetalle","createdAt","fecha_envio","estado_pedido","pagado","cliente","email","producto","toLowerCase","TextArea","EstadoPedido","IDpedido","datosPedido","setPedido","pedidoID","obtenerPedido","cambiarEstado","mensaje_admin","paqueteria","codigo_seguimiento","orientation","overlay","DownOutlined","rows","Meta","Card","pedidos","setPedidos","pedidosPaginacion","setPedidosPaginacion","estadoVisible","setEstadoVisible","detallePedido","setDetallePedido","obtenerPedidos","obtenerPedidosFiltrados","filtro","handleCancel","ContainerOutlined","defaultValue","onCancel","demo","overflow","RegistrarPromocion","Checkbox","setContent","setData","hasMore","setHasMore","setPage","setTotalDocs","loadingList","setLoadingList","loadingSelect","setLoadingSelect","setProducto","promocion","setPromocion","setPrecioPromocion","disabledSumit","setDisabledSumit","validateStatus","setValidateStatus","inputValue","setInputValue","categoriasDB","setCategoriasDB","setCategoria","subcategoriasDB","setSubcategoriasDB","subcategoria","setSubcategoria","generosDB","setGenerosDB","nextPage","callback","propsUpload","formDataImagen","subirImagen","promocionBase","imagenPromocion","subirPromocion","obtenerFiltrosDivididos","cat","gen","ClearOutlined","initialLoad","pageStart","loadMore","concat","useWindow","threshold","dataSource","renderItem","avatar","max","tipFormatter","porcentaje","tooltipVisible","marks","0","50","100","prefix","ActualizarPromocion","obtenerPromocion","obtenerCampo","antDprops","antDpropsActualizar","actualizarImagen","productoPromocion","eliminarImagen","actualizarPromocion","setSearch","productosFiltrados","setProductosFiltrados","filter","includes","idProducto","showDeleteConfirm","eliminarPromocion","MostrarDatosTargeta","setDetalleApartado","showModal","apartado","setEstado","apellido","tipoEntrega","Text","Typography","DetalleApartado","detalleApartado","selectEstado","setSelectEstado","setpromocion","datosEnvio","setdatosEnvio","monstrarInformacionBlog","mensajeUser","guardarEstadoApartado","entre_calles","pais","medida","apartados","setApartados","apartadoPaginacion","setApartadoPaginacion","setFilter","GetDataFromExcelJusTInput","hojas","setHojas","fileList","setFileList","uploading","setUploading","propsUlpload","multiple","readAsArrayBuffer","onloadend","Uint8Array","workbook","XLSX","SheetNames","sheetName","XL_row_object","sheet_to_row_object_array","Sheets","columns","dataIndex","text","rowKey","scroll","x","Sugerencia","sugerencia","setSugerencia","productoSugerido","setProductoSugerido","modalVisible","setModalVisible","actualizar","setActualizar","obtenerProducto","obtenerSugerencia","obtenerTodosProductos","sugerencias","crearSugerencia","actualizarSugerencia","eliminarSugerencia","CloseOutlined","CheckOutlined","productosPaginacion","setProductosPaginacion","visibleReload","setVisibleReload","CarouselImages","imagenPreview","setImagenPreview","nombreImagen","setNombreImagen","antdProps","crearCarousel","obtenerNombreImagen","modalCrearVisible","setModalCrearVisible","obtenerCarouseles","carouselID","carousel","centered","blogList","setReloadBlog","showDrawer","setInfoBlog","deleteBlog","blog","itemLayout","Blog","administrador","BlogContext","ActualizarBlog","blogContext","urlGuion","obtenerUrl","trim","i","enviarDatos","RegistrarBlog","blogData","setBlogData","processPost","hide","setBlogs","reloadBlog","infoBlog","getBlogsApi","Clientes","clientes","setClientes","clientesPaginados","setClientesPaginados","obtenerClientes","obtenerClientesFiltrados","BgElement","Element","setIndex","carousels","setCarousels","esPromocion","obtenerCarousel","prefixCls","backgroundImage","autoPlay","activeIndex","onSelect","selectedIndex","delay","ConsultaProductos","propiedades","minHeight","class","dangerouslySetInnerHTML","__html","DOMPurify","sanitize","backgrounddivor","Datos_tienda","setDireccion","infor","setInfo","tailLayout","values","remember","Password","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","user","setUser","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","valores","contrasena","onAuthStateChanged","displayname","displayName","uid","photoURL","uiCallback","ui","disableAutoSignIn","firebaseAuth","CarritoContext","CarritoProvider","activador","setActivador","validacion","setValidacion","idcliente","nuevo","idarticulo","activo","arr","subtotal","articulo","idproducto","DatosCliente","clienteID","handleOk","controlBoton","setControlBoton","estadoBoton","setEstadoBoton","obtenerDatosUser","ModalApartado","tipoEnvio","setTipoEnvio","AgregarApartado","ListaCarrito","setMedida","setCantidad","disponible","setDisponible","medidaDisponible","setMedidaDisponible","setPrecio","cantidadChange","actualizarCantidad","comprar","AgregarPedido","eliminar","EliminarArticuloCarrito","ghost","obtenerSubtotal","ExportOutlined","setCliente","nuevoCarrito","setNuevoCarrito","setTotal","crearPedido","AgregarPedidoCarrito","obtenerDatosCarrito","obtenerStockCarrito","extra","fontWeight","Productos","BlogList","BlogsList2","ShowBlog","ObtenerBlog","useParams","Producto","faBus","Pedido","setElige","Apartado","deleteApartado","ResultadoBusqueda","match","params","ActualizarUsuario","datosUser","setAvatar","enviarFile","setEnviarFile","datosFormulario","setdatosFormulario","password","setPassword","contrasenaActual","repeatContrasena","tipoSesion","preview","datosPassword","UploadAvatar","onDrop","useCallback","acceptedFiles","URL","createObjectURL","useDropzone","accept","noKeyboard","getRootProps","getInputProps","isDragActive","Traer_datos","setDatosActualizados","faUser","Verificacion_Tarjeta","setIdPago","stripePromise","loadStripe","stripe","CheckoutForm","useStripe","elements","useElements","setName","postal","setPostal","typeCard","setTypeCard","numbrerCard","setNumbrerCard","dateCard1","setDateCard1","dateCard2","setDateCard2","activeCard","setActiveCard","controlClick","setcontrolClick","cvvCard","setCvvCard","handleSubmit","cardElement","getElement","CardNumberElement","createPaymentMethod","card","billing_details","address","postal_code","payload","paymentMethod","img_visa","img_mastercard","chip_tarjeta","htmlFor","brand","complete","cardOnChage","letterSpacing","onFocus","cardDateOnChange","cvvChange","Traer_pedido","pedidoCompleto","Confirmacion_Final","idPago","setDatosEnvio","traerCostosEnvio","parseFloat","crearPago","centavo","newPedido","datosPago","sesionStripe","amount","code","faTruck","faCcVisa","faCcMastercard","funding","last4","exp_month","exp_year","Politicas","lineHeight","Scroll","categoriaProducto","categoriaSugerencia","cantidadProducto","cantidadSugerencia","medidaProducto","medidaSugerencia","setProductoPromocion","cantidadFinalProducto","setCantidadFinalProducto","disponibilidad","setDisponibilidad","sugerenciaPromocion","setSugerenciaPromocion","validateStatusSug","setValidateStatusSug","setMedidaSugerencia","cantidadFinalSugerencia","setCantidadFinalSugerencia","disponibilidadSugerencia","setDisponibilidadSugerencia","promocionProducto","promocionSugerencia","showConfirm","IssuesCloseOutlined","toFixed","obtenerDisponibilidad","justifyContent","Galeria","setCount","original","thumbnail","imagenZoom","setImagenZoom","galery","showPlayButton","showNav","showFullscreenButton","ReactImageMagnify","imageClassName","enlargedImageContainerClassName","enlargedImageClassName","propiedadesImageMagnify","onThumbnailClick","disableKeyDown","obtenerImagen","obtenerGaleria","zoomHeight","setZoomHeight","zoomWidth","setZoomWidth","img","Image","naturalWidth","naturalHeight","smallImage","isFluidWidth","largeImage","enlargedImagePortalId","items","AgregarCarrito","formItemLayout","xs","sm","setTallas","setNumeros","setRender","cantidadFinal","setCantidadFinal","setDatosUser","modalMensaje","WhatsAppOutlined","obtenerTienda","TagsOutlined","BellOutlined","Carrito","readMore","setReadMore","setCostoEnvio","OnClickReadMore","marginRight","CreditCardOutlined","Error404","Content","AdminHome","RegistrarProductos","Pedidos","Promociones","SistemaApartado","Inventario","BlogAdmin","Sugerencias","Carousel","Entrar","Elige","showInfo","setshowInfo","obtenerApartados","Ofertas","VistaProducto","setPedidoCompleto","avatar_productos","nombre_productos","App","RoutesWithSubRoutes","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.b2adcd88.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/visa.d2eb00b7.png\";","module.exports = __webpack_public_path__ + \"static/media/mastercard.ae0915fe.png\";","module.exports = __webpack_public_path__ + \"static/media/chip-tarjeta.6611645b.png\";","import React from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './sidebar.scss';\r\nimport {\r\n\tFundOutlined,\r\n\tAppstoreAddOutlined,\r\n\tFormOutlined,\r\n\tPoweroffOutlined,\r\n\tTagOutlined,\r\n\tShoppingCartOutlined,\r\n\tNotificationOutlined,\r\n\tPercentageOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tHomeOutlined,\r\n\tTeamOutlined\r\n} from '@ant-design/icons';\r\n\r\nconst { Sider } = Layout;\r\nconst token = localStorage.getItem('token');\r\nconst rol = parseJwt(token);\r\n\r\nfunction parseJwt(token) {\r\n\ttry {\r\n\t\treturn JSON.parse(atob(token.split('.')[1]));\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nconst Sidebar = () => {\r\n\treturn (\r\n\t\t<Sider\r\n\t\t\tstyle={{ height: '100vh' }}\r\n\t\t\tbreakpoint=\"lg\"\r\n\t\t\tcollapsedWidth=\"0\"\r\n\t\t\tonBreakpoint={(broken) => {\r\n\t\t\t\t/* console.log(broken); */\r\n\t\t\t}}\r\n\t\t\tonCollapse={(collapsed, type) => {\r\n\t\t\t\t/* console.log(collapsed, type); */\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"ml-1\">\r\n\t\t\t\t\t<h6 className=\"text-white\">Bienvenido</h6>\r\n\t\t\t\t\t{token ? <h5 className=\"text-white\">{rol['nombre']}</h5> : <div />}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[ window.location.pathname ]}>\r\n\t\t\t\t<Menu.Item key=\"/admin\" icon={<FundOutlined />}>\r\n\t\t\t\t\tPanel principal<Link to=\"/admin\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/clientes\" icon={<TeamOutlined />}>\r\n\t\t\t\t\tClientes<Link to=\"/admin/clientes\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/productos\" icon={<AppstoreAddOutlined />}>\r\n\t\t\t\t\tProductos<Link to=\"/admin/productos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/inventario\" icon={<FormOutlined />}>\r\n\t\t\t\t\tInventario<Link to=\"/admin/inventario\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sistema_apartado\" icon={<TagOutlined />}>\r\n\t\t\t\t\tSistema de Apartado<Link to=\"/admin/sistema_apartado\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/pedidos\" icon={<ShoppingCartOutlined />}>\r\n\t\t\t\t\tPedidos Pendientes<Link to=\"/admin/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/promociones\" icon={<PercentageOutlined />}>\r\n\t\t\t\t\tPromociones<Link to=\"/admin/promociones\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/sugerencias\" icon={<NotificationOutlined />}>\r\n\t\t\t\t\tSugerencias de compra<Link to=\"/admin/sugerencias\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/carousel\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tBanner principal<Link to=\"/admin/carousel\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/publicidad\" icon={<PictureOutlined />}>\r\n\t\t\t\t\tPublicidad<Link to=\"/admin/publicidad\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item key=\"/admin/blog\" icon={<EditOutlined />}>\r\n\t\t\t\t\tBlog<Link to=\"/admin/blog\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<HomeOutlined />}>\r\n\t\t\t\t\tPagina principal<Link to=\"/\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t\t<Menu.Item icon={<PoweroffOutlined />}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar Sesión\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t</Menu>\r\n\t\t</Sider>\r\n\t);\r\n};\r\n\r\nexport default Sidebar;\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Sidebar from '../Navegacion_Admin/Sidebar';\r\nimport { Layout, Breadcrumb } from 'antd';\r\nimport './layoutAdmin.scss';\r\n\r\nexport default function LayoutAdmin(props) {\r\n\tconst { routes } = props;\r\n\tconst { Header, Content } = Layout;\r\n\tconst path = window.location.pathname.split('/')\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<Layout>\r\n\t\t\t\t\t<Sidebar />\r\n\t\t\t\t\t<Layout className=\"site-layout\">\r\n\t\t\t\t\t\t<Header className=\"breadcrumb-head site-layout-background bg-white\" style={{ padding: 0 }}>\r\n\t\t\t\t\t\t\t<Breadcrumb style={{ margin: '16px 16px' }}>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[1]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[2]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t\t<Breadcrumb.Item>{path[3]}</Breadcrumb.Item>\r\n\t\t\t\t\t\t\t</Breadcrumb>\r\n\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t<Content style={{ margin: '24px 16px 0' }}>\r\n\t\t\t\t\t\t\t<div className=\"site-layout-background bg-white\" style={{ padding: 24, minHeight: 360 }}>\r\n\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</Layout>\r\n\t\t</Fragment>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createContext, useState } from \"react\"\r\n\r\nexport const MenuContext = createContext()\r\n\r\nexport const MenuProvider = ({ children }) => {\r\n  const [active, setActive] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  return (\r\n    <MenuContext.Provider value={{active,setActive, loading, setLoading}}>\r\n      {children}\r\n    </MenuContext.Provider>\r\n  );\r\n};","import axios from 'axios'\r\nimport 'dotenv';\r\n\r\nconst clienteAxios = axios.create({\r\n    baseURL : 'https://tienda-vinos-zepeda.herokuapp.com/api'\r\n})\r\n\r\nexport default clienteAxios","import 'dotenv';\r\n\r\nconst aws = 'https://tienda-zepeda.s3-us-west-1.amazonaws.com/';\r\n\r\nexport default aws","import React from 'react';\r\nimport { Menu, Avatar } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { LogoutOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../config/aws';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nfunction RightMenu(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tconst { ofertas, tienda } = props;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Menu defaultSelectedKeys={[ window.location.pathname ]} className=\"navbar-menu-general\">\r\n\t\t\t<Menu.Item key=\"/\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tInicio<Link to=\"/\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"/productos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tProductos<Link to=\"/productos\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{ofertas.length ? (\r\n\t\t\t\t<Menu.Item key=\"/ofertas\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tOfertas<Link to=\"/ofertas\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t\t<Menu.Item key=\"/blog\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\tBlog<Link to=\"/blog\" />\r\n\t\t\t</Menu.Item>\r\n\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/quienes_somos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tQuiénes somos<Link to=\"/quienes_somos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item key=\"/pedidos\" className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tMis pedidos<Link to=\"/pedidos\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t)}\r\n\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t<SubMenu\r\n\t\t\t\t\tclassName=\"nav-font-color nav-border-color\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t</SubMenu>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\r\n\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t<Menu.Item className=\"navbar-menu-general nav-font-color\">\r\n\t\t\t\t\tEntrar<Link to=\"/entrar\" />\r\n\t\t\t\t</Menu.Item>\r\n\t\t\t) : (\r\n\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t)}\r\n\t\t</Menu>\r\n\t);\r\n}\r\n\r\nexport default RightMenu;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Button, Input, Drawer, Badge, Avatar, Spin } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport * as firebase from 'firebase/app';\r\nimport './navegacion.scss';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport { MenuOutlined, ShoppingCartOutlined, SettingOutlined, LogoutOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../config/axios';\r\nimport RightMenu from './RightMenu';\r\nimport { MenuContext } from '../../context/carritoContext';\r\nimport aws from '../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Header } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Navegacion = (props) => {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\tconst [ carrito, setCarrito ] = useState(0);\r\n\tconst [ ofertas, setOfertas ] = useState([]);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetActive(true);\r\n\t\t\tobtenerOfertas();\r\n\t\t\tobtenerQuienesSomos();\r\n\t\t\tif (token) {\r\n\t\t\t\tobtenerCarrito();\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ token, active ]\r\n\t);\r\n\r\n\tasync function obtenerCarrito() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCarrito(res.data.articulos.length);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetCarrito(0);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerQuienesSomos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/tienda')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((datos) => {\r\n\t\t\t\t\tsetTienda(datos);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerOfertas() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetOfertas(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst onClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tif (loading) {\r\n\t\treturn (\r\n\t\t\t<div className=\"preloading\">\r\n\t\t\t\t<div className=\"contenedor-preloading\">\r\n\t\t\t\t\t<Spin size=\"large\" tip=\"Cargando la tienda...\" className=\"class-spin\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout className=\"layout navbar-menu-general a0\">\r\n\t\t\t<Header className=\"navbar-menu-general a1\">\r\n\t\t\t\t<div className=\"menuCon navbar-menu-general a2\">\r\n\t\t\t\t\t<div className=\"top-menu row a3\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 a3\">\r\n\t\t\t\t\t\t\t<div className=\"row a3\">\r\n\t\t\t\t\t\t\t\t{!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-3 contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"¿Qué estás buscando?\"\r\n\t\t\t\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"search-navbar\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-6 nav-menu-enlaces a4 \">\r\n\t\t\t\t\t\t\t<Menu\r\n\t\t\t\t\t\t\t\tclassName=\"float-right navbar-menu-general a5\"\r\n\t\t\t\t\t\t\t\t/* theme=\"light\" */\r\n\t\t\t\t\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\t\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t\t\t\t\t\tinlineIndent={0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/\">\r\n\t\t\t\t\t\t\t\t\t<p>Inicio</p>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/productos\">\r\n\t\t\t\t\t\t\t\t\t<p>Productos</p>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/productos\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{ofertas.length ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/ofertas\">\r\n\t\t\t\t\t\t\t\t\t\t<p>Ofertas</p>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/ofertas\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/blog\">\r\n\t\t\t\t\t\t\t\t\t<p>Blog</p>\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/blog\" />\r\n\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t{tienda.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/quienes_somos\">\r\n\t\t\t\t\t\t\t\t\t\t<p>Quiénes somos</p>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/quienes_somos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t<p>Mis compras</p>\r\n\t\t\t\t\t\t\t\t\t\t<Link to=\"/pedidos\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\" key=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 25 }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{token && decoded['rol'] === false ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen && !decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : decoded.imagenFireBase ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" src={decoded.imagenFireBase} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+decoded.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\" nav-border-color\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Mi cuenta<Link to=\"/perfiles\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : decoded && decoded['rol'] === true ? (\r\n\t\t\t\t\t\t\t\t\t<SubMenu\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"nav-font-color nav-border-color a6\"\r\n\t\t\t\t\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t\t\t\t\t!decoded.imagen ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar size=\"large\" style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p>{decoded.nombre.charAt(0)}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + decoded.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>{decoded.nombre.charAt(0)}</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<SettingOutlined />Panel de administrador<Link to=\"/admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-danger\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfirebase.auth().signOut();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<LogoutOutlined />Cerrar Sesión\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t\t</SubMenu>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t{token === '' || token === null ? (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"nav-font-color nav-border-color a6\">\r\n\t\t\t\t\t\t\t\t\t\t<p>Entrar</p><Link to=\"/entrar\" />\r\n\t\t\t\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Menu>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"top-menu-responsive nav-font-color\">\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"barsMenu\" onClick={showDrawer}>\r\n\t\t\t\t\t\t\t<MenuOutlined style={{ fontSize: 22 }} />\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-nav-responsive\"\r\n\t\t\t\t\t\t\tplaceholder=\"input search text\"\r\n\t\t\t\t\t\t\tonSearch={(value) => props.history.push(`/searching/${value}`)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{!decoded || decoded.rol === true ? (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge count={carrito}>\r\n\t\t\t\t\t\t\t\t<Link to=\"/shopping_cart\">\r\n\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 28 }} />\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Drawer\r\n\t\t\t\t\t\tclassName=\"drawer-background\"\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t!tienda.imagenLogo ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-logo\">\r\n\t\t\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-logo-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tplacement=\"left\"\r\n\t\t\t\t\t\tclosable={false}\r\n\t\t\t\t\t\tonClose={onClose}\r\n\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<RightMenu ofertas={ofertas} tienda={tienda} />\r\n\t\t\t\t\t</Drawer>\r\n\t\t\t\t</div>\r\n\t\t\t</Header>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Navegacion);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Layout, Menu, Spin } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './categorias.scss';\r\nimport './preloading.scss';\r\nimport clienteAxios from '../../config/axios';\r\nimport { MenuContext } from '../../context/carritoContext';\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Categorias = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ categorias, setCategorias ] = useState([]);\r\n\tconst [ generos, setGeneros ] = useState([]);\r\n/* \tconst [ loading, setLoading ] = useState(false); */\r\n\tconst { loading, setLoading } = useContext(MenuContext);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerCategorias();\r\n\t\tobtenerGeneros();\r\n\t}, []);\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCategorias(res.data);\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGeneros(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t});\r\n\t}\r\n\t\r\n\tif(!generos || !categorias){\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst categorias_nav = categorias.map((categoria) => {\r\n\t\treturn (\r\n\t\t\t<SubMenu\r\n\t\t\t\tkey={categoria.categoria}\r\n\t\t\t\ttitle={categoria.categoria}\r\n\t\t\t\tclassName=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\"\r\n\t\t\t\tonTitleClick={() => props.history.push(`/searching/${categoria.categoria}`)}\r\n\t\t\t>\r\n\t\t\t\t{categoria.subcCategoria.map((sub) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Menu.Item\r\n\t\t\t\t\t\t\t/* className=\"nav-font-color-categorias\" */\r\n\t\t\t\t\t\t\tkey={sub._id}\r\n\t\t\t\t\t\t\tonClick={() => props.history.push(`/searching/${sub._id}`)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{sub._id}\r\n\t\t\t\t\t\t</Menu.Item>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</SubMenu>\r\n\t\t);\r\n\t});\r\n\r\n\tconst categorias_generos = generos.map((generos) => {\r\n\t\treturn (\r\n\t\t\t<Menu.Item\r\n\t\t\t\t/* className=\"nav-font-color-categorias \" */\r\n\t\t\t\tkey={generos._id}\r\n\t\t\t\tonClick={() => props.history.push(`/searching/${generos._id}`)}\r\n\t\t\t>\r\n\t\t\t\t{generos._id}\r\n\t\t\t</Menu.Item>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Layout className=\"container-subcategorias-nav d-lg-inline size-layout-cat\">\r\n\t\t\t<Spin className=\"ml-5 d-inline spin-nav-categorias\" spinning={loading} />\r\n\t\t\t<Menu\r\n\t\t\t\tclassName=\"categorias-navbar d-inline size-menu-cat\"\r\n\t\t\t\ttheme=\"light\"\r\n\t\t\t\tmode=\"horizontal\"\r\n\t\t\t\tdefaultSelectedKeys={[ window.location.pathname ]}\r\n\t\t\t>\r\n\t\t\t\t{categorias_nav}\r\n\t\t\t\t{generos.length !== 0 ? (\r\n\t\t\t\t\t<SubMenu title=\"Género\" className=\"submenu-categoria nav-font-color-categorias container-subcategorias-nav size-submenu-cat\">\r\n\t\t\t\t\t\t{categorias_generos}\r\n\t\t\t\t\t</SubMenu>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Menu.Item className=\"d-none\" />\r\n\t\t\t\t)}\r\n\t\t\t</Menu>\r\n\t\t</Layout>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Categorias);\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../config/axios';\r\nimport { Link } from 'react-router-dom';\r\nimport {  Button,  Layout} from 'antd';\r\n\r\nimport {FacebookFilled, InstagramFilled, TwitterCircleFilled, UserOutlined, KeyOutlined } from '@ant-design/icons';\r\nimport './footer.scss';\r\nimport '../../scss/variables.scss'\r\n\r\n const { Footer } = Layout;\r\nconst Style = {fontSize:15};\r\n\r\n\r\n\r\nconst FooterPage = () => {\r\n\r\n    const [face, setFace] = useState('')\r\n    const [insta, setInsta] = useState('')\r\n    const [twitter, setTwitter] = useState('')\r\n    const [imagenCorp, setImagenCorp] = useState('')\r\n    const [nombreCorp, setNombreCorp] = useState('')\r\n    const [politicas, setPoliticas] = useState('')\r\n    const [telefono, setTelefono] = useState('')\r\n    const [accion, setAccion] = useState(false)\r\n\r\n    \r\n\r\n    function peticionRedes(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                if(res.data[0]){\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                    setNombreCorp(res.data[0].nombre)\r\n                    setPoliticas(res.data[0].politicas)\r\n                    setTelefono(res.data[0].telefono)\r\n                    if(res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== ''){\r\n                        setFace(res.data[0].linkFace);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== ''){\r\n                        setInsta(res.data[0].linkInsta);\r\n                        setAccion(true);\r\n                    }\r\n                    if(res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== ''){\r\n                        setTwitter(res.data[0].linkTweeter);\r\n                        setAccion(true);\r\n                    }\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n               \r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        peticionRedes();\r\n        setAccion(false)\r\n    }, []);\r\n    \r\n\r\n\r\n\r\n    return(\r\n       \r\n         <Layout className=\"layout\">\r\n             <Footer className=\"bg-footer\" >\r\n                <div end=\"xs\" id=\"foot\"  className=\"row footer-font-color\">  \r\n                    <div className=\"col-lg-9 text-lg-left text-center footer-font-color\">\r\n                        <div className=\"footer-border footer-font-color\">\r\n                            {imagenCorp !== '' ? (\r\n                                <Link  to=\"/quienes_somos\" >\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><UserOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Conócenos\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n\r\n                            {politicas !== '' ? (\r\n                                <Link  to=\"/politicas\">\r\n                                    <Button className=\"footer-font-color\" id=\"is\" type=\"link\" style={Style} ><KeyOutlined className=\"footer-font-color\" style={{fontSize: 17}}/>\r\n                                        Aviso de Privacidad\r\n                                    </Button>\r\n                                </Link>\r\n                            ): \"\"}\r\n                        </div>\r\n\r\n                        <div className=\"mt-2 p-3 font-color-footer\">\r\n                            <h2 className=\"footer-font-color\" style={{fontSize: 18}} >{nombreCorp !== '' ? nombreCorp : \"\"}</h2>\r\n                            {telefono !== '' ? (<p className=\"footer-font-color\">Teléfono: {telefono} </p>): \"\"}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-3 p-3\" style={{textAlign:\"center\"}}>\r\n                        {accion ? (<p style={{fontSize: 30, }}>Buscanos en:</p>):\"\"}\r\n                        \r\n\r\n                        {face !== '' ? \r\n                            (\r\n                            <a href={face} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <FacebookFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        \r\n                        }\r\n                        {insta !== '' ? \r\n                            (\r\n                            <a href={insta} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <InstagramFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                        {twitter !== '' ? \r\n                            (\r\n                            <a href={twitter} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                                <TwitterCircleFilled  id=\"is\" style={{fontSize: 45, color:\"gray\"}} />\r\n                            </a>\r\n                            ):('')\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n             {/* <p style={{textAlign:\"center\"}}>Ant Design ©2018 Created by Ant UED</p> */}\r\n             </Footer>\r\n         </Layout>\r\n    )\r\n}\r\n\r\nexport default FooterPage;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Layout } from 'antd';\r\nimport { MenuProvider } from '../../context/carritoContext';\r\nimport Navegacion from '../../components/Navegacion/Navegacion';\r\nimport Categorias from '../Categorias/Categorias';\r\nimport FooterPage from '../../components/Footer/Footer';\r\nimport './layout.scss';\r\n\r\nexport default function LayoutBasic(props) {\r\n\tconst { routes } = props;\r\n\tconst { Content, Footer } = Layout;\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"cuerpo bg-layout\">\r\n\t\t\t\t\t<Layout>\r\n\t\t\t\t\t\t<MenuProvider>\r\n\t\t\t\t\t\t\t<Navegacion />\r\n\t\t\t\t\t\t\t<Categorias />\r\n\t\t\t\t\t\t\t<Content style={{ height: 'auto' }} className=\"bg-layout\">\r\n\t\t\t\t\t\t\t\t<div className=\"site-layout-content flex\">\r\n\t\t\t\t\t\t\t\t\t<LoadRoutes routes={routes} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Content>\r\n\t\t\t\t\t\t</MenuProvider>\r\n\t\t\t\t\t</Layout>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer className=\"foot\" style={{ margin: 0, padding: 0 }}>\r\n\t\t\t\t\t<FooterPage style={{ margin: 0, padding: 0 }} />\r\n\t\t\t\t</Footer>\r\n\t\t\t</Layout>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction LoadRoutes({ routes }) {\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t{routes.map((route, index) => (\r\n\t\t\t\t<Route key={index} path={route.path} exact={route.exact} component={route.component} />\r\n\t\t\t))}\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nexport default function Geolocalizacion({\r\n\theight,\r\n\twidth,\r\n\tcenter,\r\n\ttitleLayer,\r\n\tzoom,\r\n\tapikey,\r\n\tnombreMarcador,\r\n\ttituloheader,\r\n\tdraggable\r\n}) {\r\n\tuseEffect(() => {\r\n\t\t//api key\r\n\t\twindow.L.mapquest.key = apikey;\r\n\r\n\t\tvar container = window.L.DomUtil.get('map');\r\n\t\tif (container != null) {\r\n\t\t\tcontainer._leaflet_id = null;\r\n\t\t}\r\n\r\n\t\t//inicializar el map\r\n\t\tconst map = window.L.mapquest.map('map', {\r\n\t\t\tcenter,\r\n\t\t\tlayers: window.L.mapquest.tileLayer(titleLayer),\r\n\t\t\tzoom\r\n\t\t});\r\n\r\n          /* console.log(map); */\r\n\r\n          window.L.marker(center, {\r\n            icon: window.L.mapquest.icons.marker(),\r\n            draggable: false\r\n          }).bindPopup(nombreMarcador).addTo(map);\r\n\r\n          map.addControl(window.L.mapquest.control());\r\n         /*  console.log(window.L.mapquest.control()) */\r\n    })\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{tituloheader ? (\r\n\t\t\t\t<div className=\"principal-productos\">\r\n\t\t\t\t\tENCUENTRA NUESTRA TIENDA\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div id=\"map\" style={{ height, width }} className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"spinner-border display-3\" style={{ width: '10rem', height: '10rem' }} role=\"status\">\r\n\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Spin as Spinner } from 'antd';\r\nimport './spin.scss';\r\n\r\nexport default class Spin extends Component {\r\n    render() {\r\n        return (\r\n                <div className=\"spin-container\">\r\n                    <Spinner size=\"large\" tip=\"Loading...\" className=\"spin__verticalCenter spin\"/>\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Alert, notification, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nexport default function PoliticasEnvio(props) {\r\n\tconst { datosNegocio, setReloadInfo } = props;\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ idTienda, setIdTienda ] = useState('');\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos();\r\n\t\t\tif (!datosNegocio) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tasync function obtenerDatos() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (!res.data) {\r\n\t\t\t\t\tsetControl(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetControl(true);\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tcostoEnvio: res.data.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: res.data.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: res.data.descuento\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetIdTienda(res.data._id);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function SendForm() {\r\n\t\tif (control === false) {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(\r\n\t\t\t\t\t'/politicasEnvio/',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tidTienda: datosNegocio._id,\r\n\t\t\t\t\t\tidAdministrador: decoded._id,\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(\r\n\t\t\t\t\t`/politicasEnvio/${idTienda}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcostoEnvio: datos.costoEnvio,\r\n\t\t\t\t\t\tpromocionEnvio: datos.promocionEnvio,\r\n\t\t\t\t\t\tdescuento: datos.descuento\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Listo!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Divider className=\"mt-5\">Politicas de envío</Divider>\r\n\t\t\t{disabled ? (\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Nota:\"\r\n\t\t\t\t\tdescription=\"No puedes registrar las políticas de envió sin antes registrar los datos de la tienda\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t\tclassName=\"m-5\"\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<Form onFinish={SendForm} form={form}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Costo de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, costoEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"costoEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la paqueteria\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"costoEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Promoción de envío\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, promocionEnvio: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"promocionEnvio\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Se aplica una promoción de envío a clientes que superen esta cantidad\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"promocionEnvio\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\tlabel=\"Descuento\"\r\n\t\t\t\t\tonChange={(e) => setDatos({ ...datos, descuento: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"descuento\"\r\n\t\t\t\t\t\twrapperCol={{ span: 12, offset: 1 }}\r\n\t\t\t\t\t\thelp=\"Costo de envío de la promoción\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input type=\"number\" name=\"descuento\" suffix=\"$\" disabled={disabled} />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar politicas de envío' : 'Actualizar politicas de envío'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Form, Input, Divider, Button, Upload, notification, Alert } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, UploadOutlined } from '@ant-design/icons';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport PoliticasEnvio from './politicas_envio';\r\nimport aws from '../../../../../config/aws';\r\n\r\nexport default function RegistroTienda(props) {\r\n\tconst { datosNegocio, token, setLoading, setReloadInfo } = props;\r\n\r\n\tconst [ datos, setDatos ] = useState({});\r\n\tconst [ control, setControl ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState('');\r\n\r\n\tconst monstrarInformacionBlog = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosNegocio !== undefined) {\r\n\t\t\t\tsetImagen(datosNegocio.imagenLogo);\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lat = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.ubicacion[0].lng = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkFace === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkFace = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkInsta === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkInsta = '';\r\n\t\t\t\t}\r\n\t\t\t\tif (datosNegocio.linkTweeter === 'undefined') {\r\n\t\t\t\t\tdatosNegocio.linkTweeter = '';\r\n\t\t\t\t}\r\n\t\t\t\tmonstrarInformacionBlog({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnombre: datosNegocio.nombre,\r\n\t\t\t\t\ttelefono: datosNegocio.telefono,\r\n\t\t\t\t\tcalle_numero: datosNegocio.direccion[0].calle_numero,\r\n\t\t\t\t\tcp: datosNegocio.direccion[0].cp,\r\n\t\t\t\t\tcolonia: datosNegocio.direccion[0].colonia,\r\n\t\t\t\t\tciudad: datosNegocio.direccion[0].ciudad,\r\n\t\t\t\t\testado: datosNegocio.direccion[0].estado,\r\n\t\t\t\t\tlat: datosNegocio.ubicacion[0].lat,\r\n\t\t\t\t\tlng: datosNegocio.ubicacion[0].lng,\r\n\t\t\t\t\tpoliticas: datosNegocio.politicas,\r\n\t\t\t\t\timagenCorp: datosNegocio.imagenCorp,\r\n\t\t\t\t\tlinkFace: datosNegocio.linkFace,\r\n\t\t\t\t\tlinkInsta: datosNegocio.linkInsta,\r\n\t\t\t\t\tlinkTweeter: datosNegocio.linkTweeter\r\n\t\t\t\t});\r\n\t\t\t\tsetControl(true);\r\n\t\t\t} else {\r\n\t\t\t\tsetDatos({});\r\n\t\t\t\tsetControl(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ datosNegocio ]\r\n\t);\r\n\r\n\tconst capturarPoliticasEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, politicas: content });\r\n\t};\r\n\r\n\tconst capturarImagenCorpEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, imagenCorp: content });\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst SendForm = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('telefono', datos.telefono);\r\n\t\tformData.append('calle_numero', datos.calle_numero);\r\n\t\tformData.append('cp', datos.cp);\r\n\t\tformData.append('colonia', datos.colonia);\r\n\t\tformData.append('ciudad', datos.ciudad);\r\n\t\tformData.append('estado', datos.estado);\r\n\t\tformData.append('lat', datos.lat);\r\n\t\tformData.append('lng', datos.lng);\r\n\t\tformData.append('politicas', datos.politicas);\r\n\t\tformData.append('imagenCorp', datos.imagenCorp);\r\n\t\tformData.append('linkFace', datos.linkFace);\r\n\t\tformData.append('linkInsta', datos.linkInsta);\r\n\t\tformData.append('linkTweeter', datos.linkTweeter);\r\n\r\n\t\tif (control === false) {\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/tienda/', formData, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (files.length !== 0) {\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/tienda/${datosNegocio._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetReloadInfo(true);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form onFinish={SendForm} form={form} onFinishFailed={onError}>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Divider>Logo del negocio</Divider>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 900x300px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"m-auto\">\r\n\t\t\t\t\t\t\t<Form.Item label=\"Logo\">\r\n\t\t\t\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t{control === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p className=\"text-center\">Imagen actual:</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws + imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de la tienda</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Nombre\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, nombre: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre del negocio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6 col-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Telefono \"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 5 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, telefono: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"Telefono\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Calle\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, calle_numero: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"calle_numero\" placeholder=\"Calle y Numero\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Código Postal \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, cp: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Código Postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Colonia \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, colonia: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row mt-3 justify-content-center\">\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Ciudad\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, ciudad: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Ciudad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Estado\"\r\n\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 15 }}\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, estado: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado donde vives\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Divider>Ubicación</Divider>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Latitud \"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lat: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Latitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lat\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lat\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4 col-12\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\t\tlabel=\"Longitud\"\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 4 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, lng: e.target.value })}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Longitud obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"lng\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"lng\" placeholder=\"Latitud\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Redes sociales</Divider>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Facebook \"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkFace: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkFace\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkFace\" placeholder=\"https://facebook.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Instagram\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkInsta: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkInsta\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkInsta\" placeholder=\"https://instagram.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tclassName=\"m-2\"\r\n\t\t\t\t\t\t\tlabel=\"Tweeter\"\r\n\t\t\t\t\t\t\tonChange={(e) => setDatos({ ...datos, linkTweeter: e.target.value })}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Item noStyle name=\"linkTweeter\">\r\n\t\t\t\t\t\t\t\t<Input name=\"linkTweeter\" placeholder=\"https://twitter.com/\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Información de Políticas de la empresa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\" valuePropName=\"Editor\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Politicas de privacidad obligatorias' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"politicas\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarPoliticasEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<Divider>Imagen corporativa</Divider>\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<Form.Item className=\"m-2\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Imagen corporativa es obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle */\r\n\t\t\t\t\t\t\t\tname=\"imagenCorp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={capturarImagenCorpEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"text-center\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\tcontrol === false ? (\r\n\t\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{control === false ? 'Registrar informacion de la tienda' : 'Editar informacion de la tienda'}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t\t<PoliticasEnvio datosNegocio={datosNegocio} setReloadInfo={setReloadInfo} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Drawer, Alert, notification, Empty } from 'antd';\r\nimport clienteAxios from '../../../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Geolocalizacion from '../../../../users/geolocalizacion';\r\nimport './MostrarRegistroTienda.scss';\r\nimport {\r\n\tPlusCircleOutlined,\r\n\tEditOutlined,\r\n\tEyeOutlined,\r\n\tFacebookFilled,\r\n\tInstagramFilled,\r\n\tTwitterCircleFilled\r\n} from '@ant-design/icons';\r\nimport Spin from '../../../../../components/Spin';\r\nimport RegistroTienda from './RegistroTienda';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../../../config/aws';\r\n\r\nfunction MostrarRegistroTienda(props) {\r\n\tconst { token } = props;\r\n\r\n\tconst [ action, setAction ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datosNegocio, setDatosNegocio ] = useState({});\r\n\tconst [ face, setFace ] = useState('');\r\n\tconst [ insta, setInsta ] = useState('');\r\n\tconst [ twitter, setTwitter ] = useState('');\r\n\r\n\tconst [ reloadInfo, setReloadInfo ] = useState(false);\r\n\tconst [ politicasEnvio, setPoliticasEnvio ] = useState([]);\r\n\r\n\tconst [ lat, setLat ] = useState('');\r\n\tconst [ lng, setLng ] = useState('');\r\n\r\n\tconst showDrawer = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst drawnerClose = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction peticionDatosTienda() {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosNegocio(res.data[0]);\r\n\t\t\t\tif (res.data[0]) {\r\n\t\t\t\t\tsetAction(true);\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lat === '' || res.data[0].ubicacion[0].lat === 'undefined') {\r\n\t\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLat(res.data[0].ubicacion[0].lat);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].ubicacion[0].lng === '' || res.data[0].ubicacion[0].lng === 'undefined') {\r\n\t\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetLng(res.data[0].ubicacion[0].lng);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkFace !== 'undefined' && res.data[0].linkFace !== '') {\r\n\t\t\t\t\t\tsetFace(res.data[0].linkFace);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkInsta !== 'undefined' && res.data[0].linkInsta !== '') {\r\n\t\t\t\t\t\tsetInsta(res.data[0].linkInsta);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.data[0].linkTweeter !== 'undefined' && res.data[0].linkTweeter !== '') {\r\n\t\t\t\t\t\tsetTwitter(res.data[0].linkTweeter);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetLat('19.767980');\r\n\t\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\t}\r\n\t\t\t\t/*             if(res.data[0] !== {}){\r\n                setAction(true)\r\n                setLat(res.data[0].ubicacion[0].lat)\r\n                setLng(res.data[0].ubicacion[0].lng)\r\n            }else{\r\n                setLat(\"19.767980\")\r\n                setLng(\"-104.358159\")\r\n            } */\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetLat('19.767980');\r\n\t\t\t\tsetLng('-104.358159');\r\n\t\t\t\tsetDatosNegocio({});\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPoliticasEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tpeticionDatosTienda();\r\n\t\t\tobtenerPoliticasEnvio();\r\n\t\t\tsetReloadInfo(false);\r\n\t\t},\r\n\t\t[ reloadInfo ]\r\n\t);\r\n\r\n\tif (loading) {\r\n\t\treturn <Spin />;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"info-tienda\">\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={\r\n\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t'Registrando la información del negocio'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Actualizando la información del negocio'\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={drawnerClose} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<RegistroTienda\r\n\t\t\t\t\tdatosNegocio={datosNegocio}\r\n\t\t\t\t\ttoken={token}\r\n\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\tsetReloadInfo={setReloadInfo}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\r\n\t\t\t<div className=\"contenedor-boton-datostienda\">\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tclassName=\"m-3\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\taction === false ? (\r\n\t\t\t\t\t\t\t<PlusCircleOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 24 }} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{action === false ? 'Agregar información tienda' : 'Actualizar información tienda'}\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"text-center mt-3\">\r\n\t\t\t\t<p className=\"text-center mb-4 font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t'Ey aún no agregas la información de tu negocio.'\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Información de tu negocio'\r\n\t\t\t\t\t)}{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"w-50\" style={{ margin: 'auto' }}>\r\n\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t<Alert message=\"Nota:\" description={<AlertTienda />} type=\"info\" showIcon />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{action === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">Logo del negocio:</p>\r\n\t\t\t\t\t\t<div className=\"mostrarRegistroTienda-imagen m-3\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid \"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws+datosNegocio.imagenLogo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tNombre del negocio:{' '}\r\n\t\t\t\t\t\t\t<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Nombre de tu negocio' : datosNegocio.nombre}{' '}\r\n\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tTeléfono:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Teléfono' : datosNegocio.telefono}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCódigo Postal:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Código Postal' : datosNegocio.direccion[0].cp}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCalle:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Calle' : datosNegocio.direccion[0].calle_numero}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tColonia:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].colonia}{' '}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-md-4 col-sm-12 mb-2 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tCiudad:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Colonia' : datosNegocio.direccion[0].ciudad} Ciudad\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row justify-content-around\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\tEstado:<span className=\"h5\">\r\n\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t{action === false ? 'Estado' : datosNegocio.direccion[0].estado}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12 shadow\">\r\n\t\t\t\t\t\t<p className=\"m-2 h5 font-weight-bold\">Redes sociales:</p>\r\n\t\t\t\t\t\t{face !== '' ? (\r\n\t\t\t\t\t\t\t<a href={face} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<FacebookFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{insta !== '' ? (\r\n\t\t\t\t\t\t\t<a href={insta} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<InstagramFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t{twitter !== '' ? (\r\n\t\t\t\t\t\t\t<a href={twitter} className=\"m-2\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t<TwitterCircleFilled style={{ fontSize: 45, color: 'gray' }} />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h5\">Ubicación actual: </p>\r\n\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\theight=\"60vh\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\tcenter={[ lat, lng ]}\r\n\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de envío</p>\r\n\t\t\t\t\t\t{politicasEnvio.length === 0 ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"politicas-p mt-4\">\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto por envío de paqueteria: <strong>${politicasEnvio.costoEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tPromoción de envío: <strong>${politicasEnvio.promocionEnvio}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t\tCosto de promocion de envío: <strong>${politicasEnvio.descuento}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Políticas de privacidad</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/politicas`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t<p className=\"m-3 h3\">Imagen corporativa</p>\r\n\t\t\t\t\t\t{action === false ? (\r\n\t\t\t\t\t\t\t<Empty description=\"Aún no hay información\" />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Empty\r\n\t\t\t\t\t\t\t\timage=\"https://es.seaicons.com/wp-content/uploads/2015/11/Review-Post-icon1.png\"\r\n\t\t\t\t\t\t\t\tdescription=\"Información existente\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Link to={`/quienes_somos`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</Empty>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction AlertTienda() {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<p className=\"h5\">\r\n\t\t\t\tRecuerda que tener la información de tu negocio es importante, ya que esta informacion ayudará que tu\r\n\t\t\t\tnegocio sea encontrado fácilmente.\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarRegistroTienda);\r\n","import React from 'react'\r\nimport {Helmet} from \"react-helmet\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nimport MostrarRegistroTienda from './services/RegistroTienda/MostrarRegistroTienda';\r\n\r\n\r\n\r\nfunction Admin(props) {\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n\t\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <meta charSet=\"utf-8\" />\r\n                <title>Panel Principal</title>\r\n            </Helmet>\r\n            <div>\r\n                <div>\r\n                    <MostrarRegistroTienda token={token} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Admin)","import { createContext } from 'react'\r\n\r\nexport const ProductoContext = createContext(null);\r\nexport const DisabledContext = createContext(null);\r\nexport const IdProductoContext = createContext(null);\r\n\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport './registrar_galeria.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(ProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst props = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoContext);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoContext}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst [ prev, setPrev ] = useState('');\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block\" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"img\"\r\n\t\t\t\t\t\tsrc={aws+imagenes.url}\r\n\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EyeOutlined style={{ fontSize: 20 }} className=\"ver\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 20 }} className=\"eliminar\" />\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...props} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-registrar-galeria d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-registrar-galeria\"\r\n\t\t\t\t\t\t\t\tsrc={aws+prev}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarTalla(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirTalla = async () => {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarTalla = async (idtalla) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/talla/${idtalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerTalla = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge count={tallas.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert style={{ width: '60%' }} message=\"Ya puedes registrar tallas\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar tallas después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">Escribe la talla y la cantidad de productos disponibles de esa talla.</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirTalla} form={form} className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"talla\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input disabled={disabledForm} name=\"cantidad\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button disabled={disabledForm} type=\"dafault\" htmlType=\"submit\" loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarTalla;\r\n","import React, { useState, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Alert } from 'antd';\r\nimport { DeleteOutlined } from '@ant-design/icons';\r\nimport './registrar_talla.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\n/* import { StepsContext } from '../../contexts/stepsContext'; */\r\n\r\nfunction RegistrarNumero(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productoContext, disabledForm ] = useContext(ProductoContext);\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst setDisabled = props.disabledButtons;\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirNumero = async () => {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoContext}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDisabled(false);\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst eliminarNumero = async (idnumero) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoContext}/numero/${idnumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerNumero = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numero) => (\r\n\t\t\t<div className=\"m-2\" key={numero._id}>\r\n\t\t\t\t<Badge count={numero.cantidad} style={{ backgroundColor: '#52c41a' }}>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numero.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded\">\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numero._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 25, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{disabledForm === false ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Ya puedes registrar número de calzado\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tstyle={{ width: '60%' }}\r\n\t\t\t\t\t\tmessage=\"Podrás registrar el número de calzado después de registrar tu producto\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<p className=\"text-center mb-1\">\r\n\t\t\t\tEscribe la talla del calzado y la cantidad de productos disponibles de esa talla.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<Form onFinish={subirNumero} form={form}>\r\n\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"numero\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 8 }}\r\n\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cantidad\" disabled={disabledForm} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t<Form.Item labelCol={{ offset: 1, span: 4 }} wrapperCol={{ offset: 1, span: 12 }}>\r\n\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\" disabled={disabledForm} loading={loading}>\r\n\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t<div className=\"row\">{render}</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarNumero;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Select, Steps, notification, Upload, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport './registrar_producto.scss';\r\nimport { ProductoContext } from '../../contexts/ProductoContext';\r\nimport RegistrarGaleria from './registrar_galeria';\r\nimport RegistrarTalla from './registrar_talla';\r\nimport RegistrarNumero from './registrar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\n\r\nconst { Option } = Select;\r\nconst { Step } = Steps;\r\n\r\n///Layout para formulario(columnas)\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nString.prototype.capitalize = function() {\r\n\treturn this.charAt(0).toUpperCase() + this.slice(1);\r\n};\r\n\r\nfunction RegistrarProducto(props) {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ disabled, setDisabled ] = props.disabledButtons;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\t///Autorizacion a la pagina con Token\r\n\tconst token = localStorage.getItem('token');\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ disabledPrev, setDisabledPrev ] = useState(false);\r\n\tconst [ disabledform, setDisabledForm ] = useState(true);\r\n\tconst [ disabledformProductos, setDisabledFormProductos ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingCombo, setLoadingCombo ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ categoriasBD, setCategoriasBD ] = useState([]);\r\n\tconst [ categoriasDefault, setCategoriasDefault ] = useState([ 'Ropa', 'Calzado' ]);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('FFFFFF');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\tconst [ valueSelectSubCat, setValueSelectSubCat ] = useState();\r\n\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetCurrent(0);\r\n\t\t\t\tsetDisabledFormProductos(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledForm(true);\r\n\t\t\t\tsetSubCategoria([]);\r\n\t\t\t\tsetValueSelectSubCat();\r\n\t\t\t\tsetSubcategoriasDefault([]);\r\n\t\t\t\tsetItem('');\r\n\t\t\t\tsetSelect('');\r\n\t\t\t\tsetCategoriasDefault([ 'Ropa', 'Calzado' ]);\r\n\t\t\t\tsetValueSelect();\r\n\t\t\t}\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetValueSelect();\r\n\t\t\tsetCurrent(0);\r\n\t\t\tsetDisabledFormProductos(false);\r\n\t\t\tobtenerCategorias();\r\n\t\t},\r\n\t\t[ reload, form ]\r\n\t);\r\n\r\n\tconst next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t\tif (current === 0) {\r\n\t\t\tobtenerSubcategorias();\r\n\t\t\tsetDisabled(true);\r\n\t\t} else if (current >= 1) {\r\n\t\t\tsetDisabledPrev(true);\r\n\t\t} else {\r\n\t\t\tsetDisabledPrev(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t///capturar datos}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tcodigo: '',\r\n\t\tsubCategoria: '',\r\n\t\tnombre: '',\r\n\t\tcantidad: '',\r\n\t\tprecio: '',\r\n\t\timagen: ''\r\n\t});\r\n\t//// Capturar valores de categoria\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ tipoCategoria, setTipoCategoria ] = useState('');\r\n\r\n\tconst onSelect = (value) => {\r\n\t\tsetSelect(value);\r\n\t\tsetValueSelect(value);\r\n\t\tif (value === 'Calzado' || value === 'Ropa') {\r\n\t\t\tsetTipoCategoria(value);\r\n\t\t} else {\r\n\t\t\tsetTipoCategoria('Otros');\r\n\t\t}\r\n\t\tif (value) {\r\n\t\t\tsetDisabled(false);\r\n\t\t} else {\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t};\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\t/// Guardar y almacenar en la api REST\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tasync function onFinish() {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('codigo', datos.codigo);\r\n\t\tformData.append('nombre', datos.nombre);\r\n\t\tformData.append('categoria', select);\r\n\t\tformData.append('tipoCategoria', tipoCategoria);\r\n\t\tformData.append('subCategoria', subCategoria);\r\n\t\tformData.append('genero', genero);\r\n\t\tformData.append('color', datos.color);\r\n\t\tformData.append('colorHex', color);\r\n\t\tformData.append('cantidad', datos.cantidad);\r\n\t\tformData.append('precio', datos.precio);\r\n\t\tformData.append('descripcion', editor);\r\n\t\tformData.append('imagen', files);\r\n\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/productos/', formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabledPrev(true);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledFormProductos(true);\r\n\t\t\t\tsetDisabledForm(false);\r\n\t\t\t\tsetProductoID(res.data.userStored._id);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tif (tipoCategoria === 'Otros') {\r\n\t\t\t\t\tnext();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/categorias', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerSubcategorias() {\r\n\t\tsetLoadingCombo(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingCombo(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst addItemCategoria = () => {\r\n\t\tsetCategoriasDefault([ ...categoriasDefault, item ]);\r\n\t\tsetSelect(item);\r\n\t\tsetTipoCategoria('Otros');\r\n\t\tsetDisabled(false);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetValueSelectSubCat(item);\r\n\t\tsetSubCategoria(item);\r\n\t};\r\n\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value.capitalize());\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\t////CONTENIDO DE LOS PASOS\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<h2 className=\"mb-5\">Selecciona una categoria para continuar</h2>\r\n\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\tplaceholder=\"Seleciona una categoria\"\r\n\t\t\t\t\t\t\tonChange={onSelect}\r\n\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{categoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t{categoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\tcategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\tif (item._id === 'Ropa' || item._id === 'Calzado') {\r\n\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4 mb-2\">\r\n\t\t\t\t\t<div style={{ width: 900 }}>\r\n\t\t\t\t\t\t<h2 className=\"mb-5 text-center\">Registrar el producto</h2>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\t\t{...layout}\r\n\t\t\t\t\t\t\t\tname=\"nest-messages\"\r\n\t\t\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\t\t\tonFinishFailed={onError}\r\n\t\t\t\t\t\t\t\tinitialValues={{ categoria: select }}\r\n\t\t\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t\t\t\tref={formRef.current}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Código de barras\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tname=\"codigo\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Campo opcional\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"subCategoria\"\r\n\t\t\t\t\t\t\t\t\t\t/* rules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle */\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{console.log()}\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loadingCombo}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={valueSelectSubCat}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 'auto' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onSubCategoriaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona un género\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t<Option value=\"Mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" disabled={disabledformProductos} />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t{tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input min=\"1\" type=\"number\" disabled={disabledformProductos} name=\"precio\" step=\".01\" />\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={resetColor}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabledformProductos}\r\n\t\t\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Form.Item label=\"Imagen principal\">\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\tname=\"imagen\"\r\n\t\t\t\t\t\t\t\t\t\tvaluePropName=\"filelist\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Upload {...propss}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" disabled={disabledformProductos}>\r\n\t\t\t\t\t\t\t\t\t\tRegistrar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t{select === 'Ropa' ? (\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarTalla disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{select === 'Calzado' ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<ProductoContext.Provider value={[ productoID, disabledform ]}>\r\n\t\t\t\t\t\t\t\t\t\t<RegistrarNumero disabledButtons={setDisabled} />\r\n\t\t\t\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Galería(opcional)',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"contenedor-galeria d-flex justify-content-center align-items-center mt-4 mb-5\">\r\n\t\t\t\t\t<div className=\"text-center\" style={{ width: '90%' }}>\r\n\t\t\t\t\t\t<h2>Agrega más imágenes para tu producto</h2>\r\n\t\t\t\t\t\t<p>Puedes agregar más imágenes de tu producto para que tus clientes puedan verlas.</p>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tclassName=\"info-recomended-sizes\"\r\n\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 800x800px\"\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<RegistrarGaleria />\r\n\t\t\t\t\t\t</ProductoContext.Provider>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t<Steps current={current}>{steps.map((item) => <Step key={item.title} title={item.title} />)}</Steps>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t{current > 0 && (\r\n\t\t\t\t\t<Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n\t\t\t\t\t\tAtras\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current === steps.length - 1 && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\t\tmessage: 'Su producto ha sido guardado',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetCloseDraw(true);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tFinalizar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{current < steps.length - 1 && (\r\n\t\t\t\t\t<Button type=\"primary\" onClick={next} disabled={disabled}>\r\n\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProducto);\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, notification, Spin, Modal, Alert } from 'antd';\r\nimport {\r\n\tUploadOutlined,\r\n\tEyeOutlined,\r\n\tDeleteOutlined,\r\n\tPictureOutlined,\r\n\tEditOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './actualizar_galeria.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nfunction RegistrarGaleria() {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ galeria, setGaleria ] = useState();\r\n\tconst [ existeGaleria, setExisteGaleria ] = useState(false);\r\n\tconst [ idImagen, setIdImagen ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ prev, setPrev ] = useState('');\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerBD();\r\n\t\t\tsetExisteGaleria(false);\r\n\t\t\tsetPrev('');\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst antprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('producto', productoID);\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait subirBD(formData);\r\n\t\t}\r\n\t};\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarBD(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarBD = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/galeria/${productoID}/imagen/${idImagen}`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirBD = async (formData) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/galeria/nueva/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst obtenerBD = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/galeria/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\tsetExisteGaleria(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetExisteGaleria(false);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst eliminarBD = async (idimagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/galeria/${productoID}/imagen/${idimagen}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerBD();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction showDeleteConfirm(idimagen) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de borrar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarBD(idimagen);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tif (galeria !== undefined) {\r\n\t\tvar render = galeria.map((imagenes) => (\r\n\t\t\t<div className=\"shadow rounded imgStyle d-inline-block \" key={imagenes._id}>\r\n\t\t\t\t<div className=\"padre-iconos d-flex justify-content-around align-items-center\">\r\n\t\t\t\t\t<img className=\"img\" src={aws + imagenes.url} alt=\"preview-imagen\" />\r\n\t\t\t\t\t<div className=\"iconos rounded\">\r\n\t\t\t\t\t\t<EyeOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"ver\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tsetPrev(imagenes.url);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Upload {...propsActualizar}>\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\t\tclassName=\"modificar\"\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\tsetIdImagen(imagenes._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 20 }}\r\n\t\t\t\t\t\t\tclassName=\"eliminar\"\r\n\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\tshowDeleteConfirm(imagenes._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"responsive\">\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6 imgUploads\">\r\n\t\t\t\t\t<Upload {...antprops} className=\"upload-text-display\">\r\n\t\t\t\t\t\t<Button>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Upload\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t{existeGaleria ? (\r\n\t\t\t\t\t\t<div className=\"padre\">{render}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-5\">\r\n\t\t\t\t\t\t\t<p>No hay Galeria</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-sm-4 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center\">Visualización de la imagen</p>\r\n\t\t\t\t\t<div className=\"shadow rounded imgPreview-actualizar-galeria d-flex justify-content-center align-items-center mb-5\">\r\n\t\t\t\t\t\t{existeGaleria === false || prev === '' || galeria.length === 0 ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img className=\"imagen-actualizar-galeria\" src={aws + prev} alt=\"preview-imagen\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default RegistrarGaleria;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarTalla() {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idTalla, setIdTalla ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\ttalla: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTalla();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarTalla() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/talla/${idTalla}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdTalla('');\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevaTalla() {\r\n\t\tconst resul = productos.map((tallas) => {\r\n\t\t\tif (tallas.talla === datos.talla) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Esta talla ya esta registrada',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.talla === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addTalla/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tobtenerTalla();\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\ttalla: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarTalla(idTalla) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/talla/${idTalla}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerTalla();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerTalla() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.tallas);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (talla, cantidad, idTallas) => {\r\n\t\tsetIdTalla(idTallas);\r\n\t\tsetDatos({ ...datos, talla, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\ttalla,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((tallas) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={tallas._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\tstyle={tallas.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(tallas.talla, tallas.cantidad, tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarTalla(tallas._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} onFinish={actualizarTalla}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={5}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"talla\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"talla\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idTalla ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdTalla('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevaTalla}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarTalla;\r\n","import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Form, Button, Input, Row, Col, Badge, notification, Spin, Space } from 'antd';\r\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\r\nimport './actualizar_tallas.scss';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\n\r\nfunction ActualizarNumero() {\r\n\tconst formRef = useRef(null);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ idNumero, setIdNumero ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnumero: '',\r\n\t\tcantidad: ''\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerNumero();\r\n\t\t},\r\n\t\t[ productoID ]\r\n\t);\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tasync function actualizarNumero() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/action/${productoID}/numero/${idNumero}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetIdNumero('');\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\tnumero: '',\r\n\t\t\t\t\tcantidad: ''\r\n\t\t\t\t});\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function nuevoNumero() {\r\n\t\tconst resul = productos.map((numeros) => {\r\n\t\t\tif (numeros.numero === datos.numero) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tconst existe = resul.find((element) => element === true);\r\n\r\n\t\tif (existe) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Este numero ya esta registrado',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (datos.numero === '' || datos.cantidad === '') {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post(`/productos/addNumero/${productoID}`, datos, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tobtenerNumero();\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tsetDatos({\r\n\t\t\t\t\t\tnumero: '',\r\n\t\t\t\t\t\tcantidad: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t}\r\n\tasync function eliminarNumero(idNumero) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/action/${productoID}/numero/${idNumero}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerNumero();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerNumero() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.numeros);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst rellenarCampos = (numero, cantidad, idNumero) => {\r\n\t\tsetIdNumero(idNumero);\r\n\t\tsetDatos({ ...datos, numero, cantidad });\r\n\t\tform.setFieldsValue({\r\n\t\t\tnumero,\r\n\t\t\tcantidad\r\n\t\t});\r\n\t};\r\n\r\n\tif (productos !== 0) {\r\n\t\tvar render = productos.map((numeros) => (\r\n\t\t\t<div className=\"mb-5 m-2\" key={numeros._id}>\r\n\t\t\t\t<Badge\r\n\t\t\t\t\tshowZero\r\n\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\tstyle={numeros.cantidad !== 0 ? { backgroundColor: '#52c41a' } : { backgroundColor: '#FF4D4F' }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"hover-delete d-flex text-center\">\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tclassName=\"rounded p-2 contenido-talla\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '60px', height: '56px' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"icono rounded d-flex justify-content-around\">\r\n\t\t\t\t\t\t\t<EditOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\trellenarCampos(numeros.numero, numeros.cantidad, numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<DeleteOutlined\r\n\t\t\t\t\t\t\t\tonClick={function() {\r\n\t\t\t\t\t\t\t\t\teliminarNumero(numeros._id);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 20, color: 'white' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Badge>\r\n\t\t\t</div>\r\n\t\t));\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"ml-4\">\r\n\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t<Form form={form} ref={formRef.current} onFinish={actualizarNumero}>\r\n\t\t\t\t\t\t<Row gutter={8}>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"numero\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Numero\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 16 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"numero\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col span={8}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Stock actual\"\r\n\t\t\t\t\t\t\t\t\tonChange={datosForm}\r\n\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 6 }}\r\n\t\t\t\t\t\t\t\t\twrapperCol={{ offset: 1, span: 12 }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t{idNumero ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"dafault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIdNumero('');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tform.resetFields();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tCancelar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Button type=\"dafault\" onClick={nuevoNumero}>\r\n\t\t\t\t\t\t\t\t\t\tAgregar\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h6 className=\"mensaje\">Para eliminar manten presionado</h6>\r\n\t\t\t\t<div className=\"row\">{render}</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default ActualizarNumero;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Tabs, Form, Input, Upload, Button, notification, Select, Spin, Divider, Alert } from 'antd';\r\nimport { UploadOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport ActualizarGaleria from './actualizar_galeria';\r\nimport ActualizarTalla from './actualizar_talla';\r\nimport ActualizarNumero from './actualizar_numero';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport reactCSS from 'reactcss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Option } = Select;\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction ActualizarProducto(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoID = useContext(IdProductoContext);\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ select, setSelect ] = useState('');\r\n\tconst [ editor, setEditor ] = useState();\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst reload = props.reloadProductos;\r\n\tconst setCloseDraw = props.closeDraw;\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ item, setItem ] = useState();\r\n\tconst [ buttonCat, setButtonCat ] = useState(true);\r\n\tconst [ subcategoriasDefault, setSubcategoriasDefault ] = useState([]);\r\n\tconst [ subCategoriasBD, setSubCategoriasBD ] = useState([]);\r\n\tconst [ subCategoria, setSubCategoria ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState('');\r\n\tconst [ valueSelect, setValueSelect ] = useState();\r\n\r\n\tconst [ productos, setProductos ] = useState([\r\n\t\t{\r\n\t\t\tcodigo: '',\r\n\t\t\tnombre: '',\r\n\t\t\tprecio: '',\r\n\t\t\tcantidad: '',\r\n\t\t\timagen: ''\r\n\t\t}\r\n\t]);\r\n\tconst [ displayColorPicker, setDisplayColorPicker ] = useState(false);\r\n\tconst [ color, setColor ] = useState('FFFFFF');\r\n\tconst styles = reactCSS({\r\n\t\tdefault: {\r\n\t\t\tcolor: {\r\n\t\t\t\twidth: '36px',\r\n\t\t\t\theight: '14px',\r\n\t\t\t\tborderRadius: '2px',\r\n\t\t\t\tbackground: color\r\n\t\t\t\t/* background: `rgba(${color.r}, ${color.g}, ${color.b}, ${color.a})` */\r\n\t\t\t},\r\n\t\t\tswatch: {\r\n\t\t\t\tpadding: '5px',\r\n\t\t\t\tbackground: '#fff',\r\n\t\t\t\tborderRadius: '1px',\r\n\t\t\t\tboxShadow: '0 0 0 1px rgba(0,0,0,.1)',\r\n\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\tcursor: 'pointer'\r\n\t\t\t},\r\n\t\t\tpopover: {\r\n\t\t\t\tposition: 'absolute',\r\n\t\t\t\tzIndex: '2'\r\n\t\t\t},\r\n\t\t\tcover: {\r\n\t\t\t\tposition: 'fixed',\r\n\t\t\t\ttop: '0px',\r\n\t\t\t\tright: '0px',\r\n\t\t\t\tbottom: '0px',\r\n\t\t\t\tleft: '0px'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tconst handleClick = () => {\r\n\t\tsetDisplayColorPicker(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetDisplayColorPicker(false);\r\n\t};\r\n\r\n\tconst handleChange = (color) => {\r\n\t\tsetColor(color.hex);\r\n\t};\r\n\r\n\tconst resetColor = () => {\r\n\t\tsetColor('');\r\n\t\tform.setFieldsValue({ color: '' });\r\n\t\tproductos.color = '';\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\t/* obtenerDatos(); */\r\n\t\t\t\tform.resetFields();\r\n\t\t\t\tsetFiles([]);\r\n\t\t\t\tsetUpload(false);\r\n\t\t\t\tsetColor('');\r\n\t\t\t}\r\n\t\t\tobtenerDatos();\r\n\t\t\tobtenerSubcategorias();\r\n\t\t},\r\n\t\t[ productoID, reload, form, select ]\r\n\t);\r\n\r\n\t///UPLOAD ANTD PRODUCTO\r\n\tconst antprops = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerDatos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoID}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\tcodigo: res.data.codigo,\r\n\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\tcategoria: res.data.subCategoria,\r\n\t\t\t\t\tgenero: res.data.genero,\r\n\t\t\t\t\tprecio: res.data.precio,\r\n\t\t\t\t\tcolor: res.data.color,\r\n\t\t\t\t\tcantidad: res.data.cantidad,\r\n\t\t\t\t\tdescripcion: res.data.descripcion\r\n\t\t\t\t});\r\n\t\t\t\tsetSelect(res.data.categoria);\r\n\t\t\t\tsetEditor(res.data.descripcion);\r\n\t\t\t\tsetFiles(res.data.imagen);\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetColor(res.data.colorHex);\r\n\t\t\t\tsetGenero(res.data.genero);\r\n\t\t\t\tsetSubCategoria(res.data.subCategoria);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst generoOnChange = (value) => {\r\n\t\tsetGenero(value);\r\n\t};\r\n\tconst obtenerEditor = (value) => {\r\n\t\tsetEditor(value);\r\n\t};\r\n\tconst obtenerValores = (e) => {\r\n\t\tsetProductos({\r\n\t\t\t...productos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst addItemSubCategoria = () => {\r\n\t\tsetSubcategoriasDefault([ ...subcategoriasDefault, item ]);\r\n\t\tsetSubCategoria(item);\r\n\t\tsetValueSelect(item);\r\n\t};\r\n\tconst onSelectSubCategoria = (value) => {\r\n\t\tsetSubCategoria(value);\r\n\t};\r\n\tconst onSubCategoriaChange = (e) => {\r\n\t\tif (e.target.value.length !== 0) {\r\n\t\t\tsetItem(e.target.value);\r\n\t\t\tsetSubCategoria(e.target.value);\r\n\t\t\tsetButtonCat(false);\r\n\t\t} else {\r\n\t\t\tsetButtonCat(true);\r\n\t\t}\r\n\t};\r\n\r\n\tasync function obtenerSubcategorias() {\r\n\t\tif (!select) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/Subcategorias/${select}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetSubCategoriasBD(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst subirDatos = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tif (productos.tipoCategoria === 'Otros') {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', productos.categoria);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('cantidad', productos.cantidad);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t} else {\r\n\t\t\tformData.append('codigo', productos.codigo);\r\n\t\t\tformData.append('nombre', productos.nombre);\r\n\t\t\tformData.append('categoria', productos.categoria);\r\n\t\t\tformData.append('subCategoria', subCategoria);\r\n\t\t\tformData.append('genero', genero);\r\n\t\t\tformData.append('color', productos.color);\r\n\t\t\tformData.append('colorHex', color);\r\n\t\t\tformData.append('precio', productos.precio);\r\n\t\t\tformData.append('descripcion', editor);\r\n\t\t\tformData.append('imagen', files);\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/${productoID}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerDatos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetCloseDraw(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Tabs defaultActiveKey=\"1\">\r\n\t\t\t<TabPane tab=\"Actualizar datos del producto\" key=\"1\">\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t{productos.categoria === 'Ropa' ? (\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">{<ActualizarTalla />}</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{productos.categoria === 'Calzado' ? <div>{<ActualizarNumero />}</div> : <div />}\r\n\t\t\t\t\t<Form {...layout} name=\"nest-messages\" onFinish={subirDatos} onFinishFailed={onError} form={form}>\r\n\t\t\t\t\t\t<Form.Item name=\"codigo\" label=\"Código de barras\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input name=\"codigo\" placeholder=\"Campo opcional\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Subcategoria\" name=\"categoria\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"categoria\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Seleciona una subcategoria\"\r\n\t\t\t\t\t\t\t\t\tvalue={valueSelect}\r\n\t\t\t\t\t\t\t\t\tonChange={onSelectSubCategoria}\r\n\t\t\t\t\t\t\t\t\tdropdownRender={(menu) => (\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{menu}\r\n\t\t\t\t\t\t\t\t\t\t\t<Divider style={{ margin: '4px 0' }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={{ display: 'flex', flexWrap: 'nowrap', padding: 8 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Input style={{ flex: 'auto' }} onChange={onSubCategoriaChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button disabled={buttonCat} onClick={addItemSubCategoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<PlusOutlined style={{ fontSize: 20 }} /> Nueva\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{subcategoriasDefault.map((item) => <Option key={item}>{item}</Option>)}\r\n\t\t\t\t\t\t\t\t\t{subCategoriasBD.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\tsubCategoriasBD.map((item) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (item._id === null) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn <Option key={item._id}>{item._id}</Option>;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Género\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item name=\"genero\">\r\n\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\tname=\"genero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Selecciona género\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\t\t\t\tonChange={generoOnChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"niño\">Niño</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"niña\">Niña</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"hombre\">Hombre</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"mujer\">Mujer</Option>\r\n\t\t\t\t\t\t\t\t\t<Option value=\"mixto\">Mixto</Option>\r\n\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Color del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Input.Group compact>\r\n\t\t\t\t\t\t\t\t<Form.Item name=\"colorHex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div style={styles.swatch} onClick={handleClick}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.color} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayColorPicker ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.popover}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={styles.cover} onClick={handleClose} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<SketchPicker color={color} onChange={handleChange} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item wrapperCol={{ span: 22, offset: 0 }} name=\"color\">\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-inline ml-2\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Escribe el color, por ejemplo: Verde\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Button className=\"d-inline ml-2\" size=\"middle\" type=\"text\" onClick={resetColor}>\r\n\t\t\t\t\t\t\t\t\t\tQuitar color\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Input.Group>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t{productos.tipoCategoria === 'Otros' ? (\r\n\t\t\t\t\t\t\t<Form.Item label=\"Stock actual\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"cantidad\" />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Form.Item label=\"Precio del producto\" onChange={obtenerValores}>\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input type=\"number\" name=\"precio\" />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Descripción del producto\" name=\"descripcion\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Este campo es requerido' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\tvaluePropName=\"Editor\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Editor\r\n\t\t\t\t\t\t\t\t\tvalue={editor}\r\n\t\t\t\t\t\t\t\t\tname=\"descripcion\"\r\n\t\t\t\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonEditorChange={obtenerEditor}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 800x800px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen principal\" name=\"imagen\" valuePropName=\"filelist\">\r\n\t\t\t\t\t\t\t<Upload {...antprops} name=\"imagen\">\r\n\t\t\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\tsrc={aws+files}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Spin>\r\n\t\t\t</TabPane>\r\n\t\t\t<TabPane tab=\"Actualizar galería de imágenes\" key=\"2\">\r\n\t\t\t\t<ActualizarGaleria />\r\n\t\t\t</TabPane>\r\n\t\t</Tabs>\r\n\t);\r\n}\r\nexport default ActualizarProducto;\r\n","import React from 'react'\r\nimport {Pagination} from 'antd';\r\nimport './pagination.scss'\r\n\r\nexport default function pagination(props) {\r\n    const {blogs, location, history, limite} = props;\r\n    const currentPage = parseInt(blogs.page);\r\n\r\n    const onChangePage = newPage => {\r\n        history.push(`${location.pathname}?page=${newPage}`)\r\n    }\r\n\r\n    return (\r\n        <div className=\"pagination  mb-3\">\r\n            <Pagination\r\n                defaultCurrent={currentPage}\r\n                total={blogs.totalDocs}\r\n                onChange={newPage => onChangePage(newPage)}\r\n                defaultPageSize={limite}\r\n            />\r\n        </div>\r\n\r\n    )\r\n}\r\n","\r\n\r\n\r\nexport const formatoMexico = (number) => {\r\n\tif (!number) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tconst exp = /(\\d)(?=(\\d{3})+(?!\\d))/g;\r\n\t\tconst rep = '$1,';\r\n\t\treturn number.toString().replace(exp, rep);\r\n\t}\r\n};\r\n\r\nexport const formatoFecha = (fecha) => {\r\n\tif (!fecha) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newdate = new Date(fecha);\r\n\t\treturn newdate.toLocaleDateString('es-MX', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });\r\n\t}\r\n};\r\n\r\nexport const formatoHora = (hora) => {\r\n\tif (!hora) {\r\n\t\treturn null;\r\n\t} else {\r\n\t\tvar newtime = new Date(hora);\r\n\t\treturn newtime.toLocaleTimeString('es-MX', { hour12: 'false' });\r\n\t}\r\n};\r\n\r\nexport const agregarPorcentaje = (precio_descuento, precio_producto) => {\r\n\tvar porcentaje = Math.round(precio_descuento / precio_producto * 100);\r\n\tvar descuento = 100 - porcentaje;\r\n\treturn descuento;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport RegistrarProducto from './services/registrar_producto';\r\nimport ActualizarProducto from './services/actualizar_producto';\r\nimport { Card, Col, Row, Input, Button, Modal, Drawer, Result, notification, Spin } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\n/* import { StepsContext, StepsProvider } from '../contexts/stepsContext'; */\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport {\r\n\tExclamationCircleOutlined,\r\n\tEditOutlined,\r\n\t/* \tDeleteOutlined, */\r\n\tPlusCircleOutlined,\r\n\tRollbackOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport queryString from 'query-string';\r\nimport './productos.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction RegistrarProductos(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\t/* const [ disabled, setDisabled ] = useContext(StepsContext); */\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visibleButton, setVisibleButton ] = useState('d-none');\r\n\tconst [ closeDraw, setCloseDraw ] = useState(false);\r\n\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction closeConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de cerrar esta ventana?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tdrawnerClose();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst eventoCloseConfirm = () => {\r\n\t\tif (accion) {\r\n\t\t\tdrawnerClose();\r\n\t\t} else {\r\n\t\t\tcloseConfirm();\r\n\t\t}\r\n\t};\r\n\t\r\n\tif(closeDraw){\r\n\t\tdrawnerClose();\r\n\t\tsetCloseDraw(false);\r\n\t}\r\n\r\n\t/* function showDeleteConfirm(idproducto) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estas seguro de eliminar este articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: 'Este articulo sera borrado permanentemente',\r\n\t\t\tokText: 'Yes',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tasync onOk() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.delete(`/productos/${idproducto}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(window.screen.width < 768){\r\n\t\t\t\t\t\t\tobtenerProductos(12, page)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tobtenerProductos(28, page)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t} */\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleButton('d-none');\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetVisibleButton('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisibleButton('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t}\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ page, reload, reloadData ]\r\n\t);\r\n\r\n\tconst render = productosRender.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Card.Grid hoverable style={gridStyle} className=\"card-card\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tstyle={{ /* width: 200, */ maxHeight: 420 }}\r\n\t\t\t\t\tbodyStyle={{ padding: 5 }}\r\n\t\t\t\t\tclassName=\"card-cover\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center cont-imagen-producto-admin\">\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-admin\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined style={{ fontSize: 22 }} />Editar\r\n\t\t\t\t\t\t</Button> /* ,\r\n\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tonClick={() => showDeleteConfirm(productos._id)}\r\n\t\t\t\t\t\t\tclassName=\"text-decoration-none\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={{ fontSize: 22 }} />Eliminar\r\n\t\t\t\t\t\t</Button> */\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-producto-admin titulo-producto-admin-responsivo font-weight-bold\">\r\n\t\t\t\t\t\t\t{productos.nombre}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<h2 className=\"h5 \">$ {formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Card>\r\n\t\t\t</Card.Grid>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Drawer\r\n\t\t\t\tforceRender\r\n\t\t\t\ttitle={accion === true ? 'Actualizar un producto' : 'Registra un nuevo producto'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={eventoCloseConfirm}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button onClick={eventoCloseConfirm} type=\"primary\">\r\n\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t<ActualizarProducto reloadProductos={reload} closeDraw={setCloseDraw} />\r\n\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} closeDraw={setCloseDraw}/>\r\n\t\t\t\t\t/* <StepsProvider value={[ disabled, setDisabled ]}>\r\n\t\t\t\t\t\t<RegistrarProducto reloadProductos={reload} disabledButtons={[ disabled, setDisabled ]} />\r\n\t\t\t\t\t</StepsProvider> */\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visibleButton} mb-1`}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobtenerProductos(28, page);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tRegistrar un producto\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<Row style={{ maxWidth: '95vw' }} className=\"mt-4\">\r\n\t\t\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\trender\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productos}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 28}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(RegistrarProductos);\r\n","import React from 'react';\r\nimport { Tag, Divider } from 'antd';\r\nimport { formatoMexico, formatoFecha, formatoHora } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst pedido = props.datosDetalle;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido._id}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de pedido:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.createdAt)}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.fecha_envio ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Hora de envío:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoHora(pedido.fecha_envio)}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div />\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.pedido.length}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.estado_pedido === 'Enviado' ? '#5cb85c' : '#0275d8'}>\r\n\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t<Tag className=\"data-info-pedidos\" color={pedido.pagado === true ? '#5cb85c' : '#f0ad4e'}>\r\n\t\t\t\t\t{pedido.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t</Tag>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t\t<Divider className=\"text-center\">Detalles del cliente</Divider>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.nombre}</p>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Email:</h6>\r\n\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cliente.email}</p>\r\n\t\t\t</div>\r\n\t\t\t{pedido.cliente.direccion.map((direccion) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className=\"my-2\" key={direccion._id}>\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Dirección:</h6>\r\n\t\t\t\t\t\t<p className=\"data-info-pedidos\">\r\n\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.ciudad}, {direccion.estado},{' CP '}\r\n\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\r\n\t\t\t<Divider className=\"text-center\">Detalles del producto</Divider>\r\n\t\t\t{pedido.pedido.map((pedido, index) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div key={pedido._id}>\r\n\t\t\t\t\t\t<div className=\"h6\">\r\n\t\t\t\t\t\t\t<strong>Producto {index + 1}</strong>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-detalle\">\r\n\t\t\t\t\t\t\t\t<img alt=\"imagen-producto-detalle\" className=\"imagen-producto-detalle\" src={aws+pedido.producto.imagen} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Código de barras:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.codigo}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Artículo:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Categoría:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.producto.categoria}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.cantidad}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'ropa' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Talla:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{pedido.producto.categoria.toLowerCase() === 'calzado' ? (\r\n\t\t\t\t\t\t\t<div className=\"my-2 contenedor-info-pedidos\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Número de calzado:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedido.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">$ {formatoMexico(pedido.total)}</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DetallesPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Divider, Menu, Dropdown, Button, notification, Input, Form, Spin } from 'antd';\r\nimport { DownOutlined, UserOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst EstadoPedido = (props) => {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst token = localStorage.getItem('token');\r\n\tconst IDpedido = props.datosPedido;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst pedidoID = props.datosPedido;\r\n\tconst setReload = props.reload;\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datos, setDatos ] = useState({});\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedido();\r\n\t\t\tsetDisabled(false);\r\n\t\t},\r\n\t\t[ IDpedido ]\r\n\t);\r\n\r\n\tconst cambiarEstado = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/info/${pedidoID._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${IDpedido._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t\tsetDatos({\r\n\t\t\t\t\testado_pedido: res.data.estado_pedido,\r\n\t\t\t\t\tmensaje_admin: res.data.mensaje_admin,\r\n\t\t\t\t\turl: res.data.url,\r\n\t\t\t\t\tpaqueteria: res.data.paqueteria,\r\n\t\t\t\t\tcodigo_seguimiento: res.data.codigo_seguimiento\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction handleMenuClick(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\testado_pedido: e.key\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\testado_pedido: e.key\r\n\t\t});\r\n\t}\r\n\tfunction onChange(e) {\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t\tsetPedido({\r\n\t\t\t...pedido,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t}\r\n\r\n\tconst menu = (\r\n\t\t<Menu onClick={handleMenuClick}>\r\n\t\t\t<Menu.Item key=\"En proceso\" icon={<UserOutlined />}>\r\n\t\t\t\tEn proceso\r\n\t\t\t</Menu.Item>\r\n\t\t\t<Menu.Item key=\"Enviado\" icon={<UserOutlined />}>\r\n\t\t\t\tEnviado\r\n\t\t\t</Menu.Item>\r\n\t\t</Menu>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Divider orientation=\"left\">Actualiza el estado del pedido</Divider>\r\n\t\t\t<Dropdown overlay={menu} disabled={IDpedido.estado_pedido === 'Enviado' || disabled ? true : false}>\r\n\t\t\t\t<Button>\r\n\t\t\t\t\t{pedido.estado_pedido} <DownOutlined />\r\n\t\t\t\t</Button>\r\n\t\t\t</Dropdown>\r\n\t\t\t<Divider orientation=\"left\">Informacion de envio</Divider>\r\n\t\t\t<p style={{ fontSize: 16 }}>Si el producto ya fue enviado puedes agregar la información de envío.</p>\r\n\r\n\t\t\t<Form onFinish={cambiarEstado} form={form} className=\"form-paqueteria\">\r\n\t\t\t\t<h6>Mensaje:</h6>\r\n\t\t\t\t<Form.Item name=\"mensaje_admin\">\r\n\t\t\t\t\t<TextArea rows={4} name=\"mensaje_admin\" placeholder=\"Mensaje para el usuario\" onChange={onChange} />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Url de vinculación:</h6>\r\n\t\t\t\t<Form.Item name=\"url\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"url\" placeholder=\"Url de vinculacion del paquete\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Paquetería:</h6>\r\n\t\t\t\t<Form.Item name=\"paqueteria\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"paqueteria\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<h6>Código de seguimiento:</h6>\r\n\t\t\t\t<Form.Item name=\"codigo_seguimiento\" onChange={onChange}>\r\n\t\t\t\t\t<Input name=\"codigo_seguimiento\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" className=\"float-right\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default EstadoPedido;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport './pedidos.scss';\r\nimport { Card, Col, Row, Modal, notification, Result, Spin, Radio, Tag, Button } from 'antd';\r\nimport { ContainerOutlined, EditOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../config/axios';\r\nimport DetallesPedido from './detalles_pedido';\r\nimport EstadoPedido from './estado_pedido';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { formatoMexico, formatoFecha } from '../../../config/reuserFunction';\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction Pedidos(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ pedidosPaginacion, setPedidosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\t//state modales\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estadoVisible, setEstadoVisible ] = useState(false);\r\n\t//state para mostrar pedido en el modal\r\n\tconst [ detallePedido, setDetallePedido ] = useState([]);\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerPedidos(12, page);\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload, page ]\r\n\t);\r\n\r\n\tconst obtenerPedidos = async (limit, page) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\t// setPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerPedidosFiltrados = async (limit, page, filtro) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/admin/filtrados?limit=${limit}&page=${page}&filtro=${filtro}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedidos(res.data.docs);\r\n\t\t\t\tsetPedidosPaginacion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction onChange(e) {\r\n\t\tconst estado = e.target.value;\r\n\t\tswitch (estado) {\r\n\t\t\tcase 'todos':\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'proceso':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'En proceso');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'enviados':\r\n\t\t\t\tobtenerPedidosFiltrados(10, page, 'Enviado');\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tobtenerPedidos(10, page);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\tconst showModalEstado = () => {\r\n\t\tsetEstadoVisible(true);\r\n\t};\r\n\tconst handleCancelEstado = () => {\r\n\t\tsetEstadoVisible(false);\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tconst render = pedidos.map((pedidos) => {\r\n\t\treturn (\r\n\t\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={pedidos._id}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow-sm card-p-pedidos\"\r\n\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDetalles del pedido\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>,\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<EditOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetDetallePedido(pedidos);\r\n\t\t\t\t\t\t\t\t\tshowModalEstado();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCambiar estado\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta\r\n\t\t\t\t\t\tclassName=\"contenedor-card-pedidos\"\r\n\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos._id}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.createdAt)}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{pedidos.fecha_envio ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envío:</h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{formatoFecha(pedidos.fecha_envio)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.cliente.nombre}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Cantidad:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"data-info-pedidos\">{pedidos.pedido.length}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.estado_pedido === 'Enviado' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"data-info-pedidos\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedidos.pagado === true ? '#5cb85c' : '#f0ad4e'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedidos.pagado === true ? 'Si' : 'No'}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"my-2\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-total-pedidos data-info-pedidos\">\r\n\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(pedidos.total)}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t);\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE PEDIDOS\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes ver todos los pedidos de tus clientes, filtrar por estados, si ya están\r\n\t\t\t\t\tpagados o no y cambiar su estado.\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<p className=\"d-lg-inline d-block mr-5\">Mostrar por:</p>\r\n\t\t\t\t\t<Radio.Group name=\"radiogroup\" defaultValue=\"todos\" size=\"mediun\">\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"todos\" onChange={onChange}>\r\n\t\t\t\t\t\t\tTodos\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"proceso\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEn Proceso\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t\t<Radio className=\"d-lg-inline d-block mb-1\" value=\"enviados\" onChange={onChange}>\r\n\t\t\t\t\t\t\tEnviados\r\n\t\t\t\t\t\t</Radio>\r\n\t\t\t\t\t</Radio.Group>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t{pedidos.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Row gutter={16}>{render}</Row>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button key=\"detalle\" type=\"primary\" onClick={handleCancel}>\r\n\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<DetallesPedido datosDetalle={detallePedido} />\r\n\t\t\t</Modal>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"estado\"\r\n\t\t\t\twidth={600}\r\n\t\t\t\ttitle=\"Estado del pedido\"\r\n\t\t\t\tvisible={estadoVisible}\r\n\t\t\t\tonCancel={handleCancelEstado}\r\n\t\t\t\tfooter={[\"\"]}\r\n\t\t\t>\r\n\t\t\t\t<EstadoPedido datosPedido={detallePedido} reload={setReload} />\r\n\t\t\t</Modal>\r\n\t\t\t<Pagination blogs={pedidosPaginacion} location={location} history={history} limite={12} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Pedidos);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {\r\n\tButton,\r\n\tInput,\r\n\tSlider,\r\n\tUpload,\r\n\tList,\r\n\tAvatar,\r\n\tnotification,\r\n\tResult,\r\n\tSpin,\r\n\tForm,\r\n\tCol,\r\n\tAlert,\r\n\tSelect,\r\n\tTooltip,\r\n\tCheckbox\r\n} from 'antd';\r\nimport { RollbackOutlined, ClearOutlined } from '@ant-design/icons';\r\nimport './registrar_promocion.scss';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst demo = { height: '500px', overflow: 'auto' };\r\nconst { Option } = Select;\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\nconst RegistrarPromocion = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ content, setContent ] = useState(false);\r\n\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ loadingList, setLoadingList ] = useState(true);\r\n\tconst [ loadingSelect, setLoadingSelect ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(true);\r\n\tconst [ imagen, setImagen ] = useState([]);\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(true);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tconst [ categoriasDB, setCategoriasDB ] = useState([]);\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\tconst [ subcategoriasDB, setSubcategoriasDB ] = useState([]);\r\n\tconst [ subcategoria, setSubcategoria ] = useState();\r\n\tconst [ generosDB, setGenerosDB ] = useState([]);\r\n\tconst [ genero, setGenero ] = useState();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetContent(false);\r\n\t\t\t\tsetInputValue(0);\r\n\t\t\t\tsetPromocion([]);\r\n\t\t\t\tsetPrecioPromocion();\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tform.resetFields();\r\n\t\t\t}\r\n\t\t\tobtenerCategorias();\r\n\t\t\tobtenerGeneros();\r\n\t\t\tobtenerProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reload, reloadData, form ]\r\n\t);\r\n\r\n\tconst obtenerProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst propsUpload = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e.target.value >= producto.precio || e.target.value <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e.target.value);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e.target.value / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${promocion._id}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetImagen(res.data.promocionBase.imagenPromocion);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('productoPromocion', producto._id);\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/productos/promocion/`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPromocion(res.data.userStored);\r\n\t\t\t\tsetDisabled(false);\r\n\t\t\t\tsetDisabledSumit(true);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerFiltrosDivididos = async (categoria, subcategoria, genero) => {\r\n\t\tvar cat = categoria;\r\n\t\tvar sub = subcategoria;\r\n\t\tvar gen = genero;\r\n\r\n\t\tif (categoria === undefined) {\r\n\t\t\tcat = '';\r\n\t\t}\r\n\t\tif (subcategoria === undefined) {\r\n\t\t\tsub = '';\r\n\t\t}\r\n\t\tif (genero === undefined) {\r\n\t\t\tgen = '';\r\n\t\t}\r\n\r\n\t\tsetLoadingList(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/filter?categoria=${cat}&subcategoria=${sub}&genero=${gen}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function obtenerCategorias() {\r\n\t\tsetLoadingSelect(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/filtrosNavbar', {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCategoriasDB(res.data);\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoadingSelect(false);\r\n\t\t\t});\r\n\t}\r\n\tasync function obtenerGeneros() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/agrupar/generos')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetGenerosDB(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {});\r\n\t}\r\n\r\n\tconst selectCategoria = (categoria) => {\r\n\t\tsetCategoria(categoria);\r\n\t\tsetSubcategoria(null);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria);\r\n\t\t}\r\n\t\tcategoriasDB.map((res) => {\r\n\t\t\tif (categoria === res.categoria) {\r\n\t\t\t\tsetSubcategoriasDB(res.subcCategoria);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\tconst selectSubCategoria = (subcategoria) => {\r\n\t\tsetSubcategoria(subcategoria);\r\n\t\tif (genero && genero.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria);\r\n\t\t}\r\n\t};\r\n\tconst selectGenero = (genero) => {\r\n\t\tsetGenero(genero);\r\n\t\tif (categoria && categoria.length !== 0 && !subcategoria) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, undefined, genero);\r\n\t\t} else if (categoria && subcategoria && categoria.length !== 0 && subcategoria.length !== 0) {\r\n\t\t\tobtenerFiltrosDivididos(categoria, subcategoria, genero);\r\n\t\t} else if (!categoria && !subcategoria && genero) {\r\n\t\t\tobtenerFiltrosDivididos(undefined, undefined, genero);\r\n\t\t}\r\n\t};\r\n\r\n\tconst limpiarFiltros = () => {\r\n\t\tsetCategoria();\r\n\t\tsetSubcategoria();\r\n\t\tsetGenero();\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t};\r\n\r\n\tconst limpiar = () => {\r\n\t\tsetInputValue(0);\r\n\t\tsetImagen([]);\r\n\t\tform.resetFields();\r\n\t};\r\n\r\n\t/* Checklist */\r\n\t/* const plainOptions = [ 'Apple', 'Pear', 'Orange' ];\r\n\tconst [ checkedList, setCheckedList ] = useState();\r\n\tconst [ indeterminate, setIndeterminate ] = useState(true);\r\n\tconst [ checkAll, setCheckAll ] = useState(false);\r\n\r\n\tconst onChangeC = (checkedList) => {\r\n\t\tconsole.log(checkedList)\r\n\t\tsetCheckedList(checkedList);\r\n\t\tsetIndeterminate(!!checkedList.length && checkedList.length < plainOptions.length);\r\n\t\tsetCheckAll(checkedList.length === plainOptions.length);\r\n\t};\r\n\r\n\tconst onCheckAllChange = (e) => {\r\n\t\tconsole.log(e)\r\n\t\tsetCheckedList(e.target.checked ? plainOptions : []);\r\n\t\tsetIndeterminate(false);\r\n\t\tsetCheckAll(e.target.checked);\r\n\t};\r\n\tconsole.log(checkedList) */\r\n\r\n\t/* Checklist fin */\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-lg-flex d-sm-block\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6 border-bottom\">\r\n\t\t\t\t\t<Spin size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={categoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Categoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectCategoria}\r\n\t\t\t\t\t\t\t\tloading={loadingSelect}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{categoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res.categoria} value={res.categoria}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.categoria}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tdisabled={!categoria ? true : false}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Subcategoria\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectSubCategoria}\r\n\t\t\t\t\t\t\t\tvalue={subcategoria}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{subcategoriasDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tsubcategoriasDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tvalue={genero}\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Genero\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\tonChange={selectGenero}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{generosDB.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tgenerosDB.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} value={res._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t<Tooltip placement=\"bottom\" title=\"Limpiar filtros\">\r\n\t\t\t\t\t\t\t\t<ClearOutlined className=\"ml-2\" style={{ fontSize: 20 }} onClick={limpiarFiltros} />\r\n\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* <div>\r\n\t\t\t\t\t\t\t<div className=\"site-checkbox-all-wrapper\">\r\n\t\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\t\tindeterminate={indeterminate}\r\n\t\t\t\t\t\t\t\t\tonChange={onCheckAllChange}\r\n\t\t\t\t\t\t\t\t\tchecked={checkAll}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCheck all\r\n\t\t\t\t\t\t\t\t</Checkbox>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<CheckboxGroup\r\n\t\t\t\t\t\t\t\toptions={plainOptions}\r\n\t\t\t\t\t\t\t\tvalue={checkedList}\r\n\t\t\t\t\t\t\t\tonChange={onChangeC}\r\n\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Checkbox value='a'>a</Checkbox>\r\n\t\t\t\t\t\t\t\t<Checkbox value='b'>b</Checkbox>\r\n\t\t\t\t\t\t\t\t<Checkbox value='c'>c</Checkbox>\r\n\t\t\t\t\t\t\t</CheckboxGroup>\r\n\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t) : data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div style={demo}>\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={1}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={data}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(productos) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={producto._id === productos._id ? 'list-item-promocion' : ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={productos._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!productos.todos.length ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetContent(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlimpiar();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeleccionar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button className=\"button-disabled-promocion\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPromoción activa\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tavatar={<Avatar size={40} src={aws + productos.imagen} />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={productos.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Spin>\r\n\t\t\t\t</div>\r\n\t\t\t\t{content === false ? (\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6 d-flex justify-content-center mt-5\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<List className=\"shadow contenedor-articulo-detalles\">\r\n\t\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\t\tclassName=\"list-item-producto\"\r\n\t\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t{promocion.length !== 0 || disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Precio\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCampo}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.precio}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={subirPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tGuardar promoción\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row d-none\">\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\t\tSube una imagen para la promoción, esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\t\tpromociones\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage=\"Tamaño recomendado para la imagen es: 1710x330px\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Upload {...propsUpload} className=\"d-flex justify-content-center mt-3 mr-3\">\r\n\t\t\t\t\t\t\t\t\t<Button disabled={disabled}>Subir</Button>\r\n\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t{imagen.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm border\">\r\n\t\t\t\t\t\t\t\t\t\t<img className=\"img-producto-promocion\" alt=\"img-producto\" src={aws + imagen} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default RegistrarPromocion;\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, Upload, Spin, notification, Form, Col, Slider, List, Alert } from 'antd';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport './registrar_promocion.scss';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst ActualizarPromocion = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ precioPromocion, setPrecioPromocion ] = useState();\r\n\tconst [ disabledSumit, setDisabledSumit ] = useState(false);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ inputValue, setInputValue ] = useState(0);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst reload = props.reload;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif(reload){\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t}\r\n\t\t\tobtenerPromocion();\r\n\t\t},\r\n\t\t[ productoContext, reload ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCampo(promocion.precioPromocion);\r\n\t\t},\r\n\t\t[ promocion ]\r\n\t);\r\n\r\n\tconst antDprops = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tsubirImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\tconst antDpropsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formDataImagen = new FormData();\r\n\t\t\tformDataImagen.append('imagen', file);\r\n\t\t\tactualizarImagen(formDataImagen);\r\n\t\t}\r\n\t};\r\n\r\n\tconst formatter = (value) => `${value}%`;\r\n\r\n\tconst onChange = (value) => {\r\n\t\tsetInputValue(value);\r\n\t\tvar porcentaje = 100 - value;\r\n\t\tvar descuento = Math.round(producto.precio * porcentaje / 100);\r\n\t\tif (descuento >= producto.precio || descuento <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t} else {\r\n\t\t\tform.setFieldsValue({ precio: descuento });\r\n\t\t\tsetPrecioPromocion(descuento);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerCampo = (e) => {\r\n\t\tif (e >= producto.precio || e <= 0) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetDisabledSumit(true);\r\n\t\t} else {\r\n\t\t\tsetPrecioPromocion(e);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetDisabledSumit(false);\r\n\t\t\tvar porcentaje = Math.round(e / producto.precio * 100);\r\n\t\t\tvar descuento = 100 - porcentaje;\r\n\t\t\tsetInputValue(descuento);\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promocion/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.productoPromocion);\r\n\t\t\t\tsetPromocion(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tform.setFieldsValue({ precio: res.data.precioPromocion });\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst subirImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formDataImagen) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formDataImagen, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarImagen = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/EliminarImagen/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarPromocion = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append('precioPromocion', precioPromocion);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/productos/promocion/${productoContext}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerPromocion();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<div className=\"col-lg-8 col-12\">\r\n\t\t\t\t\t<List className=\"shadow\">\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<div className=\"precio-box\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"titulo-box\">\r\n\t\t\t\t\t\t\t\t\t\t\t<h2>{producto.nombre}</h2>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{disabledSumit === false ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-descuento d-inline\">{inputValue}%OFF</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"precio-rebaja d-inline\">${formatoMexico(producto.precio)}</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t</List>\r\n\t\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center mb-2\">\r\n\t\t\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={100}\r\n\t\t\t\t\t\t\t\t\ttipFormatter={formatter}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={typeof inputValue === 'number' ? inputValue : 0}\r\n\t\t\t\t\t\t\t\t\ttooltipVisible\r\n\t\t\t\t\t\t\t\t\tmarks={{ 0: '0%', 50: '50%', 100: '100%' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Form form={form}>\r\n\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\tname=\"precio\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nuevo precio\"\r\n\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\thelp=\"La promoción no debe ser mayor al precio del producto\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => obtenerCampo(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button disabled={disabledSumit} onClick={actualizarPromocion}>\r\n\t\t\t\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"d-none\">\r\n\t\t\t\t\t\t\t<p className=\"mt-2 texto-imagen\">\r\n\t\t\t\t\t\t\t\tActualizar imagen de promoción, recuerda que esta imagen aparecerá en el carrucel de\r\n\t\t\t\t\t\t\t\tpromociónes\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Space className=\"mt-3 d-flex justify-content-center\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDprops}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Subir imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<Upload {...antDpropsActualizar}>\r\n\t\t\t\t\t\t\t\t\t\t<Button>Actualizar imagen</Button>\r\n\t\t\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\teliminarImagen();\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tQuitar imagen\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t\t<div className=\"imagen-box-promocion shadow-sm mt-2\">\r\n\t\t\t\t\t\t\t\t{!promocion.imagenPromocion ? (\r\n\t\t\t\t\t\t\t\t\t<div>Sube una imagen</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"img-producto-promocion\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"img-producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+promocion.imagenPromocion}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default ActualizarPromocion;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Button, Row, Input, Drawer, Space, Modal, notification, List, Result, Spin } from 'antd';\r\nimport { PlusCircleOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport RegistrarPromocion from './services/registrar_promocion';\r\nimport ActualizarPromocion from './services/actualizar_promocion';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport './promociones.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Promociones(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ reload, setReload ] = useState(false);\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\treturn producto.productoPromocion.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\r\n\tfunction setActualizar() {\r\n\t\tsetAccion(true);\r\n\t\tsetVisible(true);\r\n\t}\r\n\tfunction setRegistrar() {\r\n\t\tsetAccion(false);\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductos = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/productos/promocion')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tasync function eliminarPromocion(idProducto) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/productos/promocion/${idProducto}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerProductos();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(productoID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'estas seguro de eliminar esto?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarPromocion(productoID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetActualizar();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tEditar\r\n\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-promocion-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws+productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t<p className=\"h4 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t$ {formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"h4 precio-rebaja d-inline mr-2\">$ {formatoMexico(productos.precioPromocion)}</p>\r\n\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\tSISTEMA DE PROMOCIONES\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\tEn este apartado puedes agregar ofertas especiales a tu producto y aparecer en la página principal\r\n\t\t\t\t</p>\r\n\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t<Search\r\n\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center mb-3\"\r\n\t\t\t\t\t\tonClick={setRegistrar}\r\n\t\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCrear nueva promocion\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{productos.length === 0 || productosFiltrados.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\ttitle=\"Articulo no encontrado\"\r\n\t\t\t\t\t\t\t\tsubTitle=\"Lo sentimo no pudimos encontrar lo que buscabas, intenta ingresar el nombre del producto.\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Drawer\r\n\t\t\t\t\ttitle={accion === true ? 'Actualizar promoción' : 'Registrar nueva promoción'}\r\n\t\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\t\tplacement={'right'}\r\n\t\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\t\tfooter={\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" onClick={drawnerClose}>\r\n\t\t\t\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t{accion === true ? (\r\n\t\t\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t\t\t<ActualizarPromocion reload={reload} />\r\n\t\t\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RegistrarPromocion reload={reload} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Drawer>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Promociones);\r\n","import React from 'react';\r\nimport { Card, Col, Tag, Modal, notification } from 'antd';\r\nimport { ContainerOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport './MostrarDatosTargeta.scss';\r\n\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nexport default function MostrarDatosTargeta(props) {\r\n\tconst { setDetalleApartado, showModal, apartado, setEstado, token } = props;\r\n\r\n\tconst deleteApartado = (id) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el El aparetado ?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.put(`/apartado/estado/eliminado/${id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetEstado(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Col className=\"mb-3\" span={window.screen.width > 990 ? 8 : 24} key={apartado._id}>\r\n\t\t\t<Card\r\n\t\t\t\tclassName=\"shadow-sm card-body-apartados\"\r\n\t\t\t\tactions={[\r\n\t\t\t\t\t<div className=\"d-flex ml-3 justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<ContainerOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDetalle del pedido\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>,\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center text-danger\">\r\n\t\t\t\t\t\t<DeleteOutlined className=\"mr-2\" style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tdeleteApartado(apartado._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tclassName=\"d-inline\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tclassName=\"contenedor-card-apartados\"\r\n\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Id apartado: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado._id}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Pedido el:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{formatoFecha(apartado.createdAt)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cliente:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">\r\n\t\t\t\t\t\t\t\t\t{`${apartado.cliente[0].nombre} ${apartado.cliente[0].apellido}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Estado:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#0275d8'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Tipo de entrega:</h6>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"data-info-apartados\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'ENVIO' ? '#5cb85c' : '#0275d8'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Producto:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.producto[0].nombre}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"sistema-apartado m-2\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"titulos-info-apartados\">Cantidad de artículos:</h6>\r\n\t\t\t\t\t\t\t\t<p className=\"data-info-apartados\">{apartado.cantidad}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t</Col>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport {Col,Row,Badge,Select,Form, Button,Spin,notification,Typography,Tag,Input} from 'antd'\r\nimport './DetalleApartado.scss';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { TextArea } = Input;\r\nconst { Text } = Typography;\r\nconst { Option } = Select;\r\n\r\nexport default function DetalleApartado(props) {\r\n\r\n    const {detalleApartado,setEstado, setVisible} = props;\r\n    \r\n    const [selectEstado, setSelectEstado] = useState('')\r\n    const [promocion, setpromocion] = useState([])\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [ datosEnvio, setdatosEnvio ] = useState();\r\n\r\n    const [ form ] = Form.useForm();\r\n\r\n    const token = localStorage.getItem('token')\r\n\r\n    function obtenerApartado(){\r\n        clienteAxios.get(`/apartado/${detalleApartado._id}`,{\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n        .then((res) => {\r\n\t\t\tsetLoading(false);\r\n            setpromocion(res.data.promocion)\r\n        }).catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        monstrarInformacionBlog({\r\n            mensajeUser:detalleApartado.mensajeUser,\r\n            paqueteria:detalleApartado.paqueteria,\r\n            url:detalleApartado.url,\r\n            codigo_seguimiento:detalleApartado.codigo_seguimiento,\r\n        })\r\n        obtenerApartado()\r\n        setSelectEstado(detalleApartado.estado)\r\n        setLoading(true)\r\n    }, [detalleApartado])\r\n\r\n\r\n    const handleonChange = (e) => {\r\n        setSelectEstado(e)\r\n    }\r\n\r\n    const monstrarInformacionBlog = (e) => {\r\n        form.setFieldsValue(e);\r\n     }\r\n\r\n\r\n\r\n    const guardarEstadoApartado = async () => {\r\n            let data = {};\r\n        if(selectEstado === \"ENVIADO\"){\r\n            data = {\r\n                estado: selectEstado,\r\n                codigo_seguimiento: datosEnvio.codigo_seguimiento,\r\n                mensajeUser: datosEnvio.mensajeUser,\r\n                paqueteria: datosEnvio.paqueteria,\r\n                url: datosEnvio.url,\r\n            }\r\n        }else{\r\n            data = {\r\n                estado: selectEstado,\r\n            }\r\n        }\r\n\r\n        setLoading(true)\r\n        await clienteAxios.put(`/apartado/${detalleApartado._id}`,data,{\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n        })\r\n        .then((res) => {\r\n            setEstado(true)\r\n            setLoading(false)\r\n            notification.success({\r\n                message: 'Hecho!',\r\n                description: res.data.message,\r\n                duration: 2\r\n            });\r\n            setVisible(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className =\"detalle-apartado\">\r\n                <Row>\r\n                    <Col span={24} className=\"detalle-apartado__border d-block detalle-apartados\">\r\n                        <p className=\"h4 font-weight-bold\">Datos Usuario</p>\r\n                        <div className=\"col-sm-12 col-lg-6 m-2\">\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cliente[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Teléfono: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cliente[0].telefono}</p>\r\n                            <h6 className=\" m-2\">Calle: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].calle_numero}</p>}\r\n                            <h6 className=\" m-2\">Calles referentes a las que vive: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].entre_calles}</p>}\r\n                            <h6 className=\" m-2\">Código Postal: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].cp}</p>}\r\n                        </div>\r\n                        <div className=\"col-sm-12 col-lg-6 m-2\">\r\n                        <h6 className=\" m-2\">Colonia: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].colonia}</p>}\r\n                            <h6 className=\" m-2\">Ciudad: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].ciudad}</p>}\r\n                            <h6 className=\" m-2\">Estado: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].estado}</p>}\r\n                            <h6 className=\" m-2\">País: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.cliente[0].direccion[0].pais}</p>}\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={24} className=\"detalle-apartado__border d-block m-2\">\r\n                        <p className=\"h4 font-weight-bold\">Datos producto</p>\r\n                        <div className=\"\">\r\n                            <div className=\"DetalleApartdado-imagen\">\r\n                                <img\r\n                                    className=\"img-fluid\"\r\n                                    width=\"200\"\r\n                                    alt=\"imagen de base\"\r\n                                    src={aws+detalleApartado.producto[0].imagen}\r\n                                />\r\n                            </div>\r\n                            <h6 className=\" m-2\">Nombre: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.producto[0].nombre}</p>\r\n                            <h6 className=\" m-2\">Código de barras: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].codigo}</p>}\r\n                            <h6 className=\" m-2\">Categoría: </h6>\r\n                            {<p className=\" m-2\">{detalleApartado.producto[0].categoria}</p>}\r\n                            {promocion.length > 0 ? (\r\n                                <div className=\"\">\r\n                                    <h6 className=\"\">Precio:</h6>\r\n                                    <Text className=\"h4 color-precio-apartado\" delete >$ {formatoMexico(detalleApartado.producto[0].precio)}</Text> \r\n                                    <p className=\"h4\">$ {formatoMexico(promocion[0].precioPromocion)}</p>\r\n                                </div>\r\n                            ):(<p className=\" m-2\">$ {formatoMexico(detalleApartado.producto[0].precio)}</p>)}\r\n\r\n\r\n\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={24} className=\"m-2\">\r\n                        <div>\r\n                            <div>\r\n                            <p className=\"h4 font-weight-bold\">Estatus del pedido</p>\r\n                                <h6 className=\" m-2\">{detalleApartado.producto[0].categoria === 'calzado' ? 'Numero a apartar:': detalleApartado.producto[0].categoria === 'ropa' ? 'Talla a apartar' : '' }</h6>\r\n                                    {detalleApartado.producto[0].categoria === 'calzado' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                                <p \r\n                                                    className=\"detalle-contenido-talla m-2\"\r\n                                                style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                                >\r\n                                                    {detalleApartado.medida[0].numero}\r\n                                                </p>\r\n                                            </Badge>  \r\n                                    ): detalleApartado.producto[0].categoria === 'ropa' ? (\r\n                                        <Badge className=\"m-2\">\r\n                                            <p \r\n                                                className=\"detalle-contenido-talla m-2\"\r\n                                            style={{ backgroundColor: '#EEEEEE', fontSize: 40, minWidth: '40px', height: '56px' }}\r\n                                            >\r\n                                                {detalleApartado.medida[0].talla}\r\n                                            </p>\r\n                                        </Badge>\r\n                                    ) : '' }\r\n                            </div>\r\n                           {/*  <h6 className=\" m-2\">Cantidad de artículos por apartar: </h6>\r\n                            <p className=\" m-2\">{detalleApartado.cantidad}</p> */}\r\n\r\n                            <h6 className=\" m-2\">Tipo de entrega:</h6>\r\n                            <Tag\r\n                                style={{size:\"50px\",marginBottom: 10}}\r\n                                color={detalleApartado.tipoEntrega === 'ENVIO' ?  '#5cb85c' : '#0275d8'}\r\n                            >\r\n                                {detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio a domicilio' : 'Recoger a sucursal'}\r\n                            </Tag>\r\n                            <p></p>\r\n\r\n                            <h6 className=\" m-2\">Actualiza el estado del pedido:</h6>\r\n                            <Form \r\n                                onFinish={guardarEstadoApartado}\r\n                                form={form}\r\n                            >\r\n                            <Form.Item>\r\n                                <Select value={selectEstado} placeholder=\"Seleciona una categoria\" onChange={handleonChange} style={{ width: 300 }}>\r\n                                    <Option value=\"PROCESANDO\">En proceso</Option>\r\n                                    {detalleApartado.tipoEntrega === \"ENVIO\" ? (\r\n                                        <>\r\n                                            <Option value=\"ENVIADO\">Enviado</Option>\r\n                                            <Option value=\"CANCELADO\">Cancelado</Option>\r\n                                        </>\r\n\r\n                                    ):(\r\n                                        <>\r\n                                            <Option value=\"ACEPTADO\">Aceptado</Option>\r\n                                            <Option value=\"RECHAZADO\">Rechazado</Option>\r\n                                        </>\r\n\r\n                                    )}\r\n\r\n                                </Select>\r\n                            </Form.Item>\r\n                            {selectEstado === 'ENVIADO' ? detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-lg-8\">\r\n                                        <h6>Mensaje:</h6>\r\n                                        <Form.Item  name=\"mensajeUser\">\r\n                                            <TextArea rows={4} name=\"mensajeUser\" onChange={e => setdatosEnvio({ ...datosEnvio, mensajeUser: e.target.value })} />\r\n                                        </Form.Item>\r\n                                        <h6>Paquetería:</h6>\r\n                                        <Form.Item  name=\"paqueteria\">\r\n                                            <Input   name=\"paqueteria\" placeholder=\"Paqueteria\" onChange={e => setdatosEnvio({ ...datosEnvio, paqueteria: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Url de vinculación:</h6>\r\n                                        <Form.Item  name=\"url\">\r\n                                            <Input   name=\"url\" placeholder=\"Url de vinculacion del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, url: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                        <h6>Número de seguimiento:</h6>\r\n                                        <Form.Item  name=\"codigo_seguimiento\">\r\n                                            <Input   name=\"codigo_seguimiento\" placeholder=\"Numero de seguimiento del paquete\" onChange={e => setdatosEnvio({ ...datosEnvio, codigo_seguimiento: e.target.value })}/>\r\n                                        </Form.Item>\r\n                                    </div>\r\n                                </div>\r\n                            ) : \"\" : \"\" }\r\n\r\n\r\n                            <Form.Item wrapperCol={{offset: 10, span: 8}}>\r\n                                 <Button className=\"d-flex justify-content-center align-items-center\" type=\"primary\" htmlType=\"submit\" >\r\n                                    Guardar\r\n                                </Button>\r\n                            </Form.Item>\r\n                            </Form>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Spin, Result, Row, Modal, Input } from 'antd';\r\nimport queryString from 'query-string';\r\nimport MostrarDatosTargeta from './services/MostrarDatosTargeta';\r\nimport DetalleApartado from './services/DetalleApartado';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport './apartado.scss';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SistemaApartado(props) {\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState([]);\r\n\tconst [ apartadoPaginacion, setApartadoPaginacion ] = useState([]);\r\n\r\n\tconst [ filter, setFilter ] = useState('');\r\n\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerProductosFiltrados(filter) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/filtroCliente/${filter}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tfunction obtenerDatos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/apartado/?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetApartados(res.data.posts.docs);\r\n\t\t\t\tsetApartadoPaginacion(res.data.posts);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerDatos(24, page);\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetEstado(false);\r\n\t\t},\r\n\t\t[ page, filter, estado ]\r\n\t);\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\tconst showModal = () => {\r\n\t\tsetVisible(true);\r\n\t};\r\n\r\n\tconst handleCancel = () => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\tSISTEMA DE CONTROL DE APARTADO\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Buscar apartados\"\r\n\t\t\t\t\t\t\tonSearch={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\t\t\tobtenerDatos(10, page, filter);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tobtenerProductosFiltrados(value);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t{apartados.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Row gutter={16}>\r\n\t\t\t\t\t\t\t\t{apartados.map((apartado) => (\r\n\t\t\t\t\t\t\t\t\t<MostrarDatosTargeta\r\n\t\t\t\t\t\t\t\t\t\tkey={apartado._id}\r\n\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\r\n\t\t\t\t\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tkey=\"detalle\"\r\n\t\t\t\t\twidth={600}\r\n\t\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\t\ttitle=\"Detalles de este pedido\"\r\n\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t\tfooter={[ '' ]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} setEstado={setEstado} setFilter={setFilter} setVisible={setVisible}/>\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Pagination blogs={apartadoPaginacion} location={location} history={history} limite={24} />\r\n\t\t\t</Spin>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default withRouter(SistemaApartado);\r\n","import React, { useState } from 'react';\r\nimport { Button, notification, Upload } from 'antd';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport * as XLSX from 'xlsx';\r\nimport clienteAxios from '../config/axios';\r\n\r\nexport default function GetDataFromExcelJusTInput(props) {\r\n\tconst [ hojas, setHojas ] = useState([]);\r\n\tconst [ reload, setReload ] = props.reload;\r\n\r\n\tconst [ fileList, setFileList ] = useState([]);\r\n\tconst [ uploading, setUploading ] = useState(false);\r\n\r\n\tconst propsUlpload = {\r\n\t\tmultiple: false,\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tif (\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel' ||\r\n\t\t\t\tfile.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' ||\r\n\t\t\t\tfile.type === 'application/vnd.ms-excel.sheet.macroEnabled.12' \r\n\t\t\t) {\r\n\t\t\t\treturn false;\r\n\t\t\t}else {\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Solo se admiten archivos csv',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\tonChange({ file, fileList }) {\r\n\t\t\tsetFileList(fileList);\r\n\t\t\tlet hojas = [];\r\n\t\t\tif (!file.status ) {\r\n\t\t\t\tlet reader = new FileReader();\r\n\t\t\t\treader.readAsArrayBuffer(file);\r\n\t\t\t\treader.onloadend = (e) => {\r\n\t\t\t\t\tvar data = new Uint8Array(e.target.result);\r\n\t\t\t\t\tvar workbook = XLSX.read(data, { type: 'array' });\r\n\r\n\t\t\t\t\tworkbook.SheetNames.forEach(function(sheetName) {\r\n\t\t\t\t\t\t// Here is your object\r\n\t\t\t\t\t\tvar XL_row_object = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[sheetName]);\r\n\t\t\t\t\t\thojas.push({\r\n\t\t\t\t\t\t\tdata: XL_row_object,\r\n\t\t\t\t\t\t\tsheetName\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetHojas(hojas);\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tfileList: fileList\r\n\t};\r\n\r\n\tconst enviarDatos = () => {\r\n\t\tsetUploading(true);\r\n\t\tconst token = localStorage.getItem('token');\r\n\t\tclienteAxios\r\n\t\t\t.put('/productos/inventario/excel/', hojas[0], {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetReload(!reload);\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tsetHojas([]);\r\n\t\t\t\tsetFileList([]);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Registros actualizados',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetUploading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'hubo un error al cargar el archivo',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"ml-2 mb-3 d-flex\">\r\n\t\t\t<Upload {...propsUlpload} className=\"d-inline-flex mx-3\">\r\n\t\t\t\t<Button size=\"large\" icon={<UploadOutlined />} disabled={fileList.length >= 1}>\r\n\t\t\t\t\tCargar csv\r\n\t\t\t\t</Button>\r\n\t\t\t</Upload>\r\n\t\t\t<Button\r\n\t\t\t\tclassName=\"d-inline-flex\"\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\tsize=\"large\"\r\n\t\t\t\tonClick={enviarDatos}\r\n\t\t\t\tdisabled={fileList.length === 0}\r\n\t\t\t\tloading={uploading}\r\n\t\t\t>\r\n\t\t\t\t{uploading ? 'Cargando...' : 'Cargar archivo'}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Tag, Input, notification, Badge, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport './inventario.scss';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport GetDataFromExcelJusTInput from '../../../components/excel';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Inventario(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosRender, setProductosRender ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\tconst [ reload, setReload ] = useState(true);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page, reload ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Código',\r\n\t\t\tdataIndex: 'codigo',\r\n\t\t\tkey: 'codigo',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Producto',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (text) => <p className=\"h5\">{text}</p>\r\n\t\t},\r\n\t\t/* {\r\n\t\t\ttitle: 'tipo de Categoria',\r\n\t\t\tdataIndex: 'tipoCategoria',\r\n\t\t\tkey: 'tipoCategoria',\r\n\t\t\trender: (text) => !text ? <p>-</p> : <p>{text.toLowerCase()}</p>\r\n\t\t}, */\r\n\t\t/* {\r\n\t\t\ttitle: 'Categoría',\r\n\t\t\tdataIndex: 'categoria',\r\n\t\t\tkey: 'categoria',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text.toLowerCase()}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Sub categoría',\r\n\t\t\tdataIndex: 'subCategoria',\r\n\t\t\tkey: 'subCategoria',\r\n\t\t\trender: (text) => (!text ? <p className=\"h5\">-</p> : <p className=\"h5\">{text.toLowerCase()}</p>)\r\n\t\t}, */\r\n\t\t{\r\n\t\t\ttitle: 'Cantidad',\r\n\t\t\tdataIndex: 'cantidad',\r\n\t\t\tkey: 'cantidad',\r\n\t\t\trender: (text) =>\r\n\t\t\t\ttext === null ? (\r\n\t\t\t\t\t<p>-</p>\r\n\t\t\t\t) : text === 0 ? (\r\n\t\t\t\t\t<Badge count={text} showZero />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Badge style={{ backgroundColor: '#52c41a' }} count={text} />\r\n\t\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Talla y Cantidad',\r\n\t\t\tdataIndex: 'tallas',\r\n\t\t\tkey: 'tallas',\r\n\t\t\trender: (tallas) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!tallas.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\ttallas.map((talla) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={talla._id}\r\n\t\t\t\t\t\t\t\t\tcount={talla.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\ttalla.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p className=\"h5\">{talla.talla}</p>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Número y Cantidad',\r\n\t\t\tdataIndex: 'numeros',\r\n\t\t\tkey: 'numeros',\r\n\t\t\trender: (numeros) => (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!numeros.length ? (\r\n\t\t\t\t\t\t<p className=\"h5\">-</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\tnumeros.map((numero) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\tclassName=\"badge-inventario\"\r\n\t\t\t\t\t\t\t\t\tkey={numero._id}\r\n\t\t\t\t\t\t\t\t\tcount={numero.cantidad}\r\n\t\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\tnumero.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#52c41a' }\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t{ backgroundColor: '#FF4D4F' }\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<p className=\"h5\">{numero.numero}</p>\r\n\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Estado',\r\n\t\t\tdataIndex: 'activo',\r\n\t\t\tkey: 'activo',\r\n\t\t\trender: (estado) => (\r\n\t\t\t\t<div>{estado ? <Tag color=\"green\">Activo</Tag> : <Tag color=\"processing\">Pausado</Tag>}</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosRender(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosRender(res.data.posts.docs);\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={`${visible} mb-5`}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[reload, setReload]} />\r\n\t\t\t</Row>\r\n\t\t\t{/* <div className=\"d-flex justify-content-center my-3\">\r\n\t\t\t\t<GetDataFromExcelJusTInput reload={[reload, setReload]} />\r\n\t\t\t</div> */}\r\n\t\t\t\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={productosRender}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(producto) => producto._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={productos} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Inventario);\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Button, Input, Space, notification, Modal, List, Avatar, Card, Result, Empty, Spin } from 'antd';\r\nimport { ExclamationCircleOutlined, RollbackOutlined, CloseOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../../contexts/ProductoContext';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './sugerencia.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst productoContext = useContext(IdProductoContext);\r\n\t//states de obtener producto\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//states de obtener productos sugeridos de base, crear producto sugerido y para mapear el producto sugerido\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ productoSugerido, setProductoSugerido ] = useState([]);\r\n\t//modal para crear un producto sugerido\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\t///state para saber si va a actualizar o registrar\r\n\tconst [ actualizar, setActualizar ] = useState(false);\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProducto();\r\n\t\t\tobtenerSugerencia();\r\n\t\t},\r\n\t\t[ productoContext ]\r\n\t);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoadingList(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoadingList(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst obtenerProducto = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst obtenerSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${productoContext}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((item) => setSugerencia(item.producto));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tif (err.response.status === 404) {\r\n\t\t\t\t\t\tsetSugerencia('No hay sugerencia');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///// CREAR, ACTUALIZAR Y ELIMINAR SUGERENCIAS DE LA BASE DE DATOS\r\n\tconst crearSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.post(`/sugerencia/nueva/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst actualizarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\tproducto: productoContext,\r\n\t\t\tsugerencias: [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: productoSugerido\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/sugerencia/${productoContext}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetReloadData(true);\r\n\t\t\t\tsetModalVisible(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst eliminarSugerencia = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/sugerencia/${productoContext}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tobtenerSugerencia();\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\t///MODAL ALERTA ELIMINAR\r\n\tfunction showDeleteConfirm() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Estás seguro de eliminar esta sugerencia?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarSugerencia();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t/////MODAL\r\n\tconst showModal = (accion) => {\r\n\t\tif (accion === 'actualizar') {\r\n\t\t\tsetModalVisible(true);\r\n\t\t\tsetActualizar(true);\r\n\t\t} else {\r\n\t\t\tsetModalVisible(true);\r\n\t\t}\r\n\t};\r\n\tconst handleCancel = () => {\r\n\t\tsetModalVisible(false);\r\n\t\tsetPage(1);\r\n\t\tsetHasMore(true);\r\n\t\tsetReloadData(true);\r\n\t\tsetProductoSugerido([]);\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tclassName={productoSugerido._id === productos._id ? 'list-item-sugerencia' : ''}\r\n\t\t\tkey={productos._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProductoSugerido(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tAgregar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Modal\r\n\t\t\t\tclosable={false}\r\n\t\t\t\tstyle={{ top: 30 }}\r\n\t\t\t\ttitle=\"Sugerencias de producto\"\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button danger key=\"back\" onClick={handleCancel}>\r\n\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t<CloseOutlined className=\"mr-1\" />Cerrar\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Button>,\r\n\t\t\t\t\tactualizar === false ? (\r\n\t\t\t\t\t\t<Button key=\"crear\" type=\"primary\" onClick={crearSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Crear\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Button key=\"actualizar\" type=\"primary\" onClick={actualizarSugerencia}>\r\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-center\">\r\n\t\t\t\t\t\t\t\t<CheckOutlined className=\"mr-1\" />Actualizar\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto que quieres sugerir.</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ width: 350, height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Spin>\r\n\t\t\t</Modal>\r\n\t\t\t<div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 18 }}>\r\n\t\t\t\t\t\t¡Que esperas, crea una sugerencia ahora mismo!.\r\n\t\t\t\t\t</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\tCrea sugerencias de productos para tu tienda.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\t\t\t\tEstas sugerencias aparecerán en la vista del producto.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Button onClick={showModal}>Crear sugerencia</Button>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-3\">\r\n\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tshowModal('actualizar');\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEditar sugerencia\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={showDeleteConfirm}>Quitar sugerencia</Button>\r\n\t\t\t\t\t</Space>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"d-lg-flex d-sm-block justify-content-center align-items-center mt-4\">\r\n\t\t\t\t<Card\r\n\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\tcover={\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Meta title={producto.nombre} />\r\n\t\t\t\t</Card>\r\n\t\t\t\t<div className=\"contenedor-span d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t{sugerencia === 'No hay sugerencia' ? (\r\n\t\t\t\t\t<Empty description=\"No hay sugerencia\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tclassName=\"shadow card-contenedor\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-sugerencia\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto sugerido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws + sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta title={sugerencia.nombre} />\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default Sugerencia;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Row, Input, Button, Drawer, notification, Space, List, Result, Spin } from 'antd';\r\nimport { RollbackOutlined } from '@ant-design/icons';\r\nimport { IdProductoContext } from '../contexts/ProductoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport Sugerencia from './services/sugerencia';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './sugerencias.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Sugerencias(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ productoID, setProductoID ] = useState('');\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ visibleReload, setVisibleReload ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tfunction drawnerClose() {\r\n\t\tsetVisible(false);\r\n\t}\r\n\tfunction drawnerOpen() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisibleReload('d-none');\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t} else {\r\n\t\t\tsetVisibleReload('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerProductos = async (limit, page) => {\r\n\t\tsetVisibleReload('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center mt-3\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"mt-3\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdrawnerOpen();\r\n\t\t\t\t\t\t\tsetProductoID(productos._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tVer / Crear Sugerencia\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">{productos.nombre}</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPRODUCTOS SUGERIDOS\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn este apartado puedes agregar sugerencias de compra de otro producto a un producto\r\n\t\t\t</p>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visibleReload}\r\n\t\t\t\t\tonClick={() => obtenerProductos(20, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productos.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<List>{render}</List>\r\n\t\t\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} limite={20} />\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle={'Sugerencias'}\r\n\t\t\t\twidth={window.screen.width > 768 ? 1000 : window.screen.width}\r\n\t\t\t\tplacement={'right'}\r\n\t\t\t\tonClose={drawnerClose}\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tbodyStyle={{ paddingBottom: 80 }}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\ttextAlign: 'right'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Button onClick={drawnerClose}>Cancelar</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<IdProductoContext.Provider value={productoID}>\r\n\t\t\t\t\t<Sugerencia />\r\n\t\t\t\t</IdProductoContext.Provider>\r\n\t\t\t</Drawer>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Sugerencias);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Upload, Button, List, Avatar, Input, Space, Result, notification, Spin, Alert, Form } from 'antd';\r\nimport { UploadOutlined, PictureOutlined, RollbackOutlined } from '@ant-design/icons';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\nimport './carousel.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst layout = {\r\n\tlabelCol: { span: 10 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nfunction CarouselImages(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tconst [ imagen, setImagen ] = useState();\r\n\tconst [ imagenPreview, setImagenPreview ] = useState('');\r\n\t//states de obtener producto y obtener todos los productos\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\t//modal para crear una imagen de carousel\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\t//infiniteScroll\r\n\tconst [ data, setData ] = useState([]);\r\n\tconst [ hasMore, setHasMore ] = useState(true);\r\n\tconst [ page, setPage ] = useState(1);\r\n\tconst [ totalDocs, setTotalDocs ] = useState();\r\n\tconst [ loadingList, setLoadingList ] = useState(false);\r\n\tconst [ reloadData, setReloadData ] = useState(false);\r\n\tconst [ nombreImagen, setNombreImagen ] = useState('');\r\n\r\n\tconst reload = props.reload;\r\n\r\n\tconst formData = new FormData();\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (reload) {\r\n\t\t\t\tsetPage(1);\r\n\t\t\t\tsetHasMore(true);\r\n\t\t\t\tsetProducto([]);\r\n\t\t\t\tsetImagenPreview('');\r\n\t\t\t}\r\n\t\t\tobtenerTodosProductos((res) => {\r\n\t\t\t\tsetData(res.data.posts.docs);\r\n\t\t\t\tsetTotalDocs(res.data.posts.totalDocs);\r\n\t\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ reloadData, reload ]\r\n\t);\r\n\r\n\tconst obtenerProductosFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tsetPage(1);\r\n\t\t\tsetHasMore(true);\r\n\t\t\tsetReloadData(true);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-1 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tclienteAxios\r\n\t\t\t\t.get(\r\n\t\t\t\t\t`/productos/search?nombre=${busqueda}&categoria=${busqueda}&subcategoria=${busqueda}&genero=${busqueda}&color=${busqueda}`\r\n\t\t\t\t)\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetData(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerTodosProductos = (callback) => {\r\n\t\tsetReloadData(false);\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoadingList(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos?limit=${12}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tcallback(res);\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoadingList(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\tconst handleInfiniteOnLoad = () => {\r\n\t\tsetLoadingList(true);\r\n\t\tif (data.length === totalDocs) {\r\n\t\t\tsetLoadingList(false);\r\n\t\t\tsetHasMore(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tobtenerTodosProductos((res) => {\r\n\t\t\tsetPage(res.data.posts.nextPage);\r\n\t\t\tsetData(data.concat(res.data.posts.docs));\r\n\t\t});\r\n\t};\r\n\r\n\tconst antdProps = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tsetImagen(file);\r\n\t\t\tlet reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = function() {\r\n\t\t\t\tsetImagenPreview(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerNombreImagen = (e) => {\r\n\t\tsetNombreImagen(e.target.value);\r\n\t};\r\n\r\n\tconst crearCarousel = async () => {\r\n\t\tsetLoading(true);\r\n\t\tif (producto.length !== 0) {\r\n\t\t\tformData.append('producto', producto._id);\r\n\t\t\tformData.append('nombre', producto.nombre);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t} else {\r\n\t\t\tformData.append('nombre', nombreImagen);\r\n\t\t\tformData.append('imagen', imagen);\r\n\t\t}\r\n\t\tif (producto.length === 0 && nombreImagen === '') {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error',\r\n\t\t\t\tdescription: 'El nombre de la imagen no debe ir vacío',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t\tsetLoading(false);\r\n\t\t} else {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/carousel/nuevo/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst render = data.map((productos) => (\r\n\t\t<List.Item\r\n\t\t\tkey={productos._id}\r\n\t\t\tclassName={producto._id === productos._id ? 'list-item-carousel' : ''}\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetProducto(productos);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tSeleccionar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta avatar={<Avatar src={aws + productos.imagen} />} title={productos.nombre} />\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert\r\n\t\t\t\t\tmessage=\"Puedes subir una imagen de carousel ya sea que esta tenga referencia a un producto o no. Si hace referencia a un producto selecciona uno de la lista, si no hace referencia, la imagen debe llevar un nombre.\"\r\n\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\tshowIcon\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row d-sm-block d-lg-flex\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<p className=\"text-center my-3\">Elige un producto y después una imagen</p>\r\n\t\t\t\t\t<div className=\"row justify-content-center mt-1\">\r\n\t\t\t\t\t\t<Search\r\n\t\t\t\t\t\t\tclassName=\"search-width-modal\"\r\n\t\t\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\t\t\tonSearch={(value) => obtenerProductosFiltrados(value)}\r\n\t\t\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\t\tsetHasMore(true);\r\n\t\t\t\t\t\t\t\tsetReloadData(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Spin className=\"spin-sugerencia-list\" size=\"large\" spinning={loadingList}>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-lista\">\r\n\t\t\t\t\t\t\t\t\t<InfiniteScroll\r\n\t\t\t\t\t\t\t\t\t\tinitialLoad={false}\r\n\t\t\t\t\t\t\t\t\t\tpageStart={0}\r\n\t\t\t\t\t\t\t\t\t\tloadMore={handleInfiniteOnLoad}\r\n\t\t\t\t\t\t\t\t\t\thasMore={!loading && hasMore}\r\n\t\t\t\t\t\t\t\t\t\tuseWindow={false}\r\n\t\t\t\t\t\t\t\t\t\tthreshold={5}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<List className=\"m-1\">{render}</List>\r\n\t\t\t\t\t\t\t\t\t</InfiniteScroll>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t{!producto.nombre ? (\r\n\t\t\t\t\t\t<Form {...layout}>\r\n\t\t\t\t\t\t\t<Form.Item label=\"Nombre de la imagen\">\r\n\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\tname=\"nombreImagen\"\r\n\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'El nombre de la imagen no puede ir vacío' } ]}\r\n\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Input placeholder=\"nombre de la imagen\" onChange={(e) => obtenerNombreImagen(e)} />\r\n\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h5>{producto.nombre}</h5>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-4\">\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<Upload {...antdProps} className=\"upload-text-display\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" /* disabled={producto.length !== 0 ? false : true} */>\r\n\t\t\t\t\t\t\t\t\t<UploadOutlined />Subir\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tcrearCarousel();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdisabled={imagenPreview !== '' ? false : true}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCrear\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1650x565px\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"shadow imagen-preview-carousel d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t{imagenPreview === '' ? (\r\n\t\t\t\t\t\t\t<PictureOutlined style={{ fontSize: 80 }} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen\"\r\n\t\t\t\t\t\t\t\tsrc={imagenPreview}\r\n\t\t\t\t\t\t\t\talt=\"preview-imagen\"\r\n\t\t\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default CarouselImages;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Button, Input, Space, Modal, List, Row, Upload, Result, notification, Spin, Alert } from 'antd';\r\nimport {\r\n\tEyeOutlined,\r\n\tEditOutlined,\r\n\tDeleteOutlined,\r\n\tPlusCircleOutlined,\r\n\tExclamationCircleOutlined\r\n} from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport CarouselImages from './services/carousel';\r\nimport './carousel.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\n\r\nfunction Carousel(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t/* const [ productoCarousel, setProductoCarousel ] = useState([]); */\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ search, setSearch ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ productosFiltrados, setProductosFiltrados ] = useState([]);\r\n\tconst [ modalVisible, setModalVisible ] = useState(false);\r\n\tconst [ modalCrearVisible, setModalCrearVisible ] = useState(false);\r\n\r\n\tconst [ reload, setReload ] = useState(false);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerCarouseles();\r\n\t\t\tsetReload(false);\r\n\t\t},\r\n\t\t[ reload ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetProductosFiltrados(\r\n\t\t\t\tproductos.filter((producto) => {\r\n\t\t\t\t\tif (producto.nombre) {\r\n\t\t\t\t\t\treturn producto.nombre.toLowerCase().includes(search.toLowerCase());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn producto;\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t},\r\n\t\t[ search, productos ]\r\n\t);\r\n\r\n\t///*** OBTENER DATOS DE LA BASE DE DATOS\r\n\tconst obtenerCarouseles = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carousel/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\t/* res.data.forEach((item) => {\r\n\t\t\t\t\tif(item.producto){\r\n\t\t\t\t\t\tsetProductoCarousel(item.producto)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tsetProductoCarousel('')\r\n\t\t\t\t\t}\r\n\t\t\t\t}); */\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ACTUALIZAR IMAGEN\r\n\tconst propsActualizar = {\r\n\t\tbeforeUpload: async (file) => {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('imagen', file);\r\n\t\t\tawait actualizarImagen(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst actualizarImagen = async (formdata) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/carousel/${producto}/`, formdata, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\t///ELIMINAR IMAGEN\r\n\tconst eliminarImagen = async (carouselID) => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.delete(`/carousel/${carouselID}/`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tobtenerCarouseles();\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: '¡Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst showModal = () => {\r\n\t\tsetModalVisible(true);\r\n\t};\r\n\tconst closeModal = () => {\r\n\t\tsetModalVisible(false);\r\n\t};\r\n\r\n\tfunction closeModalCrear() {\r\n\t\tsetModalCrearVisible(false);\r\n\t\tsetReload(true);\r\n\t}\r\n\tfunction showModalCrear() {\r\n\t\tsetModalCrearVisible(true);\r\n\t}\r\n\r\n\tfunction showDeleteConfirm(carouselID) {\r\n\t\tconfirm({\r\n\t\t\ttitle: '¿Quieres eliminarla?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\teliminarImagen(carouselID);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst render = productosFiltrados.map((carousel) => (\r\n\t\t<List.Item\r\n\t\t\tkey={carousel._id}\r\n\t\t\tactions={[\r\n\t\t\t\t<Space>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetProducto(carousel);\r\n\t\t\t\t\t\t\tshowModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EyeOutlined />\r\n\t\t\t\t\t\tVer\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Upload {...propsActualizar} className=\"d-inline\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetProducto(carousel._id);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\t\tEditar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowDeleteConfirm(carousel._id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Space>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center mr-2\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<img className=\"imagen-promocion-principal\" alt=\"producto\" src={aws + carousel.imagen} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"mt-4 titulo-producto\">\r\n\t\t\t\t\t\t<h1 className=\"h5 font-weight-bold\">\r\n\t\t\t\t\t\t\t{carousel.nombre ? carousel.nombre : 'imagen sin nombre'}\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\tPublicidad\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-center\" style={{ fontSize: 15 }}>\r\n\t\t\t\tEn esta sección puedes subir una imagen promocional de tu producto al banner en la pagina principal en caso de que\r\n\t\t\t\tno existan promociones, si no existen promociones apareceran estas imagenes.\r\n\t\t\t</p>\r\n\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t<Alert message=\"Tamaño recomendado para la imagen es: 1710x330px\" type=\"info\" showIcon />\r\n\t\t\t</div>\r\n\t\t\t<Row justify=\"center mt-5\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Busca un producto\"\r\n\t\t\t\t\tonChange={(e) => setSearch(e.target.value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={showModalCrear}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"ml-3 mb-3 d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\ticon={<PlusCircleOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tNueva imagen de publicidad\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t{productosFiltrados.length === 0 ? (\r\n\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Result status=\"404\" title=\"No hay resultados\" />\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t<List>{render}</List>\r\n\t\t\t)}\r\n\t\t\t<Modal\r\n\t\t\t\ttitle={producto.nombre ? producto.nombre : 'Imagen sin nombre'}\r\n\t\t\t\tvisible={modalVisible}\r\n\t\t\t\tonCancel={closeModal}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\twidth={1200}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tstyle={{ maxWidth: '100%', maxHeight: '100%' }}\r\n\t\t\t\t\t\talt=\"imagen-promocion-modal\"\r\n\t\t\t\t\t\tsrc={aws + producto.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Crear nueva imagen publicitaria para el Carousel\"\r\n\t\t\t\tvisible={modalCrearVisible}\r\n\t\t\t\tonCancel={closeModalCrear}\r\n\t\t\t\tfooter={false}\r\n\t\t\t\tcentered\r\n\t\t\t\twidth={800}\r\n\t\t\t\tstyle={{ top: 20 }}\r\n\t\t\t>\r\n\t\t\t\t<CarouselImages reload={reload} />\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(Carousel);\r\n","import React from 'react';\r\nimport { List, Button, Modal, notification, Avatar } from 'antd';\r\nimport { EyeOutlined, EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport './blogList.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { confirm } = Modal;\r\n\r\nexport default function blogList(props) {\r\n\tconst { blogs, setReloadBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst deleteBlog = (blog) => {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminando Blog',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tcontent: `¿Estás seguro que deseas eliminar el blog ${blog.nombre}?`,\r\n\t\t\tokText: 'Eliminar',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'Cancelar',\r\n\t\t\tonOk() {\r\n\t\t\t\tclienteAxios\r\n\t\t\t\t\t.delete(`/blog/${blog._id}`, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'aplication/json',\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\t\tmessage: 'Blog Eliminado',\r\n\t\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-list\">\r\n\t\t\t<List\r\n\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\tdataSource={blogs.docs}\r\n\t\t\t\trenderItem={(blog) => (\r\n\t\t\t\t\t<Blog\r\n\t\t\t\t\t\tblog={blog}\r\n\t\t\t\t\t\tdeleteBlog={deleteBlog}\r\n\t\t\t\t\t\tshowDrawer={showDrawer}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t\tsetInfoBlog={setInfoBlog}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Blog(props) {\r\n\tconst { blog, deleteBlog, showDrawer, setAccion, setInfoBlog } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tactions={[\r\n\t\t\t\t<Link to={`/blog/${blog.url}`} target=\"_blank\">\r\n\t\t\t\t\t<Button type=\"dashed\" size={window.screen.width > 768 ? 'middle' : 'small'}>\r\n\t\t\t\t\t\t<EyeOutlined /> Ver\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Link>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetInfoBlog(blog);\r\n\t\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\t\tshowDrawer();\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined /> Editar\r\n\t\t\t\t</Button>,\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => deleteBlog(blog)}\r\n\t\t\t\t\tsize={window.screen.width > 768 ? 'middle' : 'small'}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteOutlined /> Eliminar\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={<Avatar src={aws + blog.imagen} />}\r\n\t\t\t\ttitle={<p className=\"h5 font-weight-bold\">{blog.nombre}</p>}\r\n\t\t\t\tdescription={<p className=\"h6\">{blog.administrador}</p>}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import {createContext} from 'react';\r\n\r\nexport const BlogContext = createContext();","import React, { useContext, useState, useEffect } from 'react';\r\nimport { BlogContext } from '../../contexts/BlogContext';\r\nimport { Form, Input, Button, notification, Upload, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nexport default function ActualizarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\tconst blogContext = useContext(BlogContext);\r\n\tconst [ form ] = Form.useForm();\r\n\tvar urlGuion = '';\r\n\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\t///capturar datos maualmente}\r\n\tconst [ datos, setDatos ] = useState({\r\n\t\tnombre: blogContext.nombre,\r\n\t\tadministrador: blogContext.administrador,\r\n\t\turl: blogContext.url,\r\n\t\tdescripcion: blogContext.descripcion\r\n\t});\r\n\r\n\tconst monstrarInformacionBlog = () => {\r\n\t\tform.setFieldsValue({\r\n\t\t\tnombre: blogContext.nombre,\r\n\t\t\tadministrador: blogContext.administrador,\r\n\t\t\turl: blogContext.url,\r\n\t\t\tdescripcion: blogContext.descripcion\r\n\t\t});\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tmonstrarInformacionBlog();\r\n\t\t},\r\n\t\t[ blogContext ]\r\n\t);\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t\t/* setUrl(urlSinGion); */\r\n\t}\r\n\r\n\tconst enviarDatos = async () => {\r\n\t\tif (datos.nombre === '' || datos.administrador === '' || datos.url === '' || datos.descripcion === '') {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'Todos los datos son obligatorios'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(datos.url);\r\n\t\t\t} else {\r\n\t\t\t\turlGuion = blogContext.url;\r\n\t\t\t}\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tif (files.length === 0) {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t} else {\r\n\t\t\t\tformData.append('nombre', datos.nombre);\r\n\t\t\t\tformData.append('administrador', datos.administrador);\r\n\t\t\t\tformData.append('url', urlGuion);\r\n\t\t\t\tformData.append('descripcion', datos.descripcion);\r\n\t\t\t\tformData.append('imagen', files);\r\n\t\t\t}\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.put(`/blog/${blogContext._id}`, formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Actualización exitosa',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst obtenerValores = (e) => {\r\n\t\tif (e.target.name === 'url') {\r\n\t\t\tsetAccion(false);\r\n\t\t}\r\n\t\tsetDatos({\r\n\t\t\t...datos,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetDatos({ ...datos, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} form={form} onFinish={enviarDatos}>\r\n\t\t\t\t<Form.Item label=\"Titulo del blog:\" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Autor: \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"administrador\">\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Url (Campo unico) \" onChange={obtenerValores}>\r\n\t\t\t\t\t<Form.Item noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Imagen Actual\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName=\"d-block img-fluid mt-2\"\r\n\t\t\t\t\t\twidth=\"200\"\r\n\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\tsrc={aws + blogContext.imagen}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Form, Input, Button, notification, Upload, message, Alert } from 'antd';\r\nimport { Editor } from '@tinymce/tinymce-react';\r\nimport { UploadOutlined, CheckOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nexport default function RegistrarBlog(props) {\r\n\tconst { setReloadBlog, token, setVisible } = props;\r\n\r\n\t//Variablo que trae la informacion del post\r\n\tconst [ blogData, setBlogData ] = useState({});\r\n\r\n\tconst [ upload, setUpload ] = useState(false);\r\n\t//Variables que guardan las imagenes\r\n\tconst [ files, setFiles ] = useState([]);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\tvar urlGuion = '';\r\n\r\n\t//Layout para formulario(columnas)\r\n\tconst layout = {\r\n\t\tlabelCol: { span: 6 },\r\n\t\twrapperCol: { span: 16 }\r\n\t};\r\n\r\n\tconst onError = (error) => {\r\n\t\terror.errorFields.map((err) => {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: `[${err.name}]`,\r\n\t\t\t\tdescription: err.errors,\r\n\t\t\t\tduration: 5\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tconst processPost = async (e) => {\r\n\t\tif (blogData.descripcion === undefined) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La descripcion del blog es obligatoria'\r\n\t\t\t});\r\n\t\t} else if (files.length === 0) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Ups, algo salio mal',\r\n\t\t\t\tdescription: 'La imagen es obligatoria'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!accion) {\r\n\t\t\t\tobtenerUrl(blogData.url);\r\n\t\t\t}\r\n\t\t\tconst hide = message.loading('Accion en proceso....', 0);\r\n\t\t\tsetTimeout(hide, 2000);\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('nombre', blogData.nombre);\r\n\t\t\tformData.append('administrador', blogData.administrador);\r\n\t\t\tformData.append('url', urlGuion);\r\n\t\t\tformData.append('descripcion', blogData.descripcion);\r\n\t\t\tformData.append('imagen', files);\r\n\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.post('/blog/', formData, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tnotification.success({\r\n\t\t\t\t\t\tmessage: 'Registro exitoso',\r\n\t\t\t\t\t\tdescription: res.data.message\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetReloadBlog(true);\r\n\t\t\t\t\tsetVisible(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetAccion(true);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t//Funcion que quita los espacios y los remplasa por guiones\r\n\tfunction obtenerUrl(text) {\r\n\t\tconst trim = text.trim();\r\n\t\tconst datos = trim.split(' ');\r\n\t\tfor (var i = 0; i < datos.length; i++) {\r\n\t\t\tif (datos.length - 1 === i) {\r\n\t\t\t\turlGuion += datos[i];\r\n\t\t\t} else {\r\n\t\t\t\turlGuion += datos[i] + '-';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn urlGuion;\r\n\t}\r\n\r\n\t//Funcion que captura la imagen seleccionada por el usuario\r\n\tconst propss = {\r\n\t\tlistType: 'picture',\r\n\t\tbeforeUpload: (file) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = (e) => {\r\n\t\t\t\tfile.thumbUrl = e.target.result;\r\n\t\t\t\tsetFiles(file);\r\n\t\t\t};\r\n\t\t\tsetUpload(true);\r\n\t\t\treturn false;\r\n\t\t},\r\n\t\tonRemove: (file) => {\r\n\t\t\tsetUpload(false);\r\n\t\t\tsetFiles([]);\r\n\t\t}\r\n\t};\r\n\r\n\t//Funcion que escucha la variable que trae la informacion del blog\r\n\r\n\tconst capturarInfoEditor = (content, editor) => {\r\n\t\tsetBlogData({ ...blogData, descripcion: content });\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"formulario-blog\">\r\n\t\t\t<Form name=\"nest-messages\" {...layout} onFinish={processPost} onFinishFailed={onError}>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Crea un título llamativo: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, nombre: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Titulo obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input value={blogData.nombre} name=\"nombre\" placeholder=\"Titulo del Blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Autor: \"\r\n\t\t\t\t\tonChange={(e) => setBlogData({ ...blogData, administrador: e.target.value })}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Autor obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"administrador\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"administrador\" placeholder=\"Nombre del Autor\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tlabel=\"Url (Campo unico) \"\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tsetAccion(false);\r\n\t\t\t\t\t\tsetBlogData({ ...blogData, url: e.target.value });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'La url es obligatoria' } ]} noStyle name=\"url\">\r\n\t\t\t\t\t\t<Input name=\"url\" placeholder=\"Url del blog\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item name=\"descripcion\" label=\"Contenido del blog\">\r\n\t\t\t\t\t<Editor\r\n\t\t\t\t\t\tvalue={blogData.descripcion ? blogData.descripcion : ''}\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\tinit={{\r\n\t\t\t\t\t\t\theight: 450,\r\n\t\t\t\t\t\t\tmenubar: true,\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t'advlist autolink lists link image charmap print preview anchor',\r\n\t\t\t\t\t\t\t\t'searchreplace visualblocks code fullscreen',\r\n\t\t\t\t\t\t\t\t'insertdatetime media table paste code help wordcount'\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\ttoolbar:\r\n\t\t\t\t\t\t\t\t'undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonEditorChange={capturarInfoEditor}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<div className=\"d-flex justify-content-center m-2\">\r\n\t\t\t\t\t<Alert message=\"No hay un tamaño recomendado para esta imagen\" type=\"info\" showIcon />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Form.Item label=\"Imagen principal del Blog:\">\r\n\t\t\t\t\t<Upload {...propss} name=\"imagen\">\r\n\t\t\t\t\t\t<Button disabled={upload}>\r\n\t\t\t\t\t\t\t<UploadOutlined /> Subir\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Upload>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center text-center\">\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" icon={<CheckOutlined />}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, {useState,useEffect } from 'react';\r\nimport {Button,notification,Drawer} from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\nimport {PlusCircleOutlined } from '@ant-design/icons';\r\nimport './blog.scss';\r\nimport queryString from 'query-string';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Spin from '../../../components/Spin';\r\nimport BlogsList from './services/blogList';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport { BlogContext } from '../contexts/BlogContext';\r\nimport ActualizarBlog from './services/ActualizarBlog';\r\nimport RegistrarBlog from './services/RegistrarBlog';\r\n\r\n\r\n\r\n\r\nfunction BlogAdmin(props) {\r\n\r\n    //Tomar la paginacion actual\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    //Uses\r\n    const [ accion, setAccion ] = useState(false);\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [visible, setVisible] = useState(false);\r\n    const [blogs,setBlogs] = useState([]);\r\n    const [reloadBlog, setReloadBlog] = useState(false);\r\n\r\n    const [infoBlog,setInfoBlog] = useState({});\r\n    \r\n\r\n    //Obtener token de localStorage\r\n    const token = localStorage.getItem('token')\r\n    var decoded = Jwt(token) \r\n    \r\n    //Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n            return jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n    }\r\n\r\n    //Traer todos los blogs\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            setLoading(false)\r\n            if(err.response){\r\n                notification.error({\r\n                    message: 'Error',\r\n                    description: err.response.data.message,\r\n                    duration: 2\r\n                });\r\n            }else{\r\n                notification.error({\r\n                    message: 'Error de conexion',\r\n                    description: 'Al parecer no se a podido conectar al servidor.',\r\n                    duration: 2\r\n                });\r\n            }\r\n        });\r\n    }\r\n    //Ejecutar funcion traer blogs\r\n    useEffect(() => {\r\n        getBlogsApi(20,page);\r\n        setReloadBlog(false);\r\n\t}, [page,reloadBlog]);\r\n\r\n    //Verificar el JWT\r\n    if(token === '' || token === null){\r\n        props.history.push('/entrar')\r\n    }else if(decoded['rol'] !== true){\r\n        props.history.push('/')\r\n    }\r\n    \r\n    //Fuciones para abrir y cerrar el Drawer\r\n    const showDrawer = () => {\r\n      setVisible(true);\r\n    };\r\n    const drawnerClose = () => {\r\n        setVisible(false);\r\n        setInfoBlog({});\r\n      };\r\n\r\n    //Mostrar el Spin\r\n    if (loading) {\r\n        return <Spin/>;\r\n    }\r\n    \r\n    if(!blogs){\r\n        return null;\r\n    }\r\n\r\n    return (\r\n            <div className=\"blog\">\r\n                <Drawer\r\n                    title={accion === true ? 'Actualizar Blog' : 'Registra nuevo Blog'}\r\n                    width={window.screen.width > 768 ? 1000 : window.screen.width}\r\n                    placement={'right'}\r\n                    onClose={drawnerClose}\r\n                    visible={visible}\r\n                    bodyStyle={{ paddingBottom: 80 }}\r\n                    footer={\r\n                        <div\r\n                            style={{\r\n                                textAlign: 'right'\r\n                            }}\r\n                        >\r\n                            <Button onClick={drawnerClose} type=\"primary\">\r\n                                Cerrar\r\n                            </Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    { accion === true ? (\r\n                        <BlogContext.Provider value={infoBlog}>\r\n                            <ActualizarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible}  />\r\n                        </BlogContext.Provider>\r\n                        \r\n                    ):(\r\n\r\n                            <RegistrarBlog setReloadBlog={setReloadBlog} setLoading={setLoading} token={token} setVisible={setVisible} />\r\n\r\n                    )}\r\n                </Drawer>\r\n                \r\n                <div className=\"blog__add-post\">\r\n                <p className=\"text-center font-weight-bold\" style={{ fontSize: 20 }}>\r\n                    Tus blogs\r\n                </p>\r\n                    <Button \r\n                        type=\"primary\"\r\n                        size=\"large\"\r\n                        onClick={() => {\r\n                            setAccion(false);\r\n                            showDrawer()\r\n                            setInfoBlog({});\r\n                        }}\r\n                        className=\"ml-3\"\r\n                        icon={<PlusCircleOutlined style={{ fontSize: 24 }} />}>\r\n                            Crear Blog\r\n                    </Button>\r\n                </div>\r\n\r\n                <BlogsList \r\n                    blogs={blogs} \r\n                    setReloadBlog={setReloadBlog} \r\n                    showDrawer={showDrawer} \r\n                    setAccion={setAccion} \r\n                    setInfoBlog={setInfoBlog} \r\n                />\r\n\r\n                <Pagination \r\n                    blogs={blogs} \r\n                    location={location}  \r\n                    history={history}\r\n                    limite={20}\r\n                />\r\n            </div>\r\n    )\r\n}\r\nexport default withRouter(BlogAdmin);","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Table, Input, notification, Avatar, Spin, Row, Button } from 'antd';\r\nimport { RollbackOutlined, UserOutlined } from '@ant-design/icons';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport './clientes.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction Clientes(props) {\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\t//Tomar la paginacion actual\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ clientes, setClientes ] = useState([]);\r\n\tconst [ clientesPaginados, setClientesPaginados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState('d-none');\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== true) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerClientes(20, page);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\ttitle: 'Foto de perfil',\r\n\t\t\tdataIndex: 'imagen',\r\n\t\t\tkey: 'imagen',\r\n\t\t\trender: (imagen) => {\r\n\t\t\t\treturn !imagen ? (\r\n\t\t\t\t\t<Avatar icon={<UserOutlined />} />\r\n\t\t\t\t) : imagen.includes('https') ? (\r\n\t\t\t\t\t<Avatar src={imagen} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar src={aws + imagen} />\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Nombre',\r\n\t\t\tdataIndex: 'nombre',\r\n\t\t\tkey: 'nombre',\r\n\t\t\trender: (nombre) => <p className=\"h5\">{nombre}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Apellido',\r\n\t\t\tdataIndex: 'apellido',\r\n\t\t\tkey: 'apellido',\r\n\t\t\trender: (apellido) => (!apellido ? <p className=\"h5\">-</p> : <p className=\"h5\">{apellido}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Telefono',\r\n\t\t\tdataIndex: 'telefono',\r\n\t\t\tkey: 'telefono',\r\n\t\t\trender: (telefono) => (!telefono ? <p className=\"h5\">-</p> : <p className=\"h5\">{telefono}</p>)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Email',\r\n\t\t\tdataIndex: 'email',\r\n\t\t\tkey: 'email',\r\n\t\t\trender: (email) => <p className=\"h5\">{email}</p>\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Dirección',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (direccion) => {\r\n\t\t\t\treturn direccion.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.calle_numero}, {res.colonia}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Ciudad',\r\n\t\t\tdataIndex: 'direccion',\r\n\t\t\tkey: 'direccion',\r\n\t\t\trender: (ciudad) => {\r\n\t\t\t\treturn ciudad.map((res) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={res._id}>\r\n\t\t\t\t\t\t\t<p className=\"h5\">\r\n\t\t\t\t\t\t\t\t{res.ciudad}, {res.estado}, {res.pais}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t];\r\n\r\n\tasync function obtenerClientes(limit, page) {\r\n\t\tsetVisible('d-none');\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente?limit=${limit}&page=${page}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetClientes(res.data.posts.docs);\r\n\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst obtenerClientesFiltrados = async (busqueda) => {\r\n\t\tif (!busqueda) {\r\n\t\t\tsetVisible('d-none');\r\n\t\t\tobtenerClientes(10, page);\r\n\t\t} else {\r\n\t\t\tsetVisible('ml-3 d-flex justify-content-center align-items-center');\r\n\t\t\tsetLoading(true);\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get(`/cliente/filtrados?nombre=${busqueda}&apellido=${busqueda}&direccion=${busqueda}`, {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetClientesPaginados(res.data.posts);\r\n\t\t\t\t\tsetClientes(res.data.posts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (err.response) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<Row justify=\"center\">\r\n\t\t\t\t<Search\r\n\t\t\t\t\tplaceholder=\"Buscar un cliente\"\r\n\t\t\t\t\tonSearch={(value) => obtenerClientesFiltrados(value)}\r\n\t\t\t\t\tstyle={{ height: 40, marginBottom: 10 }}\r\n\t\t\t\t\tenterButton=\"Buscar\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName=\"search-width\"\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tclassName={visible}\r\n\t\t\t\t\tonClick={() => obtenerClientes(10, page)}\r\n\t\t\t\t\ticon={<RollbackOutlined style={{ fontSize: 24 }} />}\r\n\t\t\t\t>\r\n\t\t\t\t\tVolver\r\n\t\t\t\t</Button>\r\n\t\t\t</Row>\r\n\t\t\t<Table\r\n\t\t\t\tclassName=\"tabla-inventario mt-5\"\r\n\t\t\t\tcolumns={columns}\r\n\t\t\t\tdataSource={clientes}\r\n\t\t\t\tpagination={false}\r\n\t\t\t\trowKey={(clientes) => clientes._id}\r\n\t\t\t\tscroll={{ x: 1200 }}\r\n\t\t\t/>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<Pagination blogs={clientesPaginados} location={location} history={history} limite={20} />\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Clientes;\r\n","import React, { useState, useEffect } from 'react';\r\n//import Carousel from 'react-bootstrap/Carousel';\r\nimport './ofertas.scss';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nimport BannerAnim, { Element } from 'rc-banner-anim';\r\nimport 'rc-banner-anim/assets/index.css';\r\n\r\nconst BgElement = Element.BgElement;\r\n\r\nfunction CarouselOfertas(props) {\r\n\tconst [ index, setIndex ] = useState(0);\r\n\tconst [ carousels, setCarousels ] = useState([]);\r\n\tconst [ esPromocion, setEsPromocion ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst obtenerCarousel = async () => {\r\n\t\t\tawait clienteAxios\r\n\t\t\t\t.get('/carousel/limite')\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetCarousels(res.data);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((res) => {});\r\n\t\t};\r\n\t\t\r\n\t\tobtenerCarousel();\r\n\t}, []);\r\n\r\n\tconst handleSelect = (selectedIndex, e) => {\r\n\t\tsetIndex(selectedIndex);\r\n\t};\r\n\r\n\tconst render = carousels.map((carousel) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Element prefixCls=\"banner-user-elem\" key={carousel._id}>\r\n\t\t\t\t\t<BgElement\r\n\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\tprops.history.push(\r\n\t\t\t\t\t\t\tesPromocion\r\n\t\t\t\t\t\t\t? `/vista_producto/${carousel.productoPromocion._id}`\r\n\t\t\t\t\t\t\t: carousel.producto ? `/vista_producto/${carousel.producto}` : '/'\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey=\"bg\"\r\n\t\t\t\t\t\tclassName=\"bg banner-elemento\"\r\n\t\t\t\t\t\talt=\"img-oferta\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tbackgroundImage: `url(${aws + carousel.imagen})`,\r\n\t\t\t\t\t\t\tcursor: 'pointer' \r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t</BgElement>\r\n\t\t\t\t</Element>\r\n\t\t\t\t\r\n\t\t\t);\r\n\t});\r\n\r\n\tif (carousels.length === 0) {\r\n\t\treturn null\r\n\t}\r\n\treturn (\r\n\t\t<BannerAnim   autoPlay activeIndex={index} onSelect={handleSelect} prefixCls=\"banner-user\" delay={200}>\r\n\t\t\t\t{render}\r\n\t\t</BannerAnim>\r\n\t);\r\n}\r\n\r\nexport default withRouter(CarouselOfertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, notification, Result } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './productos.scss';\r\nimport DOMPurify from 'dompurify';\r\nimport aws from '../../../config/aws';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction ConsultaProductos(props) {\r\n\tconst { location, history } = props.propiedades;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (window.screen.width < 768) {\r\n\t\t\t\tobtenerProductos(12, page);\r\n\t\t\t} else {\r\n\t\t\t\tobtenerProductos(40, page);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7', minHeight: 100 }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t{productos.todos.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t{/* <div className=\"principal-productos\"><p>NUESTROS PRODUCTOS</p></div> */}\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw' }} className=\"row mt-4\">\r\n\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination\r\n\t\t\t\tblogs={productosPaginacion}\r\n\t\t\t\tlocation={location}\r\n\t\t\t\thistory={history}\r\n\t\t\t\tlimite={window.screen.width < 768 ? 12 : 40}\r\n\t\t\t/>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ConsultaProductos;\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, Result, Col, Row } from 'antd';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './ofertas.scss';\r\nimport DOMPurify from 'dompurify';\r\nimport aws from '../../../config/aws';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction OfertasHome(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProductos();\r\n\t}, []);\r\n\r\n\tasync function obtenerProductos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${12}&page=${1}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgrounddivor: '#F7F7F7' }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t<div class=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.productoPromocion.descripcion) }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\tif(productos.length === 0){\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 font-weight-bold\">¡Encuentra ofertas todos los días!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center pb-5\">\r\n\t\t\t\t<Link to=\"/ofertas\" style={{ fontSize: 26 }}>\r\n\t\t\t\t\tVer Todas las ofertas\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(OfertasHome);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport Geolocalizacion from '../geolocalizacion';\r\nimport './informacion.scss';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function Datos_tienda() {\r\n\tconst [ tienda, setTienda ] = useState({});\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ infor, setInfo ] = useState('');\r\n\r\n\tfunction peticionTienda() {\r\n\t\tclienteAxios\r\n\t\t\t.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTienda(res.data[0]);\r\n\t\t\t\tsetInfo(res.data[0].nombre);\r\n\t\t\t\tsetDireccion(res.data[0].direccion[0]);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tpeticionTienda();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{infor !== '' ? (\r\n\t\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t\t\t<h4 className=\"mb-0 text-center font-weight-bold\">¡Encuentra nuestra tienda!</h4>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t\t\t<div className=\"col-lg-10\">\r\n\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\theight=\"38vh\"\r\n\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\tcenter={[ tienda.ubicacion[0].lat, tienda.ubicacion[0].lng ]}\r\n\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\tzoom={15}\r\n\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\tnombreMarcador={tienda.nombre}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"col-lg-2 text-center caligra\">\r\n\t\t\t\t\t\t\t<div className=\"m-3\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"logotipo\"\r\n\t\t\t\t\t\t\t\t\talt=\"imagen de base\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\"> {tienda.nombre} </p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tTel: <span className=\"subs h6\">{tienda.telefono}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tDireccion: <span className=\"h6\">{direccion.calle_numero}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCol.{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.estado}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\tCP: <span>{direccion.cp}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { notification, Form, Input, Button } from 'antd';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 12 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Registro(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tprops.history.push('/');\r\n\t\t\t\tnotification['success']({\r\n\t\t\t\t\tmessage: 'Bienvenido!',\r\n\t\t\t\t\tdescription: 'Te has registrado correctamente',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Nombre\" >\r\n\t\t\t\t\t<Form.Item name=\"nombre\" rules={[ { required: true, message: 'El nombre es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Apellido\" >\r\n\t\t\t\t\t<Form.Item name=\"apellido\" noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item label=\"Confirmar contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"repeatContrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tRegistrarse\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Registro);\r\n","import React from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { notification, Form, Input, Button } from 'antd';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 6 },\r\n\twrapperCol: { span: 14 }\r\n};\r\nconst tailLayout = {\r\n\twrapperCol: { offset: 7, span: 10 }\r\n};\r\n\r\nfunction Login(props) {\r\n\tconst onFinish = async (values) => {\r\n\t\tawait clienteAxios\r\n\t\t\t.post('/cliente/auth', values)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconst token = res.data.token;\r\n\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\tprops.history.push('/admin');\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tif (err.response.status === 404 || err.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"col-12\">\r\n\t\t\t<Form {...layout} name=\"basic\" initialValues={{ remember: true }} onFinish={onFinish}>\r\n\t\t\t\t<Form.Item label=\"Correo\" >\r\n\t\t\t\t\t<Form.Item name=\"email\" rules={[ { required: true, message: 'El email es obligatorio!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item label=\"Contraseña\" >\r\n\t\t\t\t\t<Form.Item name=\"contrasena\" rules={[ { required: true, message: 'La contraseña es obligatoria!' } ]} noStyle >\r\n\t\t\t\t\t\t<Input.Password />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item {...tailLayout}>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\tContinuar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default withRouter(Login);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { notification } from 'antd';\r\nimport firebaseConfig from '../../config/firebase';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport clienteAxios from '../../config/axios';\r\nimport * as firebase from 'firebase/app';\r\n/* import * as firebaseui from 'firebaseui'; */\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n/* var ui = new firebaseui.auth.AuthUI(firebase.auth());\r\nui.disableAutoSignIn(); */\r\n\r\nfunction Firebase() {\r\n\tconst [ user, setUser ] = useState(false);\r\n\r\n\tconst uiConfig = {\r\n\t\tsignInFlow: 'popup',\r\n\t\tsignInOptions: [ firebase.auth.GoogleAuthProvider.PROVIDER_ID ],\r\n\t\tcallbacks: {\r\n\t\t  // Avoid redirects after sign-in.\r\n\t\t  signInSuccessWithAuthResult: () => false\r\n\t\t}\r\n\t};\r\n \r\n\tuseEffect(() => {\r\n\t\tlet valores = {\r\n\t\t\tnombre: '',\r\n\t\t\tapellido: '',\r\n\t\t\temail: '',\r\n\t\t\tcontrasena: '',\r\n\t\t\timagen: ''\r\n\t\t};\r\n\t\tfunction onAuthStateChange() {\r\n\t\t\treturn firebase.auth().onAuthStateChanged(async (user) => {\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst displayname = user.displayName.split(' ');\r\n\t\t\t\t\tvalores = {\r\n\t\t\t\t\t\tnombre: displayname[0],\r\n\t\t\t\t\t\tapellido: displayname[1],\r\n\t\t\t\t\t\temail: user.email,\r\n\t\t\t\t\t\tuid: user.uid,\r\n\t\t\t\t\t\timagen: user.photoURL\r\n\t\t\t\t\t};\r\n\t\r\n\t\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t\t.post('/cliente/auth/firebase/', valores)\r\n\t\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\t\t//Usuario creado correctamente\r\n\t\t\t\t\t\t\tsetUser(!!user);\r\n\t\t\t\t\t\t\tconst token = res.data.token;\r\n\t\t\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\t\t\twindow.location.href = '/'\r\n\t\t\t\t\t\t\tnotification['success']({\r\n\t\t\t\t\t\t\t\tmessage: 'Listo!',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetUser(false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tonAuthStateChange();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t{user ? (\r\n\t\t\t\t<span>\r\n\t\t\t\t\t<div>Signed In!</div>\r\n\t\t\t\t</span>\r\n\t\t\t) : (\r\n\t\t\t\t<StyledFirebaseAuth uiCallback={ui => ui.disableAutoSignIn()} uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Firebase;\r\n","\r\nexport default {\r\n    apiKey: \"AIzaSyB9CkmbvgI4ZAPz24PL-q6yhsH86FD6qqw\",\r\n    authDomain: \"tienda-zepeda-licores.firebaseapp.com\",\r\n    databaseURL: \"https://tienda-zepeda-licores.firebaseio.com\",\r\n    projectId: \"tienda-zepeda-licores\",\r\n    storageBucket: \"tienda-zepeda-licores.appspot.com\",\r\n    messagingSenderId: \"888150352969\",\r\n    appId: \"1:888150352969:web:6777ef75612d26d1390b98\",\r\n    measurementId: \"G-2S5FEF8X6B\"\r\n  };","import React, { useEffect } from 'react'\r\nimport Registro from '../Registro/registro'\r\nimport Login from '../Login/login'\r\nimport Firebase from '../../../components/Firebase/firebase'\r\nimport { Tabs, Divider } from 'antd'\r\nimport './entrar.scss'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst { TabPane } = Tabs;\r\n\r\nfunction Entrar(props) {\r\n    const token = localStorage.getItem('token')\r\n\r\n    useEffect( () => {\r\n        if(token){\r\n            props.history.push('/')\r\n        }\r\n    })\r\n\r\n    return(\r\n        <div>\r\n            <p className=\"text-center mb-4 mt-4\">\r\n                Si aun no tienes cuenta regístrate dando click en <strong>Crear cuenta</strong>\r\n            </p>\r\n            <div className=\"tabs\">\r\n                <Tabs className=\"shadow col-12 col-lg-4 bg-white rounded\" defaultActiveKey=\"1\">\r\n                    <TabPane tab=\"Iniciar Sesión\" key=\"1\">\r\n                        <div className=\"mt-3\">\r\n                            <Login />\r\n                        </div>\r\n                        <Divider />\r\n                        <div>\r\n                            <p >Accede con tu cuenta de Google o Facebook.</p>\r\n                            <Firebase />\r\n                        </div>\r\n                    </TabPane>\r\n                    <TabPane tab=\"Crear cuenta\" key=\"2\">\r\n                        <div className=\"mt-3\">\r\n                            <Registro />\r\n                        </div>\r\n                    </TabPane>\r\n                </Tabs>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Entrar)","import React, { createContext, useState } from \"react\"\r\n\r\nexport const CarritoContext = createContext()\r\n\r\nexport const CarritoProvider = ({ children }) => {\r\n    const [ activador, setActivador ] = useState(true);\r\n    const [ validacion, setValidacion ] = useState(false);\r\n  return (\r\n    <CarritoContext.Provider value={{activador, setActivador, validacion, setValidacion}}>\r\n      {children}\r\n    </CarritoContext.Provider>\r\n  );\r\n};","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedidoCarrito(idcliente, token) {\r\n\t/* idcliente, idproducto, categoria, cantidad, talla, precio, total, token */\r\n\tconst res = await clienteAxios\r\n        .get(`/carrito/${idcliente}`, {\r\n            headers: {\r\n                Authorization: `bearer ${token}`\r\n            }\r\n\t\t})\r\n\t\r\n\tconst nuevo = res.data.articulos.map((res) => {\r\n\t\tif(res.idarticulo.activo === false){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n\t});\r\n\r\n\tvar carrito = nuevo.filter((arr) => arr.length !== 0);\r\n\r\n\tvar pedido = [];\r\n\r\n\tcarrito.forEach((carrito) => {\r\n\t\tconst medida = carrito.medida.map((res) => {\r\n\t\t\tif (res.talla) {\r\n\t\t\t\treturn res.talla;\r\n\t\t\t} else if (res.numero) {\r\n\t\t\t\treturn res.numero;\r\n            }\r\n            return null;\r\n        });\r\n\t\tvar precio;\r\n\t\t\r\n        if(!carrito.promocion){\r\n            precio = carrito.idarticulo.precio\r\n        }else{\r\n            precio = carrito.promocion.precioPromocion\r\n        }\r\n\r\n\t\tswitch (carrito.idarticulo.tipoCategoria) {\r\n\t\t\tcase 'ropa':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'calzado':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'otros':\r\n\t\t\t\tpedido.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tproducto: carrito.idarticulo._id,\r\n\t\t\t\t\t\tcantidad: carrito.cantidad,\r\n\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n        }\r\n\t});\r\n\r\n\tvar subtotal = 0;\r\n\tvar total = 0;\r\n\r\n\tcarrito.forEach((res) => {\r\n\t\tif(res.promocion){\r\n\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad\r\n\t\t}else{\r\n\t\t\tsubtotal += res.idarticulo.precio * res.cantidad\r\n\t\t}\r\n\t\ttotal = subtotal;\r\n\t});\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso',\r\n\t\t\t\tcarrito: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { message } from 'antd';\r\n\r\nexport async function actualizarCantidad(cliente, articulo, categoria, cantidad, medida, token) {\r\n    var datos = {};\r\n\tswitch (categoria) {\r\n\t\tcase 'otros':\r\n            datos = {\r\n                cantidad: cantidad\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'ropa':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                talla: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n            datos = {\r\n                cantidad: cantidad,\r\n                numero: medida\r\n            }\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n    }\r\n\tawait clienteAxios\r\n\t\t.put(`/carrito/${cliente}/articulo/${articulo}`, datos, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n            message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n        });\r\n        return true;\r\n}\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification, message } from 'antd';\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, categoria, cantidad, talla, precio, total, token) {\r\n\tvar pedido = [];\r\n\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null;\r\n\t});\r\n\r\n\tswitch (categoria) {\r\n\t\tcase 'ropa':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\ttalla: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tnumero: medida[0],\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tcase 'otros':\r\n\t\t\tpedido = [\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tprecio: precio\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tconsole.log(res.response);\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, talla, tipoEntrega, token, categoria) {\r\n\tvar apartado = [];\r\n\tconst medida = talla.map((res) => {\r\n\t\tif (res.talla) {\r\n\t\t\treturn res.talla;\r\n\t\t} else if (res.numero) {\r\n\t\t\treturn res.numero;\r\n\t\t}\r\n\t\treturn null\r\n\t});\r\n\tswitch (categoria) {\r\n\t\tcase 'ropa':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tmedida: [ { talla: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'calzado':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\tmedida: [ { numero: medida[0] } ],\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tcase 'otros':\r\n\t\t\tapartado = {\r\n\t\t\t\tproducto: idproducto,\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tcantidad: cantidad,\r\n\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(`/apartado/nuevo/${idcliente}`, apartado, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nexport async function EliminarArticuloCarrito(idcliente, articulo, token) {\r\n\tawait clienteAxios\r\n\t\t.delete(`/carrito/${idcliente}/articulo/${articulo}`, {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then((res) => {\r\n\t\t\treturn message.success(res.data.message);\r\n\t\t})\r\n\t\t.catch((res) => {\r\n\t\t\tif (res.response.status === 404 || res.response.status === 500) {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: res.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn notification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: 'Hubo un error',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Form, Divider, notification, Spin, Input, Row, Col } from 'antd';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nconst layout = {\r\n\tlabelCol: { span: 8 },\r\n\twrapperCol: { span: 16 }\r\n};\r\n\r\nexport default function DatosCliente(props) {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ form ] = Form.useForm();\r\n\tconst { token, clienteID } = props;\r\n\tconst [ handleOk ] = props.enviarDatos;\r\n\r\n\tconst [ controlBoton, setControlBoton ] = useState(true);\r\n\tconst [ estadoBoton, setEstadoBoton ] = useState('Completa tus datos');\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${clienteID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (res.data.direccion.length !== 0) {\r\n\t\t\t\t\tconsole.log('entra aqui 1')\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: res.data.direccion[0].calle_numero,\r\n\t\t\t\t\t\tentre_calles: res.data.direccion[0].entre_calles,\r\n\t\t\t\t\t\tcp: res.data.direccion[0].cp,\r\n\t\t\t\t\t\tcolonia: res.data.direccion[0].colonia,\r\n\t\t\t\t\t\tciudad: res.data.direccion[0].ciudad,\r\n\t\t\t\t\t\testado: res.data.direccion[0].estado,\r\n\t\t\t\t\t\tpais: res.data.direccion[0].pais\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log('entra aqui 2')\r\n\t\t\t\t\tform.setFieldsValue({\r\n\t\t\t\t\t\tnombre: res.data.nombre,\r\n\t\t\t\t\t\tapellido: res.data.apellido,\r\n\t\t\t\t\t\temail: res.data.email,\r\n\t\t\t\t\t\ttelefono: res.data.telefono,\r\n\t\t\t\t\t\tcalle_numero: '',\r\n\t\t\t\t\t\tentre_calles: '',\r\n\t\t\t\t\t\tcp: '',\r\n\t\t\t\t\t\tcolonia: '',\r\n\t\t\t\t\t\tciudad: '',\r\n\t\t\t\t\t\testado: '',\r\n\t\t\t\t\t\tpais: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (res.data.telefono.length === 0 || res.data.direccion.length === 0) {\r\n\t\t\t\t\tsetEstadoBoton('Completa tus datos');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst control = () => {\r\n\t\tswitch (estadoBoton) {\r\n\t\t\tcase 'Completa tus datos':\r\n\t\t\t\tsetControlBoton(false);\r\n\t\t\t\tsetEstadoBoton('Guardar');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Apartar':\r\n\t\t\t\thandleOk();\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\tasync function editarDatos(valores) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${clienteID}`, valores, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetControlBoton(true);\r\n\t\t\t\tsetEstadoBoton('Apartar');\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif (err.response) {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerDatosUser();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<Form {...layout} form={form} onFinish={editarDatos}>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Nombre\" name=\"nombre\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"nombre\" placeholder=\"Nombre\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Apellido\" name=\"apellido\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"apellido\" placeholder=\"Apellidos\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Email\" name=\"email\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"email\" placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Teléfono\" name=\"telefono\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"telefono\" placeholder=\"telefono\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Row>\r\n\t\t\t\t\t<Divider>Datos de envío</Divider>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Calle y número\" name=\"calle_numero\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\tdisabled={controlBoton}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Entre calles\" name=\"entre_calles\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" placeholder=\"Calles de referencia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Código postal\" name=\"cp\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"cp\" placeholder=\"Codigo Postal\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Colonia\" name=\"colonia\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"colonia\" placeholder=\"Colonia\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col>\r\n\t\t\t\t\t\t<Form.Item label=\"Ciudad\" name=\"ciudad\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"ciudad\" placeholder=\"Localidad\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"Estado\" name=\"estado\">\r\n\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Input name=\"estado\" placeholder=\"Estado\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item label=\"País\" name=\"pais\">\r\n\t\t\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t\t\t<Input name=\"pais\" placeholder=\"País\" disabled={controlBoton} />\r\n\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t<Form.Item className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t<Form.Item className=\"text-center\">\r\n\t\t\t\t\t\t{estadoBoton !== 'Guardar' ? (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"holo\"\r\n\t\t\t\t\t\t\t\thtmlType=\"button\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t\tonClick={control}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tstyle={{ width: 170 }}\r\n\t\t\t\t\t\t\t\tclassName=\"holi\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{estadoBoton}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { notification, Modal, Select, Divider, Alert } from 'antd';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { AgregarApartado } from './services/consultas_individuales';\r\nimport DatosCliente from '../Vista_Producto/subs/datos_cliente';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\n\r\nexport default function ModalApartado(props) {\r\n\tconst [ visible, setVisible ] = props.visible;\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\r\n\tconst handleOk = (e) => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n            AgregarApartado(cliente._id, carrito.idarticulo._id, carrito.cantidad, carrito.medida, tipoEnvio, token, carrito.idarticulo.tipoCategoria);\r\n\t\t\tsetVisible(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Modal\r\n\t\t\ttitle=\"Nuevo Apartado\"\r\n\t\t\tvisible={visible}\r\n\t\t\t/* onOk={handleOk} */\r\n\t\t\tonCancel={handleCancel}\r\n\t\t\t/* cancelText=\"Cancelar\"\r\n\t\t\tokText=\"Apartar\" */\r\n\t\t\twidth={700}\r\n\t\t>\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6 className=\"d-inline\">Porducto: </h6>\r\n\t\t\t\t\t\t<p className=\"d-inline\">{carrito.idarticulo.nombre}</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{carrito.medida.length !== 0 ? (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Talla: </h6>\r\n\t\t\t\t\t\t\t{carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\tif (res.talla) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<p key={res._id} className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t} else if (res.numero) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<p key={res._id} className=\"d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div />\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6 className=\"d-inline\">Cantidad: </h6>\r\n\t\t\t\t\t\t<p className=\"d-inline\">{carrito.cantidad}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline\">Precio: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(carrito.promocion.precioPromocion)}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t<h6>Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona uno\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envio por paqueteria</Option>\r\n\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tdescription=\"Para apartar un producto necesitas tener completos tus datos\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws+carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t<DatosCliente token={token} clienteID={cliente._id} tipoEnvio={tipoEnvio} enviarDatos={[ handleOk ]} />\r\n\t\t</Modal>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, InputNumber, Button, Select, Form, Tag, Modal } from 'antd';\r\nimport { ShoppingCartOutlined, ExportOutlined, DeleteOutlined, ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { MenuContext } from '../../../context/carritoContext';\r\nimport { actualizarCantidad } from './services/consultasCarrito';\r\nimport { obtenerSubtotal } from './services/obtenerStock';\r\nimport { AgregarPedido, EliminarArticuloCarrito } from './services/consultas_individuales';\r\nimport ModalApartado from './modal_apartado';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Option } = Select;\r\nconst styles = { fontSize: 20 };\r\nconst { confirm } = Modal;\r\n\r\nfunction ListaCarrito(props) {\r\n\tconst [ form ] = Form.useForm();\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidad, setCantidad ] = useState();\r\n\tconst [ disponible, setDisponible ] = useState('');\r\n\tconst { carrito, cliente, token } = props;\r\n\tconst [ medidaDisponible, setMedidaDisponible ] = useState('');\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst { activador, setActivador, setValidacion } = useContext(CarritoContext);\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ precio, setPrecio ] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDisponible('')\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tif (carrito.idarticulo.tallas.length !== 0) {\r\n\t\t\tcarrito.idarticulo.tallas.forEach((tallas) => {\r\n\t\t\t\tif (carrito.medida) {\r\n\t\t\t\t\tcarrito.medida.forEach((medida) => {\r\n\t\t\t\t\t\tif (medida.talla === tallas.talla) {\r\n\t\t\t\t\t\t\tsetMedida([ medida.talla, tallas.cantidad ]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(tallas.cantidad === 0){\r\n\t\t\t\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t\t\t\tsetValidateStatus('validating');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else if (carrito.idarticulo.numeros.length !== 0) {\r\n\t\t\tcarrito.idarticulo.numeros.forEach((numeros) => {\r\n\t\t\t\tif (carrito.medida) {\r\n\t\t\t\t\tcarrito.medida.forEach((medida) => {\r\n\t\t\t\t\t\tif (medida.numero === numeros.numero) {\r\n\t\t\t\t\t\t\tsetMedida([ medida.numero, numeros.cantidad ]);\r\n\t\t\t\t\t\t\tif(numeros.cantidad === 0){\r\n\t\t\t\t\t\t\t\tsetValidateStatus('error');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\t\t\t\t\t\tsetValidacion(true);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tsetValidacion(false);\r\n\t\t\t\t\t\t\t\tsetValidateStatus('validating');\r\n\t\t\t\t\t\t\t\tsetMedidaDisponible('');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (carrito.idarticulo.activo === false) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t\tsetMedidaDisponible('No esta disponible');\r\n\t\t\tsetDisponible('disponibilidad-carrito');\r\n\t\t}\r\n\r\n\t\tif (carrito.promocion) {\r\n\t\t\tsetPrecio(carrito.promocion.precioPromocion);\r\n\t\t} else {\r\n\t\t\tsetPrecio(carrito.idarticulo.precio);\r\n\t\t}\r\n\t}, [ carrito, setValidacion ]);\r\n\r\n\tfunction medidaChange(medida) {\r\n\t\tsetCantidad(carrito.cantidad);\r\n\t\tsetMedida(medida);\r\n\t\tsetValidateStatus('validating');\r\n\t\tsetMedidaDisponible('');\r\n\t\tsetValidateStatus('warning');\r\n\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t}\r\n\tfunction cantidadChange(cantidad) {\r\n\t\tsetCantidad(cantidad);\r\n\t\tif (cantidad !== 0) {\r\n\t\t\tsetValidateStatus('warning');\r\n\t\t\tsetMedidaDisponible('Guarda los cambios');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction actualizar(articulo, categoria) {\r\n\t\tif (actualizarCantidad(cliente._id, articulo, categoria, cantidad, medida[0], token)) {\r\n\t\t\tsetActivador(!activador);\r\n\t\t\tsetValidacion(false);\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetMedidaDisponible('');\r\n\t\t}\r\n\t}\r\n\tfunction comprar() {\r\n\t\tAgregarPedido(\r\n\t\t\tcliente._id,\r\n\t\t\tcarrito.idarticulo._id,\r\n\t\t\tcarrito.idarticulo.tipoCategoria,\r\n\t\t\tcarrito.cantidad,\r\n\t\t\tcarrito.medida,\r\n\t\t\tprecio,\r\n\t\t\tcarrito.subtotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction eliminar() {\r\n\t\tconfirm({\r\n\t\t\ttitle: 'Eliminar articulo?',\r\n\t\t\ticon: <ExclamationCircleOutlined />,\r\n\t\t\tokText: 'Si',\r\n\t\t\tokType: 'danger',\r\n\t\t\tcancelText: 'No',\r\n\t\t\tonOk() {\r\n\t\t\t\tif (EliminarArticuloCarrito(cliente._id, carrito._id, token)) {\r\n\t\t\t\t\tsetActivador(!activador);\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction apartado() {\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<List.Item className=\"d-block p-4\" key={carrito._id}>\r\n\t\t\t<div className={`row ${disponible}`}>\r\n\t\t\t\t<div className=\"col-lg-3\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-vista-carrito\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\talt=\"articulo producto\"\r\n\t\t\t\t\t\t\tclassName=\"imagen-vista-carrito\"\r\n\t\t\t\t\t\t\tsrc={aws+carrito.idarticulo.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"col-lg-9\">\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-lg-8\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<Link to={`/vista_producto/${carrito.idarticulo._id}`}>\r\n\t\t\t\t\t\t\t\t\t<h3>{carrito.idarticulo.nombre}</h3>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{!carrito.promocion ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"precio-carrito\">${formatoMexico(carrito.idarticulo.precio)}</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-anterior-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.idarticulo.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-promocion-carrito mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(carrito.promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"porcentaje-promocion-carrito\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.promocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.precio\r\n\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"d-block d-lg-flex\">\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Categoria: {carrito.idarticulo.categoria}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Género: {carrito.idarticulo.genero}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag className=\"detalles-carrito\">Color: {carrito.idarticulo.color}</Tag>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: carrito.idarticulo.colorHex, height: 30, width: 30 }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{disponible.length ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulo-disponible\">Producto no disponible</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg-4\">\r\n\t\t\t\t\t\t\t<div className=\"justify-content-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t<Form form={form} initialValues={{ cantidad: carrito.cantidad }} className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\thelp={medidaDisponible}\r\n\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={carrito.idarticulo._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmax={carrito.idarticulo.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={cantidadChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito-talla col-6 col-lg-12\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ span: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={carrito.medida.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.talla ? res.talla : res.numero;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 90 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={medidaChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{carrito.idarticulo.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.tallas.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.talla}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : carrito.idarticulo.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcarrito.idarticulo.numeros.map((res) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn res.cantidad !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled value={res.numero}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option>-</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{/* <Form.Item className=\"inputs-carrito\" />\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Subtotal\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabelCol={{ offset: 1, span: 10 }}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputs-carrito\"\r\n\t\t\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tghost\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => actualizar(carrito._id, carrito.idarticulo.tipoCategoria)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tModificar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"precio-vista-carrito\">${formatoMexico(obtenerSubtotal(carrito.cantidad, precio))}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"float-right\" /> */}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t{disponible.length !== 0 ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"d-block d-lg-inline\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar producto\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\tonClick={() => comprar()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} />Comprar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button type=\"link\" className=\"\" onClick={() => eliminar()}>\r\n\t\t\t\t\t\t\t<DeleteOutlined style={styles} />Eliminar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"link\"\r\n\t\t\t\t\t\t\tclassName=\"\"\r\n\t\t\t\t\t\t\tonClick={() => apartado()}\r\n\t\t\t\t\t\t\tdisabled={medidaDisponible !== '' ? true : false}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ExportOutlined style={styles} />Apartar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<ModalApartado visible={[ visible, setVisible ]} carrito={carrito} cliente={cliente} token={token} />\r\n\t\t</List.Item>\r\n\t);\r\n}\r\nexport default ListaCarrito;\r\n","\r\nexport function obtenerStockCarrito(carrito){\r\n    var nuevo = carrito.articulos.map((res) => {\r\n        if(res.idarticulo.activo === false){\r\n            return [];\r\n        }else{\r\n            return res;\r\n        }\r\n    });\r\n    return nuevo\r\n}\r\n\r\nexport function obtenerSubtotal(cantidad, precio){\r\n    const subtotal = precio * cantidad\r\n   return subtotal;\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport './carrito.scss';\r\nimport { List, Spin, Button, message, Result } from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport { CarritoContext } from './context_carrito/context-carrito';\r\nimport { obtenerStockCarrito } from './services/obtenerStock';\r\nimport { AgregarPedidoCarrito } from './services/pedido_carrito';\r\nimport ListaCarrito from './lista_carrito';\r\n\r\nconst styles = { fontSize: 20 };\r\n\r\nfunction MostrarDatosProductos(props) {\r\n\tconst [ carrito, setCarrito ] = useState([]);\r\n\tconst [ cliente, setCliente ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ nuevoCarrito, setNuevoCarrito ] = useState([]);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst { activador, setActivador, validacion } = useContext(CarritoContext);\r\n\r\n\t//toma del token para el usuario\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerDatosCarrito() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/carrito/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCliente(res.data.cliente);\r\n\t\t\t\tsetCarrito(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (token === '' || token === null) {\r\n\t\t\t\tprops.history.push('/entrar');\r\n\t\t\t} else {\r\n\t\t\t\tobtenerDatosCarrito();\r\n\t\t\t\tsetActivador(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ activador ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (carrito.articulos) {\r\n\t\t\t\tvar nuevo = obtenerStockCarrito(carrito);\r\n\t\t\t\tconst result = nuevo.filter((arr) => arr.length !== 0);\r\n\t\t\t\tsetNuevoCarrito(result);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ carrito ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tvar subtotal = 0;\r\n\t\t\tvar total = 0;\r\n\r\n\t\t\tnuevoCarrito.forEach((res) => {\r\n\t\t\t\tif (res.promocion) {\r\n\t\t\t\t\tsubtotal += res.promocion.precioPromocion * res.cantidad;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsubtotal += res.idarticulo.precio * res.cantidad;\r\n\t\t\t\t}\r\n\t\t\t\ttotal = subtotal;\r\n\t\t\t\tsetTotal(total);\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ nuevoCarrito ]\r\n\t);\r\n\r\n\tfunction crearPedido() {\r\n\t\tif (validacion) {\r\n\t\t\tmessage.error('Aun no se ha modificado la cantidad');\r\n\t\t} else {\r\n\t\t\tAgregarPedidoCarrito(cliente._id, token);\r\n\t\t}\r\n\t}\r\n\r\n\tif (carrito.length === 0 || carrito.articulos.length === 0) {\r\n\t\treturn (\r\n\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t<Result\r\n\t\t\t\t\tclassName=\"mt-5\"\r\n\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\ttitle=\"Aun no tienes articulos en tu carrito\"\r\n\t\t\t\t\textra={<Link to=\"/productos\">¡Empieza a comprar ahora!</Link>}\r\n\t\t\t\t/>\r\n\t\t\t</Spin>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<h1 className=\"principal bg-dark\">Bievenido a tu carrito {cliente.nombre}</h1>\r\n\t\t\t\t<List\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={carrito.articulos}\r\n\t\t\t\t\trenderItem={(carrito) => <ListaCarrito carrito={carrito} cliente={cliente} token={token} />}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"row mt-5 justify-content-center p-5\">\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Cantidad de productos: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{nuevoCarrito.length}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline' }}>Total: </p>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 24, display: 'inline', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t${total !== 0 ? formatoMexico(total) : 0}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-5 d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\tstyle={{ width: 250, textAlign: 'center' }}\r\n\t\t\t\t\t\t\tonClick={() => crearPedido()}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ShoppingCartOutlined style={styles} /> Comprar ahora\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(MostrarDatosProductos);\r\n","import React from 'react';\r\nimport ConsultaProductos from './consulta_productos';\r\n\r\nfunction Productos(props) {\r\n\treturn (\r\n\t\t<ConsultaProductos propiedades={props} />\r\n\t);\r\n}\r\n\r\nexport default Productos;\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../../config/axios';\r\nimport {Spin,notification} from 'antd';\r\nimport queryString from 'query-string';\r\nimport Pagination from '../../../../components/Pagination/pagination';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport {List} from 'antd'\r\nimport { Link } from 'react-router-dom';\r\nimport DOMPurify from 'dompurify'\r\nimport './BlogList.scss';\r\n\r\n\r\nexport default function BlogList(props) {\r\n\r\n    const {location,history} = props;\r\n    const {page = 1} = queryString.parse(location.search);\r\n    \r\n    const [loading, setLoading] = useState(false)\r\n    const [blogs, setBlogs] = useState([])\r\n\r\n\r\n    function getBlogsApi(limit,page){\r\n        setLoading(true);\r\n        clienteAxios.get(`/blog?limit=${limit}&page=${page}`)\r\n        .then((res) => {\r\n                setBlogs(res.data.posts);\r\n                setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n            notification.error({\r\n                message: 'Error del servidor',\r\n                description:\r\n                  'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n              });\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        getBlogsApi(10,page)\r\n    }, [page])\r\n\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading} >\r\n            <div  id=\"blog\" className=\"container\">\r\n                <h1 className=\"text-center p-3\">Nuestro Blog!</h1>\r\n                <div className=\"container-fluid bg-white shadow-lg\">\r\n                    <div id=\"cards\">\r\n                        <BlogsList2 \r\n                            blogs={blogs} \r\n                            setLoading={setLoading}\r\n                        />\r\n                    </div>\r\n\r\n                    <Pagination \r\n                        blogs={blogs} \r\n                        location={location}  \r\n                        history={history}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </Spin>\r\n    )\r\n\r\n}\r\n\r\nfunction BlogsList2 (props){\r\n    const {blogs} = props;\r\n\r\n\r\n    return (\r\n        <div>\r\n            <List className=\"p-3\"\r\n                    itemLayout=\"vertical\"\r\n                    size=\"large\"\r\n                    dataSource={blogs.docs}\r\n                    renderItem={blog => \r\n                        <Blog blog={blog} />\r\n                    }\r\n                />\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Blog(props){\r\n\r\n    const {blog} = props;\r\n\r\n    return(\r\n        <Link to={`/blog/${blog.url}`} className=\"blogList\">\r\n            <List.Item \r\n                className=\"blogList__lista list-hover  mb-5\"\r\n                key={blog.nombre}\r\n                extra={\r\n                <div className=\"contenedor-imagen-blog-list\">\r\n                    <img\r\n                        className=\"imagen-blog-list\"\r\n                        alt={blog.nombre}\r\n                        src={aws+blog.imagen}\r\n                    />\r\n                </div>\r\n                }\r\n            >\r\n                <List.Item.Meta title={<p className=\"blogList__title titulo-blog\">{blog.nombre}</p>} description={<p className=\"blogList__author\">Autor: {blog.administrador}</p>}/>\r\n                    {\r\n                        <div>\r\n                            <div\r\n                                className={'blogList__content-description m-0'}\r\n                                dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(blog.descripcion) }}\r\n                            />\r\n                            <p>Leer mas</p>\r\n                        </div>\r\n                    }\r\n            </List.Item>\r\n        </Link>\r\n    )\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Spin } from 'antd';\r\nimport { formatoFecha } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\n\r\nimport './ShowBlog.scss';\r\n\r\nexport default function ShowBlog(props) {\r\n\tconst { url } = props;\r\n\tconst [ infoBlog, setInfoBlog ] = useState({});\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tasync function ObtenerBlog() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/blog/${url}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetInfoBlog(res.data.post);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tObtenerBlog();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\t/* var styleDivImagen = {\r\n\t\theight: '400px',\r\n\t\tbackgroundImage: `url(https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${infoBlog.imagen})`,\r\n\t\tbackgroundSize: 'cover cover',\r\n\t\tbackgroundRepeat: 'no-repeat',\r\n\t\tbackgroundPosition: '50% 50%'\r\n\t}; */\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"info-blog bg-white shadow\">\r\n\t\t\t\t{/* <div className=\"info-blog__div-imagen\" style={styleDivImagen} /> */}\r\n\t\t\t\t<div className=\"contenedor-imagen-blog-principal\">\r\n\t\t\t\t\t<img className=\"imagen-blog-principal\" alt=\"imagen blog principal\" src={aws+infoBlog.imagen} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"p-5\">\r\n\t\t\t\t\t<h1 className=\"info-blog__titulo m-3\"> {infoBlog.nombre} </h1>\r\n\t\t\t\t\t<div className=\"info-blog__fecha m-3\"> {formatoFecha(infoBlog.createdAt)} </div>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"info-blog__descripcion\"\r\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: infoBlog.descripcion }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport BlogList from './services/BlogList'\r\nimport ShowBlog from './services/ShowBlog';\r\n\r\nimport {useParams} from 'react-router-dom'\r\n    \r\nexport default function Blog(props) {\r\n\r\n    const {location,history} = props;\r\n    const {url} = useParams();\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {url ? (\r\n                <ShowBlog  url={url} />\r\n            ):(\r\n                <BlogList location={location} history={history} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { Link } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst DetallesPedido = (props) => {\r\n\tconst { detallePedido } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del pedido</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del pedido: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detallePedido._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de pedido:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detallePedido.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">No. de productos:</h6>\r\n\t\t\t\t\t<p className=\"\">x {detallePedido.pedido.length} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus del pedido:</h6>\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\tclassName=\"my-2\"\r\n\t\t\t\t\t\t\t\tcolor={detallePedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{detallePedido.estado_pedido}\r\n\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Pagado:</h6>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"text-danger my-2\">Pedido cancelado</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"text-success my-2\">Pedido realizado</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 \">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Total:</h6>\r\n\t\t\t\t\t<p className=\"\"> $ {formatoMexico(detallePedido.total)} </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del pedido</Divider>\r\n\t\t\t<div className=\"row\">{detallePedido.pedido.map((producto) => <Producto producto={producto} />)}</div>\r\n\r\n\t\t\t{detallePedido.pagado === false ? (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de pedido</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detallePedido.cliente.direccion[0].calle_numero} Colonia ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].colonia} ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detallePedido.cliente.direccion[0].estado} ${detallePedido.cliente\r\n\t\t\t\t\t\t\t\t\t\t.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detallePedido.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detallePedido.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Código de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a href={`${detallePedido.url}${detallePedido.codigo_seguimiento}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detallePedido.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">Total: $ {formatoMexico(detallePedido.total)}</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t<Col span={4} key={producto.producto._id} className=\"col-lg-4 col-sm-12 mb-3\">\r\n\t\t\t\t<Link to={`/vista_producto/${producto.producto._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable\r\n\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-pedido\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-pedido\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+producto.producto.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\ttitle={producto.producto.nombre}\r\n\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"precio-rebaja\">Cantidad de articulos: {producto.cantidad}</h6>\r\n\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(producto.producto.precio)}</h2>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default DetallesPedido;\r\n","import React from 'react';\r\nimport { Tag, Divider, Col, Card, Result } from 'antd';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Link } from 'react-router-dom';\r\nimport { faBus } from '@fortawesome/free-solid-svg-icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function detalleApartado(props) {\r\n\tconst { detalleApartado } = props;\r\n\treturn (\r\n\t\t<div className=\"card-p-pedidos\">\r\n\t\t\t<Divider className=\"text-center\">Detalles del Apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">ID del Apartado: </h6>\r\n\t\t\t\t\t<p className=\"\"> {detalleApartado._id} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de apartado:</h6>\r\n\t\t\t\t\t<p className=\"\"> {formatoFecha(detalleApartado.createdAt)} </p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Estatus:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\tdetalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t'#f0ad4e'\r\n\t\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t) : detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Tipo de entrega:</h6>\r\n\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\tcolor={detalleApartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Paqueteria:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.paqueteria} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t<div className=\"my-2 col-lg-4\">\r\n\t\t\t\t\t\t<h6 className=\"titulos-info-pedidos\">Fecha de envio:</h6>\r\n\t\t\t\t\t\t<p> {detalleApartado.fecha_envio} </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t''\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t<Divider className=\"text-center\">Productos del apartado</Divider>\r\n\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<Producto producto={detalleApartado.producto} />\r\n\t\t\t</div>\r\n\r\n\t\t\t{detalleApartado.tipoEntrega === 'ENVIO' ? detalleApartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Divider className=\"text-center\">Seguimiento de Apartado</Divider>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faBus} style={{ fontSize: '50px' }} />}\r\n\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección de envio:</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`${detalleApartado.cliente.direccion[0].calle_numero} Colonia ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].colonia} ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.ciudad} ${detalleApartado.cliente.direccion[0].estado} ${detalleApartado\r\n\t\t\t\t\t\t\t\t\t\t.cliente.direccion[0].pais}.`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t{`Referencia: ${detalleApartado.cliente.direccion[0]\r\n\t\t\t\t\t\t\t\t\t\t.entre_calles}. CP: ${detalleApartado.cliente.direccion[0].cp}`}{' '}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Codigó de seguimiento: </span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\thref={`${detalleApartado.url}${detalleApartado.codigo_seguimiento}`}\r\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t{detalleApartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t) : (\r\n\t\t\t\t''\r\n\t\t\t)}\r\n\t\t\t<div className=\"my-2\">\r\n\t\t\t\t<h6 className=\"titulos-info-pedidos h4 mt-3\">\r\n\t\t\t\t\tTotal: $ {formatoMexico(detalleApartado.producto.precio)}\r\n\t\t\t\t</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Producto(props) {\r\n\tconst { producto } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Col span={4} key={producto._id} className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t<Link to={`/vista_producto/${producto._id}`}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\thoverable\r\n\t\t\t\t\t\tstyle={{ width: 250 }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-detalle-apartado\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\talt=\"example\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-detalle-apartado\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\tdescription={<h2 className=\"h5 precio-rebaja\">${formatoMexico(producto.precio)}</h2>}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Link>\r\n\t\t\t</Col>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport jwt_decode from 'jwt-decode';\r\nimport DetallesPedido from './detalles';\r\nimport { formatoFecha, formatoMexico } from '../../../config/reuserFunction';\r\nimport './pedidos.scss';\r\nimport DetalleApartado from './detalleApartado';\r\nimport { Spin, Modal, Tag, Button, List, Result, Tabs, notification } from 'antd';\r\nimport { EditOutlined, DeleteOutlined,ExclamationCircleOutlined } from '@ant-design/icons';\r\nimport aws from '../../../config/aws';\r\n\r\nconst { TabPane } = Tabs;\r\nconst {confirm} = Modal;\r\n\r\nexport default function PedidosUsuario(props) {\r\n\tconst [ pedidos, setPedidos ] = useState([]);\r\n\tconst [ apartados, setApartados ] = useState([]);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ Elige, setElige ] = useState(false);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ showInfo, setshowInfo ] = useState(false);\r\n\tconst [ estado, setEstado ] = useState(false);\r\n\r\n\t//modal del pedido\r\n\tconst [ detallePedido, setDetallePedido ] = useState({});\r\n\tconst [ detalleApartado, setDetalleApartado ] = useState({});\r\n\r\n\tconst showModal = (e) => {\r\n\t\tsetVisible(e);\r\n\t};\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerPedidos() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetPedidos(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerApartados() {\r\n\t\t/* setLoading(true); */\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/apartado/cliente/apartados/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.data.length > 0) {\r\n\t\t\t\t\tsetApartados(res.data);\r\n\t\t\t\t\tsetshowInfo(true);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token === '' || token === null) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t} else {\r\n\t\t\tobtenerPedidos();\r\n\t\t\tobtenerApartados();\r\n\t\t\tsetLoading(true);\r\n\t\t\tsetPedidos([]);\r\n\t\t\tsetshowInfo(false);\r\n\t\t\tsetEstado(false);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [estado]);\r\n\r\n\t\r\n\tconst deleteApartado = (id) => {\r\n        confirm({\r\n            title:\"Eliminando Apartado\",\r\n            icon: <ExclamationCircleOutlined />,\r\n            content: `¿Estás seguro que deseas eliminar el apartado?`,\r\n            okText: \"Eliminar\",\r\n            okType:\"danger\",\r\n            cancelText:\"Cancelar\",\r\n            onOk(){\r\n                clienteAxios.put(`/apartado/estado/eliminado/${id}`,{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n                })\r\n                .then((res) => {\r\n                    notification.success({\r\n                        message: 'Apartado Eliminado',\r\n                        description:\r\n                        res.data.message,\r\n                    });\r\n\t\t\t\t\tsetEstado(true);\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err.response)\r\n                    notification.error({\r\n                        message: 'Error del servidor',\r\n                        description:\r\n                        'Paso algo en el servidor, al parecer la conexion esta fallando.',\r\n                    });\r\n                });\r\n            }\r\n        })\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h4 className=\"text-center m-3\">Mis Compras</h4>\r\n\t\t\t\t<Tabs className=\"shadow bg-white rounded\" defaultActiveKey=\"1\" type=\"card\" size=\"large\">\r\n\t\t\t\t\t<TabPane tab=\"Mis compras\" key=\"1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras. ¿Que esperas?\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={pedidos}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(pedido) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Pedido\r\n\t\t\t\t\t\t\t\t\t\t\t\tpedido={pedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetallePedido={setDetallePedido}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t\t<TabPane tab=\"Mis apartados\" key=\"2\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t{showInfo !== true ? (\r\n\t\t\t\t\t\t\t\t<Result\r\n\t\t\t\t\t\t\t\t\tstatus=\"404\"\r\n\t\t\t\t\t\t\t\t\ttitle=\"Parece que aun no tienes compras\"\r\n\t\t\t\t\t\t\t\t\tsubTitle=\"Ve y realiza tus compras para poder verlas\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\tdataSource={apartados}\r\n\t\t\t\t\t\t\t\t\t\trenderItem={(apartado) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<Apartado\r\n\t\t\t\t\t\t\t\t\t\t\t\tapartado={apartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\tshowModal={showModal}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetDetalleApartado={setDetalleApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetElige={setElige}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteApartado={deleteApartado}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TabPane>\r\n\t\t\t\t</Tabs>\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\tkey=\"detalle\"\r\n\t\t\t\twidth={900}\r\n\t\t\t\tstyle={{ top: 0 }}\r\n\t\t\t\ttitle=\"\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\tonCancel={() => {\r\n\t\t\t\t\tshowModal(false);\r\n\t\t\t\t}}\r\n\t\t\t\tfooter={[\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tshowModal(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCerrar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t{Elige === true ? (\r\n\t\t\t\t\t<DetalleApartado detalleApartado={detalleApartado} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<DetallesPedido detallePedido={detallePedido} />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nfunction Pedido(props) {\r\n\tconst { pedido, showModal, setDetallePedido, setElige } = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={pedido._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top \"\r\n\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tsetElige(false);\r\n\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\tsetDetallePedido(pedido);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\tVer mi pedido\r\n\t\t\t\t</Button>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Productos:</span>\r\n\t\t\t\t\t<span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Total:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t</p>\r\n\t\t\t\t{/* <p className=\"h6\"><span className=\"font-weight-bold\">Pedido el:</span> {formatoFecha(pedido.createdAt)}</p> */}\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Pedido:</span>\r\n\t\t\t\t\t<Tag className=\"ml-2\" color={pedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center my-3\"\r\n\t\t\t\t\t\tstyle={{ width: 100, height: 100 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<p>Pedido del producto sdsdsdsd</p>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\tsrc={aws+pedido.pedido[0].producto.imagen}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\tProductos: <span className=\"text-primary\"> x {pedido.pedido.length}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estatus:</span>\r\n\t\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\t\tcolor={pedido.estado_pedido === 'En proceso' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.estado_pedido}\r\n\t\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Total de la compra:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(pedido.total)}</span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Fecha de pedido:</span> {formatoFecha(pedido.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n{/* \t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-danger\">Pedido no realizado </p>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-success\">Pedido realizado</p>\r\n\t\t\t\t\t\t\t\t\t\t{pedido.codigo_seguimiento ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>Seguimiento: {pedido.codigo_seguimiento} </p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${pedido.url}${pedido.codigo_seguimiento}`} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tSeguir envio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pedido.pagado === false ? (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 text-primary\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{pedido.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tpedido.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n\r\nfunction Apartado(props) {\r\n\tconst { apartado, showModal, setDetalleApartado, setElige , deleteApartado} = props;\r\n\r\n\treturn (\r\n\t\t<List.Item\r\n\t\t\tkey={apartado._id}\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center m-5\"\r\n\t\t\tactions={[\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName=\"d-flex justify-content-top align-items-top m-2 w-100\"\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetElige(true);\r\n\t\t\t\t\t\t\tshowModal(true);\r\n\t\t\t\t\t\t\tsetDetalleApartado(apartado);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditOutlined />\r\n\t\t\t\t\t\tVer mi apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' || apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t'd-none'\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t'd-flex justify-content-top align-items-top m-2 w-100'\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\tdanger\r\n\t\t\t\t\t\tghost\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteApartado(apartado._id)\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteOutlined />\r\n\t\t\t\t\t\tEliminar apartado\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t<div className=\"d-lg-none d-sm-block\">\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t<span className=\"ml-1\">{apartado.producto.nombre}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.producto.precio)} </span>{' '}\r\n\t\t\t\t</p>\r\n\r\n\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t<Tag className=\"\" color={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envío por paquetería' : 'Recoger a sucursal'}\r\n\t\t\t\t\t</Tag>\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<List.Item.Meta\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center my-3\">\r\n\t\t\t\t\t\t<p>Pedido del producto</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-mostrar-apartado\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-mostrar-apartado\"\r\n\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\tsrc={aws+apartado.producto.imagen}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={\r\n\t\t\t\t\t<div className=\"titulo-producto row mostrar-pedido\">\r\n\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Producto:</span>\r\n\t\t\t\t\t\t\t\t<span className=\"\"> {apartado.producto.nombre}</span>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Precio:</span>{' '}\r\n\t\t\t\t\t\t\t\t<span className=\"text-success\"> $ {formatoMexico(apartado.producto.precio)} </span>{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo de entrega:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={apartado.tipoEntrega === 'RECOGIDO' ? '#f0ad4e' : '#5cb85c'}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? 'Envio por paqueteria' : 'Recoger a sucursal'}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold m-0\">Fecha de apartado:</span>{' '}\r\n\t\t\t\t\t\t\t\t{formatoFecha(apartado.createdAt)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"m-0\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Estado:</span>\r\n\t\t\t\t\t\t\t\t<Tag\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2\"\r\n\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\tapartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#f0ad4e'\r\n\t\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t'#5cb85c'\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'#F75048'\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{apartado.estado === 'ACEPTADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado aceptado'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'PROCESANDO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado en proceso'\r\n\t\t\t\t\t\t\t\t\t) : apartado.estado === 'ENVIADO' ? (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado enviado'\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Apartado cancelado'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Seguimiento:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{apartado.codigo_seguimiento}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`${apartado.url}${apartado.codigo_seguimiento}`} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 16 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tSeguír envío\r\n\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{apartado.tipoEntrega === 'ENVIO' ? (\r\n\t\t\t\t\t\t\t<div className=\"col-lg-6 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<p className=\"m-0 font-weight-bold h3 text-primary\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t¡Hola!\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"mt-2\" style={{ fontSize: '15px' }}>\r\n\t\t\t\t\t\t\t\t\t{apartado.mensaje_admin ? (\r\n\t\t\t\t\t\t\t\t\t\tapartado.mensaje_admin\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Tu pedido esta en procesado, si tienes alguna duda no dudes en contactarnos!!'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, Result, Col, Row } from 'antd';\r\nimport Pagination from '../../../components/Pagination/pagination';\r\nimport queryString from 'query-string';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport './ofertas.scss';\r\nimport DOMPurify from 'dompurify';\r\nimport aws from '../../../config/aws';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Ofertas(props) {\r\n\tconst { location, history } = props;\r\n\tconst { page = 1 } = queryString.parse(location.search);\r\n\tconst [ productosPaginacion, setProductosPaginacion ] = useState([]);\r\n\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerProductos(40, page);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t},\r\n\t\t[ page ]\r\n\t);\r\n\r\n\tconsole.log(productos)\r\n\r\n\tasync function obtenerProductos(limit, page) {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/promociones?limit=${limit}&page=${page}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts.docs);\r\n\t\t\t\tsetProductosPaginacion(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos.productoPromocion._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgrounddivor: '#F7F7F7' }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t<div class=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws+productos.productoPromocion.imagen}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.productoPromocion.nombre}</h1>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.productoPromocion.descripcion) }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t${formatoMexico(productos.productoPromocion.precio)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t${formatoMexico(productos.precioPromocion)}\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t{agregarPorcentaje(productos.precioPromocion, productos.productoPromocion.precio)}%OFF\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<h4 className=\"mb-0 text-center font-weight-bold\">¡Encuentra ofertas todos los días!</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Row gutter={10} style={{ maxWidth: '95vw' }} className=\" mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Aun no hay ofertas\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Pagination blogs={productosPaginacion} location={location} history={history} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(Ofertas);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Card, Spin, notification, Result } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport aws from '../../../config/aws';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction ResultadoBusqueda(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst url = props.match.params.url;\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerProductosFiltrados() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t`/productos/search?nombre=${url}&categoria=${url}&subcategoria=${url}&genero=${url}&color=${url}`\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tif(err.response){\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerProductosFiltrados();\r\n\t\t},\r\n\t\t[ url ]\r\n\t);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<div key={productos._id} className=\"size-col col-lg-2 col-6\">\r\n\t\t\t<Link to={`/vista_producto/${productos._id}`}>\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle} className=\"border contenedor-card-producto-principal\">\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7', minHeight: 100 }}\r\n\t\t\t\t\t\tclassName=\"contenedor-card-body\"\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"contenedor-imagen-oferta\">\r\n\t\t\t\t\t\t\t\t{productos.todos.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"contenedor-oferta\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className=\"shadow\">OFERTA</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <p>-{agregarPorcentaje(promo.precioPromocion, productos.precio)}%</p> */}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-imagen-producto-principal\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\t\tsrc={aws + productos.imagen}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"contenedor-titulos-productos titulo-elipsis\">\r\n\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\">\r\n\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-precios-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto rebajado mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"h5 precio-rebaja d-inline mr-1\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<h3 className=\"ml-5 mt-4 mb-4\">\r\n\t\t\t\t{productos.length} Resultados de la busqueda \"{url}\"\r\n\t\t\t</h3>\r\n\t\t\t<div className=\"d-flex justify-content-center align-items-center\">\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div style={{ maxWidth: '95vw' }} className=\"row mt-4\">\r\n\t\t\t\t\t\t{productos.length ? (\r\n\t\t\t\t\t\t\trender\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"w-100 d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t\t<Result status=\"404\" title=\"Articulo no encontrado\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default ResultadoBusqueda;\r\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\r\nimport { Form, Input, Divider, Button, Avatar, notification } from 'antd';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport jwt_decode from 'jwt-decode';\r\nimport aws from '../../../../config/aws';\r\nimport './ActualizarUsuario.scss';\r\n\r\nexport default function ActualizarUsuario(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosUser, decoded, token, setLoading, setAccion } = props;\r\n\r\n\tconst [ avatar, setAvatar ] = useState(null);\r\n\tconst [ enviarFile, setEnviarFile ] = useState([]);\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ password, setPassword ] = useState({});\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tif (decoded.imagen) {\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tif (password.contrasenaActual) {\r\n\t\t\tif (password.contrasena && password.repeatContrasena) {\r\n\t\t\t\tif (password.contrasena === password.repeatContrasena) {\r\n\t\t\t\t\tformData.append('contrasena', password.contrasena);\r\n\t\t\t\t\tformData.append('repeatContrasena', password.repeatContrasena);\r\n\t\t\t\t\tformData.append('contrasenaActual', password.contrasenaActual);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: 'Las contrasenas no son iguales',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tif (decoded.tipoSesion === 'APIRestAB') {\r\n\t\t\tformData.append('imagen', enviarFile);\r\n\t\t}\r\n\t\tsetAccion(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\t\tlocalStorage.setItem('token', res.data.token);\r\n\t\t\t\t\t/* window.location.reload(); */\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\tconst decoded = jwt_decode(res.data.token);\r\n\t\t\t\t\tsetAvatar({\r\n\t\t\t\t\t\tpreview: aws+decoded.imagen\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1000);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tnotification.success({\r\n\t\t\t\t\tmessage: 'Hecho!',\r\n\t\t\t\t\tdescription: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst datosPassword = (e) => {\r\n\t\tsetPassword({\r\n\t\t\t...password,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Form layout=\"horizontal\" size={'large'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t{decoded.tipoSesion !== 'APIRestAB' ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"upload-user-perfil\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"rounded-circle\"\r\n\t\t\t\t\t\t\t\talt=\"logotipo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={decoded.imagenFireBase}\r\n\t\t\t\t\t\t\t\tstyle={{ width: '200px' }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<UploadAvatar\r\n\t\t\t\t\t\tavatar={avatar}\r\n\t\t\t\t\t\tsetAvatar={setAvatar}\r\n\t\t\t\t\t\tnombre={decoded.nombre}\r\n\t\t\t\t\t\tsetEnviarFile={setEnviarFile}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider style={{ fontSize: 22 }}>Información Personal</Divider>\r\n\r\n\t\t\t\t<h5>Nombre:</h5>\r\n\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Nombre obligatorio' } ]} noStyle name=\"nombre\">\r\n\t\t\t\t\t\t<Input name=\"nombre\" a placeholder=\"Nombre\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Apellidos:</h5>\r\n\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"apellido\" a placeholder=\"Apellidos\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Email:</h5>\r\n\t\t\t\t<Form.Item name=\"email\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Correo electronico obligatorio' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"email\" a placeholder=\"Correo electronico\" disabled />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Telefono:</h5>\r\n\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Telefono obligatorio' } ]} noStyle name=\"telefono\">\r\n\t\t\t\t\t\t<Input name=\"telefono\" a placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Divider className=\"mt-5\" style={{ fontSize: 22 }}>\r\n\t\t\t\t\tDatos domiciliarios\r\n\t\t\t\t</Divider>\r\n\r\n\t\t\t\t<h5>Direccion:</h5>\r\n\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"calle_numero\" a placeholder=\"Calle y numero de calle\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Referencia:</h5>\r\n\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input name=\"entre_calles\" a placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Codigo postal:</h5>\r\n\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Codigo postal obligatorio' } ]} noStyle name=\"cp\">\r\n\t\t\t\t\t\t<Input name=\"cp\" a placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Colonia:</h5>\r\n\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Colonia obligatoria' } ]} noStyle name=\"colonia\">\r\n\t\t\t\t\t\t<Input name=\"colonia\" a placeholder=\"Colonia\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Ciudad: </h5>\r\n\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Localidad obligatoria' } ]} noStyle name=\"ciudad\">\r\n\t\t\t\t\t\t<Input name=\"ciudad\" a placeholder=\"Localidad\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>Estado:</h5>\r\n\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'Estado obligatoria' } ]} noStyle name=\"estado\">\r\n\t\t\t\t\t\t<Input name=\"estado\" a placeholder=\"Estado\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<h5>País:</h5>\r\n\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t<Form.Item rules={[ { required: true, message: 'País obligatoria' } ]} noStyle name=\"pais\">\r\n\t\t\t\t\t\t<Input name=\"pais\" a placeholder=\"País\" />\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t{decoded.tipoSesion === 'FireBase' ? (\r\n\t\t\t\t\t''\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider style={{ fontSize: 22 }}>Contrasena</Divider>\r\n\t\t\t\t\t\t<h5>Contraseña Actual:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasenaActual\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasenaActual\" placeholder=\"Contraseña actual\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"contrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"contrasena\" placeholder=\"Contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<h5>Confirmar Contraseña:</h5>\r\n\t\t\t\t\t\t<Form.Item name=\"repeatContrasena\" onChange={datosPassword}>\r\n\t\t\t\t\t\t\t<Input.Password name=\"repeatContrasena\" placeholder=\"Confirmar contraseña\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className=\"d-flex justify-content-center pb-3\">\r\n\t\t\t\t\t<Button htmlType=\"submit\" type=\"primary\" size=\"large\" style={{ width: 150, fontSize: 20 }}>\r\n\t\t\t\t\t\tGuardar\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</Form>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction UploadAvatar(props) {\r\n\tconst { avatar, setAvatar, nombre, setEnviarFile } = props;\r\n\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tconst file = acceptedFiles[0];\r\n\t\t\tsetAvatar({ file, preview: URL.createObjectURL(file) });\r\n\t\t\tsetEnviarFile(file);\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ setAvatar ]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps, isDragActive } = useDropzone({\r\n\t\taccept: 'image/jpg, image/png, image/jpeg',\r\n\t\tnoKeyboard: true,\r\n\t\tonDrop\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Divider className=\"\" style={{ fontSize: 22 }}>\r\n\t\t\t\tImagen de perfil\r\n\t\t\t</Divider>\r\n\t\t\t<div className=\"upload-user-perfil\" {...getRootProps()}>\r\n\t\t\t\t<input {...getInputProps()} />\r\n\t\t\t\t{isDragActive ? (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p className=\"\" style={{ fontSize: 150 }}>\r\n\t\t\t\t\t\t\t{nombre.charAt(0)}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : avatar ? (\r\n\t\t\t\t\t<Avatar size={200} src={avatar.preview} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Avatar size={200} style={{ backgroundColor: '#87d068' }}>\r\n\t\t\t\t\t\t<p style={{ fontSize: 150 }}>{nombre.charAt(0)}</p>\r\n\t\t\t\t\t</Avatar>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\n\r\nimport { Form, Input, Button, Result, Spin, notification } from 'antd';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faUser } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_datos(props) {\r\n\tconst { datosUser, decoded, setCurrent, current, setDatosActualizados, token } = props;\r\n\tconst [ datosFormulario, setdatosFormulario ] = useState({});\r\n\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tconst [ form ] = Form.useForm();\r\n\r\n\tconst mostrarDatosUser = (e) => {\r\n\t\tform.setFieldsValue(e);\r\n\t};\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (datosUser !== null) {\r\n\t\t\t\tlet direccion = {};\r\n\t\t\t\tif (datosUser.direccion.length > 0) {\r\n\t\t\t\t\tdireccion = datosUser.direccion[0];\r\n\t\t\t\t}\r\n\t\t\t\tmostrarDatosUser({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t\tsetdatosFormulario({\r\n\t\t\t\t\tnombre: datosUser.nombre,\r\n\t\t\t\t\tapellido: datosUser.apellido,\r\n\t\t\t\t\temail: datosUser.email,\r\n\t\t\t\t\ttelefono: datosUser.telefono,\r\n\t\t\t\t\tcalle_numero: direccion.calle_numero,\r\n\t\t\t\t\tentre_calles: direccion.entre_calles,\r\n\t\t\t\t\tcp: direccion.cp,\r\n\t\t\t\t\tcolonia: direccion.colonia,\r\n\t\t\t\t\tciudad: direccion.ciudad,\r\n\t\t\t\t\testado: direccion.estado,\r\n\t\t\t\t\tpais: direccion.pais\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ datosUser ]\r\n\t);\r\n\r\n\tasync function enviarDatosUser() {\r\n\t\tconst formData = new FormData();\r\n\r\n\t\tformData.append('nombre', datosFormulario.nombre);\r\n\t\tformData.append('apellido', datosFormulario.apellido);\r\n\t\tformData.append('email', datosFormulario.email);\r\n\t\tformData.append('telefono', datosFormulario.telefono);\r\n\t\tformData.append('calle_numero', datosFormulario.calle_numero);\r\n\t\tformData.append('entre_calles', datosFormulario.entre_calles);\r\n\t\tformData.append('cp', datosFormulario.cp);\r\n\t\tformData.append('colonia', datosFormulario.colonia);\r\n\t\tformData.append('ciudad', datosFormulario.ciudad);\r\n\t\tformData.append('estado', datosFormulario.estado);\r\n\t\tformData.append('pais', datosFormulario.pais);\r\n\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/cliente/${decoded._id}`, formData, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosActualizados(datosFormulario);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetCurrent(current + 1);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tif(error.response){\r\n\t\t\t\t\tif (error.response.status === 404 || error.response.status === 500) {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: `${error.response.data.message}`,\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\t\tdescription: 'Error de conexion',\r\n\t\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (decoded === null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst datosForm = (e) => {\r\n\t\tsetdatosFormulario({\r\n\t\t\t...datosFormulario,\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading} size=\"large\">\r\n\t\t\t<div className=\"shadow-lg bg-white rounded\">\r\n\t\t\t\t<Form className=\"mt-5\" layout=\"horizontal\" size={'middle'} form={form} onFinish={enviarDatosUser}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"m-0\"\r\n\t\t\t\t\t\ticon={<FontAwesomeIcon icon={faUser} style={{ fontSize: '100px' }} />}\r\n\t\t\t\t\t\textra={\r\n\t\t\t\t\t\t\t<div className=\"row m-4\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Nombre:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"nombre\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Nombre obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nombre\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"nombre\" a placeholder=\"Nombre\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Apellidos:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"apellido\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Apellidos obligatorios' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"apellido\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"apellido\" a placeholder=\"Apellidos\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Teléfono:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"telefono\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Telefono obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"telefono\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"telefono\" a placeholder=\"+52 3171234567\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Dirección:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"calle_numero\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Direccion obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"calle_numero\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ta\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Calle y numero de calle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Referencia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"entre_calles\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Referencia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"entre_calles\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"entre_calles\" a placeholder=\"Calles de referencia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Código postal:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"cp\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Codigo postal obligatorio' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"cp\" a placeholder=\"Codigo Postal\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Colonia:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"colonia\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Colonia obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"colonia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"colonia\" a placeholder=\"Colonia\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Ciudad:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"ciudad\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Localidad obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"ciudad\" a placeholder=\"Localidad\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">Estado:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"estado\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'Estado obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"estado\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"estado\" a placeholder=\"Estado\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-2 col-sm-12\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-weight-bold\">País:</p>\r\n\t\t\t\t\t\t\t\t\t\t\t<Form.Item name=\"pais\" onChange={datosForm}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trules={[ { required: true, message: 'País obligatoria' } ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnoStyle\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Input name=\"pais\" a placeholder=\"País\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center p-3\">\r\n\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n\tCardNumberElement,\r\n\tCardCvcElement,\r\n\tCardExpiryElement,\r\n\tElements,\r\n\tuseElements,\r\n\tuseStripe\r\n} from '@stripe/react-stripe-js';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nimport { Form, Button, notification, Spin } from 'antd';\r\n\r\nimport './Animacion_Tarjeta.scss';\r\n\r\nimport img_visa from '../img/logos/visa.png';\r\nimport img_mastercard from '../img/logos/mastercard.png';\r\nimport chip_tarjeta from '../img/chip-tarjeta.png';\r\n\r\nexport default function Verificacion_Tarjeta(props) {\r\n    const {setIdPago,prev,setCurrent,current} = props;\r\n    const stripePromise = loadStripe('pk_test_51HepqMCUpJnsv7ilMqt7ENjThxyxOuwzN6nMEWVozn2D4AwKf0ookzZ78ruY1DVyl0oH2gCDq4hDXfDswpcnhd9p00UT7tz4ag');\r\n    return (\r\n        <div>\r\n            <Elements stripe={stripePromise}>\r\n                <CheckoutForm prev={prev} setCurrent={setCurrent} current={current} setIdPago={setIdPago} />\r\n            </Elements>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst CheckoutForm = (props) => {\r\n\tconst { prev, setCurrent, current, setIdPago } = props;\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements();\r\n\r\n\tconst [ name, setName ] = useState('');\r\n\tconst [ postal, setPostal ] = useState('');\r\n\t/* \tconst [ loading, setLoading ] = useState(false); */\r\n\r\n\tconst [ typeCard, setTypeCard ] = useState('visa');\r\n\tconst [ numbrerCard, setNumbrerCard ] = useState('');\r\n\tconst [ dateCard1, setDateCard1 ] = useState('');\r\n\tconst [ dateCard2, setDateCard2 ] = useState('');\r\n\tconst [ activeCard, setActiveCard ] = useState('');\r\n\tconst [ controlClick, setcontrolClick ] = useState(false);\r\n\tconst [ cvvCard, setCvvCard ] = useState('---');\r\n\r\n\tuseEffect(() => {\r\n\t\tsetTypeCard('visa');\r\n\t\tsetNumbrerCard('');\r\n\t\tsetActiveCard('');\r\n\t}, []);\r\n\r\n\tconst rotartarjeta = () => {\r\n\t\tif (!controlClick) {\r\n\t\t\tsetActiveCard('active');\r\n\t\t\tsetcontrolClick(true);\r\n\t\t} else {\r\n\t\t\tsetActiveCard('');\r\n\t\t\tsetcontrolClick(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardOnChage = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.brand === 'visa') {\r\n\t\t\tsetTypeCard('visa');\r\n\t\t} else {\r\n\t\t\tsetTypeCard('mastercard');\r\n\t\t}\r\n\t\tif (!e.complete) {\r\n\t\t\tsetNumbrerCard('#### ### - incomplet');\r\n\t\t} else {\r\n\t\t\tsetNumbrerCard('#### #### #### ####');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cardDateOnChange = (e) => {\r\n\t\tsetActiveCard('');\r\n\t\tif (e.complete) {\r\n\t\t\tsetDateCard2('AA');\r\n\t\t} else {\r\n\t\t\tsetDateCard1('MM');\r\n\t\t}\r\n\t};\r\n\r\n\tconst cvvChange = (e) => {\r\n\t\tsetActiveCard('active');\r\n\t\tif (e.complete) {\r\n\t\t\tsetCvvCard('###');\r\n\t\t} else {\r\n\t\t\tsetCvvCard('##-');\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (!stripe || !elements) {\r\n\t\t\t// Stripe.js has not loaded yet. Make sure to disable\r\n\t\t\t// form submission until Stripe.js has loaded.\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst cardElement = elements.getElement(CardNumberElement);\r\n\r\n\t\tconst payload = await stripe.createPaymentMethod({\r\n\t\t\ttype: 'card',\r\n\t\t\tcard: cardElement,\r\n\t\t\tbilling_details: {\r\n\t\t\t\tname,\r\n\t\t\t\taddress: {\r\n\t\t\t\t\tpostal_code: postal\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (payload.error) {\r\n\t\t\tnotification.error({\r\n\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\tdescription: 'Parece que hubo un error con tu tarjeta.'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetIdPago(payload.paymentMethod);\r\n\t\t\tsetCurrent(current + 1);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={!stripe} size=\"large\">\r\n\t\t\t<div className=\"\">\r\n\t\t\t\t<div className=\"contenedor \">\r\n\t\t\t\t\t<section\r\n\t\t\t\t\t\tclassName={`tarjeta ${activeCard} d-none d-md-none d-lg-block`}\r\n\t\t\t\t\t\tid=\"tarjeta\"\r\n\t\t\t\t\t\tonClick={rotartarjeta}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div className=\"delantera\">\r\n\t\t\t\t\t\t\t<div className=\"logo-marca\" id=\"logo-marca\">\r\n\t\t\t\t\t\t\t\t<img src={typeCard === 'visa' ? img_visa : img_mastercard} alt=\"\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img src={chip_tarjeta} className=\"chip\" alt=\"\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"numero\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Número Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"numero\"> {numbrerCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flexbox\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"nombre\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Nombre Tarjeta</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"nombre\"> {name} </p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"label\">Expiración</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"expiracion\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"mes\"> {dateCard1} </span> {dateCard1 ? '/' : ''}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"year\"> {dateCard2} </span>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"trasera\">\r\n\t\t\t\t\t\t\t<div className=\"barra-magnetica\" />\r\n\t\t\t\t\t\t\t<div className=\"datos\">\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"firma\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">Firma</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"firma\">\r\n\t\t\t\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"grupo\" id=\"ccv\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"label\">CCV</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ccv\"> {cvvCard} </p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"leyenda\">\r\n\t\t\t\t\t\t\t\tLorem ipsum dolor sit amet consectetur adipisicing elit. Accusamus exercitationem,\r\n\t\t\t\t\t\t\t\tvoluptates illo.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<a href=\"#\" className=\"link-banco\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\r\n\t\t\t\t\t<Form onFinish={handleSubmit} className=\"active mt-5\">\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cardNumber\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNúmero Tarjeta\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardNumberElement\r\n\t\t\t\t\t\t\t\t\tid=\"cardNumber\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardOnChage(e)}\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tfontSize: '18px',\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#424770',\r\n\t\t\t\t\t\t\t\t\t\tletterSpacing: '0.025em',\r\n\t\t\t\t\t\t\t\t\t\t'::placeholder': {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#aab7c4'\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"name\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tNombre\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Nombre del propietario\"\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetName(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mt-3\">\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"expiry\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tExpiración\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardExpiryElement\r\n\t\t\t\t\t\t\t\t\tid=\"expiry\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => cardDateOnChange(e)}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"cvc\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCVC\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<CardCvcElement\r\n\t\t\t\t\t\t\t\t\tid=\"cvc\"\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tcvvChange(e);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('active')}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-4 col-sm-12\">\r\n\t\t\t\t\t\t\t\t<label htmlFor=\"postal\" className=\"font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\tCódigo postal\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"postal\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control mt-0\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"12345\"\r\n\t\t\t\t\t\t\t\t\tvalue={postal}\r\n\t\t\t\t\t\t\t\t\tonFocus={() => setActiveCard('')}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetPostal(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetActiveCard('');\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\tonClick={prev}\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={!stripe}\r\n\t\t\t\t\t\t\t\tclassName=\"m-1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tVolver\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" size=\"large\" disabled={!stripe} className=\"m-1\">\r\n\t\t\t\t\t\t\t\tSiguiente\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n","/* eslint-disable jsx-a11y/alt-text */\r\nimport React from 'react';\r\nimport { List } from 'antd';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport aws from '../../../../config/aws';\r\nimport '../confirmacion.scss';\r\n\r\nexport default function Traer_pedido(props) {\r\n\tconst { datosPedido, pedidoCompleto, datosEnvio } = props;\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{/* <h1 className=\"text-center\">Tu pedido:</h1> */}\r\n\t\t\t<div className=\"d-flex justify-content-end text-right px-4 mr-2 mt-3 info-pedido\">\r\n\t\t\t\t<div className=\"__subs\">\r\n\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"h6 font-weight-bold\">Descuento de: $ {datosEnvio.descuento}</p> */}\r\n\t\t\t\t\t\t\t{/* <p className=\"text-success h6 font-weight-bold\">El descuento si aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">\r\n\t\t\t\t\t\t\t\tSubtotal ({datosPedido.length}): ${' '}\r\n\t\t\t\t\t\t\t\t{formatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)}{' '}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{/* <p className=\"text-danger h6 font-weight-bold\">El descuento no aplica</p> */}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{datosEnvio.costoEnvio ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold d-inline\">\r\n\t\t\t\t\t\t\t\tCosto envío:{' '}\r\n\t\t\t\t\t\t\t\t{/* <p className=\"d-inline\" style={{ textDecoration: 'line-through' }}>\r\n\t\t\t\t\t\t\t\t\t$ {datosEnvio.costoEnvio}\r\n\t\t\t\t\t\t\t\t</p> */}\r\n\t\t\t\t\t\t\t\t<p className=\"h6 font-weight-bold text-success d-inline\">Envío gratis </p>\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"h6 font-weight-bold\">Costo envío: $ {datosEnvio.costoEnvio} </p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<p className=\"mt-4 h4 font-weight-bold\">\r\n\t\t\t\t\t\tTotal: ${' '}\r\n\t\t\t\t\t\t{datosEnvio.descuento ? pedidoCompleto.total >= datosEnvio.promocionEnvio ? (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio - datosEnvio.descuento)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tformatoMexico(pedidoCompleto.total + datosEnvio.costoEnvio)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<List\r\n\t\t\t\t\tclassName=\"p-3 info-pedido\"\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\tdataSource={datosPedido}\r\n\t\t\t\t\trenderItem={(producto) => <Productos pedido={producto} />}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Productos(props) {\r\n\tconst { pedido } = props;\r\n\treturn (\r\n\t\t<List.Item className=\"c0\">\r\n\t\t\t<div className=\"row c1\">\r\n\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\tavatar={\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t\t\t\t\theight=\"80\"\r\n\t\t\t\t\t\t\t\twidth=\"80\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle={<p className=\"__nombres\">{pedido.producto.nombre}</p>}\r\n\t\t\t\t\t\tdescription={<p className=\"__categ\">{pedido.producto.categoria}</p>}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\" col-lg-3\">\r\n\t\t\t\t\t<p className=\"__tupedido\">Cantidad: {pedido.cantidad}</p>\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'calzado' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Medida: {pedido.numero}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pedido.producto.tipoCategoria === 'ropa' ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Talla: {pedido.talla}</p>\r\n\t\t\t\t\t\t\t<p className=\"__tupedido\">Color: {pedido.producto.color}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\" col-lg-2\">\r\n\t\t\t\t\t<p style={{ fontSize: '20px', fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t${formatoMexico(pedido.cantidad * pedido.precio)}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</List.Item>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport Traer_pedido from './traer_pedido';\r\nimport { Button, Spin ,notification} from 'antd';\r\nimport { ShoppingCartOutlined } from '@ant-design/icons';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCcVisa, faCcMastercard } from '@fortawesome/free-brands-svg-icons';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\n\r\nimport './Confirnacion_Final.scss';\r\n\r\nexport default function Confirmacion_Final(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst { datosPedido, idPago, pedidoCompleto, token, history } = props;\r\n\tconst [ direccion, setDireccion ] = useState({});\r\n\tconst [ datosEnvio, setDatosEnvio ] = useState({});\r\n\tconst [ total, setTotal ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetDireccion(pedidoCompleto.cliente.direccion[0]);\r\n\t\ttraerCostosEnvio();\r\n\t\tsetLoading(true);\r\n\t}, []);\r\n\r\n\tconst traerCostosEnvio = async () => {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetDatosEnvio(res.data);\r\n\t\t\t\tif (res.data.descuento) {\r\n\t\t\t\t\tif (pedidoCompleto.total >= res.data.promocionEnvio) {\r\n\t\t\t\t\t\tsetTotal(\r\n\t\t\t\t\t\t\tparseFloat(pedidoCompleto.total) +\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.costoEnvio) -\r\n\t\t\t\t\t\t\t\tparseFloat(res.data.descuento)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTotal(parseFloat(pedidoCompleto.total) + parseFloat(res.data.costoEnvio));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst crearPago = async () => {\r\n\t\tsetLoading(true);\r\n\t\tconst datos = {\r\n\t\t\ttotal\r\n\t\t};\r\n\t\tawait clienteAxios\r\n\t\t\t.put(`/pedidos/pedido/total/${pedidoCompleto._id}`, datos, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then(async (res) => {\r\n\t\t\t\tlet centavo = 100 * parseFloat(total);\r\n\t\t\t\tconst newPedido = pedidoCompleto;\r\n\t\t\t\tnewPedido.total = total;\r\n\t\t\t\tconst datosPago = {\r\n\t\t\t\t\tsesionStripe: idPago,\r\n\t\t\t\t\tpedidoCompleto: newPedido,\r\n\t\t\t\t\tamount: centavo\r\n\t\t\t\t};\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.post('/pago/', datosPago, {\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\thistory.push(`/success/${pedidoCompleto._id}`);\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t\tif(error.response){\r\n\t\t\t\t\t\t\thistory.push(`/error/${pedidoCompleto._id}/${error.response.data.err.code}`);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\t\t\tmessage: 'Error de conexion.',\r\n\t\t\t\t\t\t\t\tdescription:\r\n\t\t\t\t\t\t\t\t  'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\t\t  });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\thistory.push(`/error/${pedidoCompleto._id}`);\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading} size=\"large\">\r\n\t\t\t<div className=\"d-flex justify-content-center\">\r\n\t\t\t\t<h3 className=\"font-weight-bold\">Resumen de compra</h3>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"shadow-lg bg-white rounded confirmacion_final\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg-6 info-domicilio\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"contenedor-direccion-conf shadow-sm\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Dirección de envío</p>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-none text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faTruck}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-lg-9 col-sm-12 m-sm-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.calle_numero}, {direccion.entre_calles}, {direccion.colonia},{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.ciudad}, {direccion.estado}, {direccion.pais}, CP{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{direccion.cp}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"shadow-sm contenedor-info-pago\">\r\n\t\t\t\t\t\t\t\t<p className=\"h4 font-weight-bold\">Información de pago</p>\r\n\t\t\t\t\t\t\t\t<div className=\"row my-3 mx-0\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-3 col-sm-12 text-center icono-info\">\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={'visa'}\r\n\t\t\t\t\t\t\t\t\t\t\ticon={idPago.card.brand === 'visa' ? faCcVisa : faCcMastercard}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: '50px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-7 m-2 contenido-info\">\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tipo tarjeta:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{idPago.card.funding}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Tarjeta:</span> *********{idPago.card.last4}{' '}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h6\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Expira:</span> {idPago.card.exp_month}/{idPago.card.exp_year}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-6\">\r\n\t\t\t\t\t\t<Traer_pedido\r\n\t\t\t\t\t\t\tsetTotal={setTotal}\r\n\t\t\t\t\t\t\tdatosEnvio={datosEnvio}\r\n\t\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"d-flex flex-row-reverse justify-content-center align-items-center text-center pb-3 mr-5 mt-5\">\r\n\t\t\t\t\t<Button size=\"large\" type=\"primary\" style={{ width: 200, textAlign: 'center' }} onClick={crearPago}>\r\n\t\t\t\t\t\t<ShoppingCartOutlined /> COMPRAR AHORA\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","/* eslint-disable react/jsx-pascal-case */\r\nimport React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\n\r\nimport { useParams } from 'react-router-dom';\r\nimport { Spin, Steps } from 'antd';\r\n\r\nimport Traer_datos from './services/traer_datos';\r\nimport Verificacion_tarjeta from './services/Verificacion_Tarjeta';\r\nimport Confirmacion_Final from './services/Confirmacion_Final';\r\n\r\nimport './confirmacion.scss';\r\n\r\nconst { Step } = Steps;\r\n\r\nexport default function Confirmacion_compra(props) {\r\n\tconst { history } = props;\r\n\r\n\tconst { url } = useParams();\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\t/* const [ disabled, setDisabled ] = useState(true); */\r\n\tconst [ datosPedido, setPedido ] = useState([]);\r\n\tconst [ pedidoCompleto, setPedidoCompleto ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\tconst [ datosActualizados, setDatosActualizados ] = useState([]);\r\n\tconst [ idPago, setIdPago ] = useState([]);\r\n\t/*     const [ disabledPrev, setDisabledPrev ] = useState(false); */\r\n\r\n\t/// Declaracion de variables para los pasos\r\n\tconst [ current, setCurrent ] = useState(0);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* const next = () => {\r\n\t\tsetCurrent(current + 1);\r\n\t}; */\r\n\r\n\tconst prev = () => {\r\n\t\tsetCurrent(current - 1);\r\n\t};\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${url}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data.cliente);\r\n\t\t\t\tsetPedido(res.data.pedido);\r\n\t\t\t\tsetPedidoCompleto(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tconst steps = [\r\n\t\t{\r\n\t\t\ttitle: 'Datos de envío',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<Traer_datos\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\tsetCurrent={setCurrent}\r\n\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\tsetDatosActualizados={setDatosActualizados}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Datos de compra',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Verificacion_tarjeta setIdPago={setIdPago} prev={prev} setCurrent={setCurrent} current={current} />\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: 'Comprar',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Confirmacion_Final\r\n\t\t\t\t\t\tidPago={idPago}\r\n\t\t\t\t\t\tdatosPedido={datosPedido}\r\n\t\t\t\t\t\tpedidoCompleto={pedidoCompleto}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)\r\n\t\t}\r\n\t];\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\r\n\t\t\tsetAccion(false);\r\n\t\t\t/* setDisabled(false); */\r\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"\">\r\n\t\t\t<div className=\"container prinpales p-3 mt-5\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div className=\"d-flex justify-content-center m-3\">\r\n\t\t\t\t\t\t<div style={{ width: '80%' }}>\r\n\t\t\t\t\t\t\t<Steps current={current}>\r\n\t\t\t\t\t\t\t\t{steps.map((item) => <Step key={item.title} title={item.title} />)}\r\n\t\t\t\t\t\t\t</Steps>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"steps-content\">\r\n\t\t\t\t\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t\t\t\t\t{steps[current].content}\r\n\t\t\t\t\t\t</Spin>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/*                     <div className=\"steps-action d-flex justify-content-center align-items-center\">\r\n                        {current > 0 && (\r\n                            <Button style={{ margin: '0 8px' }} onClick={prev} disabled={disabledPrev}>\r\n                                Atras\r\n                            </Button>\r\n                        )}\r\n                        {current === steps.length - 1 && (\r\n                            <Button\r\n                                type=\"primary\"\r\n                                onClick={() => {\r\n                                    notification.success({\r\n                                        message: 'su producto ha sido creado!',\r\n                                        duration: 2\r\n                                    });\r\n                                    setTimeout(() => {\r\n                                        window.location.reload();\r\n                                    }, 2000);\r\n                                }}\r\n                            >\r\n                                Comprar\r\n                            </Button>\r\n                        )}\r\n                        {current < steps.length - 1 && (\r\n                            <Button type=\"primary\" onClick={next} disabled={disabled}>\r\n                                Siguiente \r\n                            </Button>\r\n                        )}\r\n                    </div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport {Spin,notification} from 'antd'\r\n\r\n\r\nfunction Politicas() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [politicas, setPoliticas] = useState([]);\r\n\r\n    function peticionPoliticas(){\r\n\t\tclienteAxios.get('/tienda/')\r\n\t\t\t.then((res) => {\r\n                setLoading(false);\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setPoliticas(res.data[0].politicas)\r\n                }\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        peticionPoliticas();\r\n    }, []);\r\n    \r\n\r\n\r\n    return(\r\n        <Spin size=\"large\" spinning={loading} >\r\n            <div className=\"container\">\r\n                <div className=\"m-5\">\r\n                        <h1 className=\"text-center mt-4\">Politicas de Privacidad</h1>\r\n                        <h3 className=\"text-center mt-4\">\r\n                            Para poder brindarte una mayor experiencia de compra, te invitamos a leer nuestras politicas de privacidad.\r\n                        </h3>\r\n                        \r\n                        <div style={{lineHeight: \"35px\"}} dangerouslySetInnerHTML={{__html: politicas}} className='mt-5 px-4 ' />\r\n                    </div>             \r\n                </div> \r\n        </Spin>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Politicas;","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport '../vistas.scss';\r\nimport { Card, Col, Spin } from 'antd';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction'\r\nimport aws from '../../../../config/aws';\r\n\r\nconst gridStyle = { width: '100%', padding: 0, marginBottom: '1.5rem' };\r\n\r\nfunction Scroll(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst producto = props.productos;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tclienteAxios\r\n\t\t\t.get(`/productos/search?nombre=${producto.nombre}&categoria=${producto.categoria}&subcategoria=${producto.subCategoria}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data.posts);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t\r\n\t\t\t});\r\n\t}, [producto]);\r\n\r\n\tconst render = productos.map((productos) => (\r\n\t\t<Col key={productos._id} className=\"d-inline-flex mr-2 contenedor-card-tamaño\">\r\n\t\t\t\t<Card.Grid hoverable style={gridStyle}>\r\n\t\t\t\t\t<Card\r\n\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${productos._id}`)}\r\n\t\t\t\t\t\tbodyStyle={{ padding: 10, backgroundColor: '#F7F7F7' }}\r\n\t\t\t\t\t\tstyle={{ maxHeight: '100%', width: '100%', cursor: 'pointer' }}\r\n\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-principal\"\r\n\t\t\t\t\t\t\t\t\talt=\"producto\"\r\n\t\t\t\t\t\t\t\t\tsrc={aws+productos.imagen}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{!productos.todos.length ? (\r\n\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja\">${formatoMexico(productos.precio)}</h2>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.todos.map((promo) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div className=\"contenedor-titulos-productos\" key={promo._id}>\r\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"titulo-producto\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-producto d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"h5 precio-rebaja d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t${formatoMexico(promo.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"h4 porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promo.precioPromocion, productos.precio)}%OFF\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Card.Grid>\r\n\t\t</Col>\r\n\t));\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"mt-5\">\r\n\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion mb-3\">Quienes vieron este producto también compraron</p>\r\n\t\t\t\t<div className=\"contenedor-scroller\">\r\n\t\t\t\t\t{render}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Scroll;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarPedido(\r\n\tidcliente,\r\n\tproducto,\r\n\tsugerencia,\r\n\tcategoriaProducto,\r\n\tcategoriaSugerencia,\r\n\tcantidadProducto,\r\n\tcantidadSugerencia,\r\n\tmedidaProducto,\r\n\tmedidaSugerencia,\r\n\ttotal,\r\n\ttoken\r\n) {\r\n\tvar pedido = [];\r\n\tif (categoriaProducto === 'ropa' && categoriaSugerencia === 'ropa') {\r\n\t\t// ambas tallas\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'ropa' && categoriaSugerencia === 'calzado') {\r\n\t\t// talla producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'ropa' && categoriaSugerencia === 'otros') {\r\n\t\t// talla producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\ttalla: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'calzado') {\r\n\t\t// numero producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'ropa') {\r\n\t\t// numero producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'calzado' && categoriaSugerencia === 'otros') {\r\n\t\t// numero producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto,\r\n\t\t\t\tnumero: medidaProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'otros') {\r\n\t\t// sin medida producto y sin medida sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'ropa') {\r\n\t\t// sin medida producto y talla sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\ttalla: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t} else if (categoriaProducto === 'otros' && categoriaSugerencia === 'calzado') {\r\n\t\t// sin medida producto y numero sugerencia\r\n\t\tpedido = [\r\n\t\t\t{\r\n\t\t\t\tproducto: producto,\r\n\t\t\t\tcantidad: cantidadProducto\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tproducto: sugerencia,\r\n\t\t\t\tcantidad: cantidadSugerencia,\r\n\t\t\t\tnumero: medidaSugerencia\r\n\t\t\t}\r\n\t\t];\r\n\t}\r\n\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t'/pedidos/',\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tpedido: pedido,\r\n\t\t\t\ttotal: total,\r\n\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { notification, Spin, Button, Select, Card, Form, InputNumber, Modal, Alert } from 'antd';\r\nimport { IssuesCloseOutlined } from '@ant-design/icons';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../../config/reuserFunction';\r\nimport { AgregarPedido } from './servicesSugerencia';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst { Option } = Select;\r\nconst { Meta } = Card;\r\nconst { confirm } = Modal;\r\n\r\nconst Sugerencia = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ total, setTotal ] = useState(0);\r\n\tconst idproducto = props.producto;\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t///PRODUCTO\r\n\tconst [ producto, setProducto ] = useState([]);\r\n\tconst [ productoPromocion, setProductoPromocion ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ medida, setMedida ] = useState([]);\r\n\tconst [ cantidadFinalProducto, setCantidadFinalProducto ] = useState(1);\r\n\tconst [ disponibilidad, setDisponibilidad ] = useState('');\r\n\r\n\tfunction selectTallaProducto(value) {\r\n\t\tsetMedida(value);\r\n\t}\r\n\tfunction obtenerCantidadProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaProducto(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medida[1]) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinalProducto(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\t///SUGERENCIA\r\n\tconst [ sugerencia, setSugerencia ] = useState([]);\r\n\tconst [ sugerenciaPromocion, setSugerenciaPromocion ] = useState([]);\r\n\tconst [ validateStatusSug, setValidateStatusSug ] = useState('validating');\r\n\tconst [ medidaSugerencia, setMedidaSugerencia ] = useState([]);\r\n\tconst [ cantidadFinalSugerencia, setCantidadFinalSugerencia ] = useState(1);\r\n\tconst [ disponibilidadSugerencia, setDisponibilidadSugerencia ] = useState('');\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\r\n\tfunction selectTallaSugerencia(value) {\r\n\t\tsetMedidaSugerencia(value);\r\n\t}\r\n\tfunction obtenerCantidadSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > producto.cantidad) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadMedidaSugerencia(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > medidaSugerencia[1]) {\r\n\t\t\tsetValidateStatusSug('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatusSug('validating');\r\n\t\t\tsetCantidadFinalSugerencia(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerSugerencia();\r\n\t}, []);\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tobtenerTotal();\r\n\t\t\tobtenerDisponibilidad();\r\n\t\t},\r\n\t\t[ obtenerSugerencia ]\r\n\t);\r\n\tfunction obtenerTotal() {\r\n\t\tif (sugerencia.length !== 0) {\r\n\t\t\tif (productoPromocion.length !== 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length !== 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproductoPromocion.precioPromocion * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerencia.precio * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length !== 0) {\r\n\t\t\t\tsetTotal(\r\n\t\t\t\t\tproducto.precio * cantidadFinalProducto +\r\n\t\t\t\t\t\tsugerenciaPromocion.precioPromocion * cantidadFinalSugerencia\r\n\t\t\t\t);\r\n\t\t\t} else if (productoPromocion.length === 0 && sugerenciaPromocion.length === 0) {\r\n\t\t\t\tsetTotal(producto.precio * cantidadFinalProducto + sugerencia.precio * cantidadFinalSugerencia);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfunction obtenerDisponibilidad() {\r\n\t\t///disponibilidad Productos\r\n\t\tif (producto && producto.activo === false) {\r\n\t\t\tsetDisponibilidad('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\r\n\t\t//// Disponibilidad Sugerencias\r\n\t\tif (sugerencia && sugerencia.activo === false) {\r\n\t\t\tsetDisponibilidadSugerencia('Producto no disponible');\r\n\t\t\tsetDisabled(true);\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerSugerencia() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/sugerencia/${idproducto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProducto(res.data.producto);\r\n\t\t\t\tif (res.data.sugerencias) {\r\n\t\t\t\t\tres.data.sugerencias.forEach((element) => setSugerencia(element.producto));\r\n\t\t\t\t\tif (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionSugerencia.length !== 0 && res.data.promocionProducto.length === 0) {\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t} else if (res.data.promocionProducto.length !== 0 && res.data.promocionSugerencia.length !== 0) {\r\n\t\t\t\t\t\tres.data.promocionProducto.forEach((element) => setProductoPromocion(element));\r\n\t\t\t\t\t\tres.data.promocionSugerencia.forEach((element) => setSugerenciaPromocion(element));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tAgregarPedido(\r\n\t\t\tdecoded._id,\r\n\t\t\tproducto._id,\r\n\t\t\tsugerencia._id,\r\n\t\t\tproducto.tipoCategoria,\r\n\t\t\tsugerencia.tipoCategoria,\r\n\t\t\tcantidadFinalProducto,\r\n\t\t\tcantidadFinalSugerencia,\r\n\t\t\tmedida[0],\r\n\t\t\tmedidaSugerencia[0],\r\n\t\t\ttotal,\r\n\t\t\ttoken\r\n\t\t);\r\n\t}\r\n\r\n\tfunction showConfirm() {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (!medida[0] || !medidaSugerencia[0]) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconfirm({\r\n\t\t\t\t\ttitle: 'Comprar los siguientes articulos:',\r\n\t\t\t\t\ticon: <IssuesCloseOutlined />,\r\n\t\t\t\t\tokText: 'Continuar con la compra',\r\n\t\t\t\t\tcontent: (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<p>{producto.nombre}</p>\r\n\t\t\t\t\t\t\t<p>{sugerencia.nombre}</p>\r\n\t\t\t\t\t\t\t<p>Precio total: ${formatoMexico(total.toFixed(2))} + envio</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tonOk() {\r\n\t\t\t\t\t\tPedido();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"row mw-100\">\r\n\t\t\t\t{!producto || !sugerencia ? (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"col-lg-12\">\r\n\t\t\t\t\t\t<p className=\"my-3 text-center titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\t¡Llévalos juntos!\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"row\" style={{ justifyContent: 'center' }}>\r\n\t\t\t\t\t\t\t<div className=\"d-lg-flex d-sm-block px-5\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+producto.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tallas && producto.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : producto.numeros && producto.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{producto.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedida.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medida[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medida[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medida.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {producto.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={producto.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadProducto}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${producto._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={producto.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{productoPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(producto.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(productoPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproductoPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproducto.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidad}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-lg-flex justify-content-center align-items-center d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"display-1 text-center mx-4\">+</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-sm-block\">\r\n\t\t\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"shadow\"\r\n\t\t\t\t\t\t\t\t\t\tcover={\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: 200 }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"imagen-producto-sugerencia\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\talt=\"producto actual\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={aws+sugerencia.imagen}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tactions={[\r\n\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue=\"Talla\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 120 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={selectTallaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tallas && sugerencia.tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tallas.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.talla, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.talla}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : sugerencia.numeros && sugerencia.numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.numeros.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(res) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={res._id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={[ res.numero, res.cantidad ]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option key={res._id} disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.numero}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Option />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>-</p>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Form initialValues={{ cantidad: 1 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerencia.tipoCategoria !== 'Otros' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatusSug}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.tipoCategoria !== 'Otros' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmedidaSugerencia.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Solo hay {medidaSugerencia[1]} disponibles</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p>Cantidad</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={medidaSugerencia[1]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadMedidaSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={medidaSugerencia.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thelp={<p>Solo hay {sugerencia.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Cantidad\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmax={sugerencia.cantidad}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={obtenerCantidadSugerencia}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Meta\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => (window.location.href = `/vista_producto/${sugerencia._id}`)}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: 250, cursor: 'pointer' }}\r\n\t\t\t\t\t\t\t\t\t\t\ttitle={sugerencia.nombre}\r\n\t\t\t\t\t\t\t\t\t\t\tdescription={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{sugerenciaPromocion.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerencia.precio)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-precio precio-rebaja mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$ {formatoMexico(sugerenciaPromocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"titulo-porcentaje-sugerencia porcentaje-descuento d-inline\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{agregarPorcentaje(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerenciaPromocion.precioPromocion,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsugerencia.precio\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}% OFF\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"disponibilidad\">{disponibilidadSugerencia}</h6>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t<div className=\"d-block\">\r\n\t\t\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">\r\n\t\t\t\t\t\t\t\t\t\tPrecio total: ${formatoMexico(total.toFixed(2))}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center mt-4\">\r\n\t\t\t\t\t\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"d-block m-1\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => showConfirm()}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tComprar\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(Sugerencia);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport ReactImageMagnify from 'react-image-magnify';\r\nimport { Spin } from 'antd';\r\nimport 'react-image-gallery/styles/scss/image-gallery.scss';\r\nimport 'react-image-gallery/styles/css/image-gallery.css';\r\nimport './galeria_custom.scss';\r\nimport aws from '../../../../config/aws';\r\n\r\nfunction Galeria(props) {\r\n\tconst [ count, setCount ] = useState(0);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst idproducto = props.id;\r\n\tconst [ galeria, setGaleria ] = useState([]);\r\n\tconst [ imagen, setImagen ] = useState([\r\n\t\t{\r\n\t\t\toriginal: '',\r\n\t\t\tthumbnail: ''\r\n\t\t}\r\n\t]);\r\n\r\n\tconst [ imagenZoom, setImagenZoom ] = useState();\r\n\r\n\tfunction onLoad(imagen) {\r\n\t\tif(imagen.target.src){\r\n\t\t\tvar url = imagen.target.src.split('.com/');// se hace asi porque al poner la variable con la url saltaban warnings del src estaba undefind\r\n\t\t\tsetImagenZoom(url[1]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst galery = {\r\n\t\tshowPlayButton: false,\r\n\t\tshowNav: false,\r\n\t\tshowFullscreenButton: false,\r\n\t\trenderItem: myRenderItem,\r\n\t\tonThumbnailClick: onLoad,\r\n\t\tdisableKeyDown: true\r\n\t};\r\n\r\n\tif (count < galeria.length) {\r\n\t\tsetCount(count + 1);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tasync function obtenerImagen() {\r\n\t\t\t\tawait clienteAxios.get(`/productos/${idproducto}`).then((res) => {\r\n\t\t\t\t\tsetImagenZoom(res.data.imagen);\r\n\t\t\t\t\tsetImagen([\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\toriginal: aws+res.data.imagen,\r\n\t\t\t\t\t\t\tthumbnail: aws+res.data.imagen\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tasync function obtenerGaleria() {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tawait clienteAxios\r\n\t\t\t\t\t.get(`/galeria/${idproducto}`)\r\n\t\t\t\t\t.then((res) => {\r\n\t\t\t\t\t\tsetGaleria(res.data.imagenes);\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => {\r\n\t\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tobtenerImagen();\r\n\t\t\tobtenerGaleria();\r\n\t\t},\r\n\t\t[ idproducto ]\r\n\t);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgaleria.forEach((res) => {\r\n\t\t\t\treturn imagen.push({\r\n\t\t\t\t\toriginal: aws+res.url,\r\n\t\t\t\t\tthumbnail: aws+res.url\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t},\r\n\t\t[ count, galeria, imagen ]\r\n\t);\r\n\r\n\tconst [ zoomHeight, setZoomHeight ] = useState('');\r\n\tconst [ zoomWidth, setZoomWidth ] = useState('');\r\n\tvar img = new Image();\r\n\timg.onload = function() {\r\n\tsetZoomWidth(img.naturalWidth);\r\n\tsetZoomHeight(img.naturalHeight);\r\n\t}\r\n\timg.src = aws+imagenZoom;\r\n\r\n\tconst propiedadesImageMagnify= {\r\n\t\tsmallImage: {\r\n\t\t\talt: 'imagen-producto',\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\tisFluidWidth: true\r\n\t\t},\r\n\t\tlargeImage: {\r\n\t\t\tsrc: aws+imagenZoom,\r\n\t\t\twidth: zoomWidth*1.6,\r\n\t\t\theight: zoomHeight*1.6\r\n\t\t},\r\n\t\tenlargedImagePortalId: 'zoom-render'\r\n\t}\r\n\r\n\tfunction myRenderItem() {\r\n\t\treturn (\r\n\t\t\t<ReactImageMagnify\r\n\t\t\t\timageClassName=\"image-gallery-image\"\r\n\t\t\t\tenlargedImageContainerClassName=\"image-gallery-image-large-container\"\r\n\t\t\t\tenlargedImageClassName=\"image-gallery-image-large\"\r\n\t\t\t\tclassName=\"imagen-gallery-container\"\r\n\t\t\t\t{...propiedadesImageMagnify}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<ImageGallery items={imagen} {...galery} />\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default Galeria;\r\n","import clienteAxios from '../../../../config/axios';\r\nimport { notification } from 'antd';\r\n\r\nexport async function AgregarCarrito(idcliente, idproducto, cantidad, talla, numero, token) {\r\n\tawait clienteAxios\r\n\t\t.post(\r\n\t\t\t`/carrito/nuevo/${idcliente}`,\r\n\t\t\t{\r\n\t\t\t\tcliente: idcliente,\r\n\t\t\t\tarticulos: [\r\n\t\t\t\t\t{ idarticulo: idproducto, cantidad: cantidad, medida: [ { talla: talla, numero: numero } ] }\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t)\r\n\t\t.then((res) => {\r\n\t\t\treturn notification.success({\r\n\t\t\t\tmessage: 'Se añadio un articulo a tu carrito',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tif(err.response){\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}else{\r\n\t\t\t\tnotification.error({\r\n\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\treturn true;\r\n}\r\n\r\nexport async function AgregarApartado(idcliente, idproducto, cantidad, talla, numero, tipoEntrega, token) {\r\n\tif (talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tmedida: [ { talla: talla } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: \"Pedido apartado.\",\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\tmedida: [ { numero: numero } ],\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t`/apartado/nuevo/${idcliente}`,\r\n\t\t\t\t{\r\n\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\testado: 'PROCESANDO',\r\n\t\t\t\t\ttipoEntrega: tipoEntrega\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\treturn notification.success({\r\n\t\t\t\t\tmessage: res.data.message,\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n\r\nexport async function AgregarPedido(idcliente, idproducto, cantidad, talla, numero, precio, total, token) {\r\n\tif (!numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\ttalla: talla,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tnumero: numero,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t} else if (!talla && !numero) {\r\n\t\tawait clienteAxios\r\n\t\t\t.post(\r\n\t\t\t\t'/pedidos/',\r\n\t\t\t\t{\r\n\t\t\t\t\tcliente: idcliente,\r\n\t\t\t\t\tpedido: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tproducto: idproducto,\r\n\t\t\t\t\t\t\tcantidad: cantidad,\r\n\t\t\t\t\t\t\tprecio: precio\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttotal: total,\r\n\t\t\t\t\testado_pedido: 'En proceso'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {\r\n\t\t\t\twindow.location.href = `/confirmacion_compra/${res.data.pedido._id}`;\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { InputNumber, Button, Form, Badge, Divider, notification, Modal, Select, Spin, Alert } from 'antd';\r\nimport { ShoppingCartOutlined, TagsOutlined, BellOutlined, WhatsAppOutlined } from '@ant-design/icons';\r\nimport jwt_decode from 'jwt-decode';\r\nimport { AgregarCarrito, AgregarApartado, AgregarPedido } from './services';\r\nimport { formatoMexico } from '../../../../config/reuserFunction';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { MenuContext } from '../../../../context/carritoContext';\r\nimport DatosCliente from './datos_cliente';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 8 }\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: { span: 24 },\r\n\t\tsm: { span: 16 }\r\n\t}\r\n};\r\nconst { Option } = Select;\r\n\r\nfunction TallasCantidades(props) {\r\n\tconst { active, setActive } = useContext(MenuContext);\r\n\tconst productos = props.producto;\r\n\tconst [ categoria, setCategoria ] = useState();\r\n\t/* \tconst [ cantidad, setCantidad ] = useState(); */\r\n\tconst [ promocion, setPromocion ] = useState('');\r\n\tconst [ tallas, setTallas ] = useState([]);\r\n\tconst [ numeros, setNumeros ] = useState([]);\r\n\tconst [ render, setRender ] = useState([]);\r\n\tconst [ validateStatus, setValidateStatus ] = useState('validating');\r\n\tconst [ cantidadFinal, setCantidadFinal ] = useState(1);\r\n\tconst [ tipoEnvio, setTipoEnvio ] = useState('');\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ visible, setVisible ] = useState(false);\r\n\tconst [ disabled, setDisabled ] = useState(false);\r\n\tconst [ datosUser, setDatosUser ] = useState([]);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\tvar total = 0;\r\n\tvar precio = 0;\r\n\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((res) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (!decoded) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (token) {\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tobtenerTienda();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (productos.promocion && productos.promocion.length) {\r\n\t\t\t\tproductos.promocion.forEach((res) => setPromocion(res.precioPromocion));\r\n\t\t\t}\r\n\t\t\tif (productos.tipoCategoria === 'Calzado') {\r\n\t\t\t\tsetCategoria('calzado');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.numeros.map((numeros) => {\r\n\t\t\t\t\t\treturn numeros.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={numeros._id} count={numeros.cantidad} style={{ backgroundColor: '#1890FF' }}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setNumeros(numeros)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={numeros._id}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tcount={numeros.cantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{numeros.numero}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Ropa') {\r\n\t\t\t\tsetCategoria('ropa');\r\n\t\t\t\tsetRender(\r\n\t\t\t\t\tproductos.tallas.map((tallas) => {\r\n\t\t\t\t\t\treturn tallas.cantidad > 0 ? (\r\n\t\t\t\t\t\t\t<Badge key={tallas._id} count={tallas.cantidad} style={{ backgroundColor: '#1890FF' }}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"dashed\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"talla-vista-producto d-inline-block\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => setTallas(tallas)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\tkey={tallas._id}\r\n\t\t\t\t\t\t\t\tcount={tallas.cantidad}\r\n\t\t\t\t\t\t\t\tshowZero\r\n\t\t\t\t\t\t\t\tstyle={{ backgroundColor: '#F5F5F5', color: '#7D7D7D' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Button type=\"dashed\" disabled className=\"talla-vista-producto d-inline-block\">\r\n\t\t\t\t\t\t\t\t\t{tallas.talla}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t} else if (productos.tipoCategoria === 'Otros') {\r\n\t\t\t\tsetCategoria('otros');\r\n\t\t\t}\r\n\t\t\tif (productos && productos.activo === false) {\r\n\t\t\t\tsetDisabled(true);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[ productos ]\r\n\t);\r\n\r\n\tfunction obtenerCantidad(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > productos.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadNumero(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > numeros.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\tfunction obtenerCantidadTalla(cantidad) {\r\n\t\tif (cantidad <= 0 || cantidad > tallas.cantidad) {\r\n\t\t\tsetValidateStatus('error');\r\n\t\t} else {\r\n\t\t\tsetValidateStatus('validating');\r\n\t\t\tsetCantidadFinal(cantidad);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction obtenerTipoEnvio(value) {\r\n\t\tsetTipoEnvio(value);\r\n\t}\r\n\r\n\tconst showModal = () => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif (categoria === 'ropa' && !tallas.talla) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else if (categoria === 'calzado' && !numeros.numero) {\r\n\t\t\t\tnotification.info({\r\n\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\tduration: 2\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetVisible(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOk = () => {\r\n\t\tif (!tipoEnvio) {\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'Selecciona un tipo de envio',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetVisible(false);\r\n\t\t\tApartado();\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleCancel = (e) => {\r\n\t\tsetVisible(false);\r\n\t};\r\n\r\n\tfunction modalMensaje() {\r\n\t\tModal.success({\r\n\t\t\ticon: '',\r\n\t\t\tcontent: (\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<p style={{ fontSize: 18 }}>¡Tu apartado a sido recibido y sera despachado próximamente!</p>\r\n\t\t\t\t\t{tienda.length !== 0 && tienda.telefono ? (\r\n\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t<p style={{ fontSize: 18 }}>Si tienes dudas te puedes comunicar al</p>\r\n\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 18 }}\r\n\t\t\t\t\t\t\t\tclassName=\"d-flex justify-content-center align-items-center font-weight-bold\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<WhatsAppOutlined style={{ color: '#25d366' }} />\r\n\t\t\t\t\t\t\t\t{tienda.telefono}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<Button className=\"mt-3\" type=\"default\" onClick={() => (window.location.href = '/pedidos')}>\r\n\t\t\t\t\t\t\t\tVer mis pedidos\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p />\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t\tonOk() {}\r\n\t\t});\r\n\t}\r\n\r\n\tasync function Carrito() {\r\n\t\t////AGREGAR CARRITO\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, token)) {\r\n\t\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (AgregarCarrito(decoded._id, productos._id, cantidadFinal, talla, numero, token)) {\r\n\t\t\t\t\tsetActive(!active);\r\n\t\t\t\t}\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Apartado() {\r\n\t\t////AGREGAR APARTADO\r\n\t\tsetLoading(true);\r\n\t\tif (categoria === 'calzado') {\r\n\t\t\tconst talla = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, talla, numeros.numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'ropa') {\r\n\t\t\tconst numero = '';\r\n\t\t\tsetLoading(false);\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, tallas.talla, numero, tipoEnvio, token);\r\n\t\t\tmodalMensaje();\r\n\t\t} else if (categoria === 'otros') {\r\n\t\t\tconst talla = '';\r\n\t\t\tconst numero = '';\r\n\t\t\tAgregarApartado(decoded._id, productos._id, cantidadFinal, talla, numero, tipoEnvio, token);\r\n\t\t\tsetLoading(false);\r\n\t\t\tmodalMensaje();\r\n\t\t}\r\n\t}\r\n\r\n\tasync function Pedido() {\r\n\t\t////AGREGAR PEDIDO\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/entrar');\r\n\t\t\tnotification.info({\r\n\t\t\t\tmessage: 'inicia sesión para poder realizar tus compras',\r\n\t\t\t\tduration: 2\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetLoading(true);\r\n\t\t\tif (categoria === 'calzado') {\r\n\t\t\t\tif (!numeros.numero) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst talla = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttalla,\r\n\t\t\t\t\t\tnumeros.numero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'ropa') {\r\n\t\t\t\tif (!tallas.talla) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tnotification.info({\r\n\t\t\t\t\t\tmessage: 'Selecciona una talla',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst numero = '';\r\n\t\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\tAgregarPedido(\r\n\t\t\t\t\t\tdecoded._id,\r\n\t\t\t\t\t\tproductos._id,\r\n\t\t\t\t\t\tcantidadFinal,\r\n\t\t\t\t\t\ttallas.talla,\r\n\t\t\t\t\t\tnumero,\r\n\t\t\t\t\t\tprecio,\r\n\t\t\t\t\t\ttotal,\r\n\t\t\t\t\t\ttoken\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else if (categoria === 'otros') {\r\n\t\t\t\tconst talla = '';\r\n\t\t\t\tconst numero = '';\r\n\t\t\t\tif (promocion.length !== 0) {\r\n\t\t\t\t\ttotal = cantidadFinal * promocion;\r\n\t\t\t\t\tprecio = promocion;\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttotal = cantidadFinal * productos.precio;\r\n\t\t\t\t\tprecio = productos.precio;\r\n\t\t\t\t}\r\n\t\t\t\tAgregarPedido(decoded._id, productos._id, cantidadFinal, talla, numero, precio, total, token);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-p-seleccion-compra\">\r\n\t\t\t\t<div className=\"contenedor-p-seleccion-compra mb-4\">\r\n\t\t\t\t\t{disabled ? (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p mb-3\">En este momento no hay articulos disponibles</p>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<p className=\"disponibilidad-p-disponible mb-3\">¡Articulos disponibles!</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{categoria !== 'otros' ? <p className=\"mb-3 font-weight-bold\">Tallas:</p> : <p />}\r\n\t\t\t\t\t<div>{render}</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Form initialValues={{ cantidad: 1 }} {...formItemLayout}>\r\n\t\t\t\t\t{categoria !== 'otros' ? (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"cantidad\"\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={\r\n\t\t\t\t\t\t\t\tcategoria === 'ropa' && tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {tallas.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : categoria === 'calzado' && numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<p>Solo hay {numeros.cantidad} disponibles</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p>Elige una talla</p>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\tsize=\"middle\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={categoria === 'ropa' ? tallas.cantidad : numeros.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={categoria === 'ropa' ? obtenerCantidadTalla : obtenerCantidadNumero}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 70 }}\r\n\t\t\t\t\t\t\t\tdisabled={tallas.length !== 0 || numeros.length !== 0 ? false : true}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tlabel=\"Cantidad\"\r\n\t\t\t\t\t\t\tvalidateStatus={validateStatus}\r\n\t\t\t\t\t\t\thelp={<p>Solo hay {productos.cantidad} disponibles</p>}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<InputNumber\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\t\t\tmax={productos.cantidad}\r\n\t\t\t\t\t\t\t\tdefaultValue={1}\r\n\t\t\t\t\t\t\t\tonChange={obtenerCantidad}\r\n\t\t\t\t\t\t\t\tstyle={{ width: 130 }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Form>\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{decoded && decoded.rol === true ? (\r\n\t\t\t\t\t<Alert\r\n\t\t\t\t\t\tdescription=\"Como Administrador tienes desabilitadas las opciones de comprar, apartar y agregar al carrito\"\r\n\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"contenedor-button-vista\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"d-block size-button-vista\"\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => Pedido()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<TagsOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tComprar ahora\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista boton-compras-secun\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tonClick={() => showModal()}\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<BellOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tApartar\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tclassName=\"mt-3 d-block size-button-vista boton-compras-secun\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\tonClick={() => Carrito()}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ShoppingCartOutlined style={{ fontSize: 20 }} />\r\n\t\t\t\t\t\t\t\tAgregar al carrito\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<Modal\r\n\t\t\t\ttitle=\"Aparta tu producto\"\r\n\t\t\t\tvisible={visible}\r\n\t\t\t\t/* onOk={handleOk} */\r\n\t\t\t\tonCancel={handleCancel}\r\n\t\t\t\t/* cancelText=\"Cancelar\" */\r\n\t\t\t\t/* okText=\"Apartar ahora\" */\r\n\t\t\t\tfooter={null}\r\n\t\t\t\twidth={700}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Producto: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">{productos.nombre}</p>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{numeros.length !== 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Medida: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">{numeros.numero}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : tallas.length !== 0 ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Talla: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">{tallas.talla}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<p className=\"d-inline\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Cantidad: </h6>\r\n\t\t\t\t\t\t\t<p className=\"d-inline\">{cantidadFinal}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!productos.promocion ? (\r\n\t\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Precio: </h6>\r\n\t\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(productos.precio)}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\tproductos.promocion.map((res) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div key={res._id} className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\t\t<h6 className=\"d-inline font-weight-bold\">Precio: </h6>\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"d-inline\">${formatoMexico(res.precioPromocion)}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"mb-3\">\r\n\t\t\t\t\t\t\t<h6 className=\"font-weight-bold\">Elegir tipo de envío: </h6>\r\n\t\t\t\t\t\t\t<Select style={{ width: 200 }} placeholder=\"Selecciona un tipo\" onChange={obtenerTipoEnvio}>\r\n\t\t\t\t\t\t\t\t<Option value=\"ENVIO\">Envío por paquetería</Option>\r\n\t\t\t\t\t\t\t\t<Option value=\"REGOGIDO\">Recoger a sucursal</Option>\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Alert description=\"Para apartar un producto completa tus datos.\" type=\"info\" showIcon />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-12 col-lg-6\">\r\n\t\t\t\t\t\t<div className=\"d-flex justify-content-center align-items-center\" style={{ height: 220 }}>\r\n\t\t\t\t\t\t\t<img className=\"imagen-producto-principal\" alt=\"producto\" src={aws + productos.imagen} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Divider>Tus datos</Divider>\r\n\t\t\t\t{decoded && decoded._id ? (\r\n\t\t\t\t\t<DatosCliente\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tclienteID={decoded._id}\r\n\t\t\t\t\t\ttipoEnvio={tipoEnvio}\r\n\t\t\t\t\t\tenviarDatos={[ handleOk ]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div />\r\n\t\t\t\t)}\r\n\t\t\t</Modal>\r\n\t\t</Spin>\r\n\t);\r\n}\r\nexport default withRouter(TallasCantidades);\r\n","import React, { useEffect, useState } from 'react';\r\nimport clienteAxios from '../../../../config/axios';\r\nimport { Spin } from 'antd';\r\nimport './info-tienda.scss';\r\nimport Geolocalizacion from '../../../../pages/users/geolocalizacion';\r\nimport { withRouter } from 'react-router-dom';\r\nimport aws from '../../../../config/aws';\r\n\r\nconst InfoTienda = (props) => {\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ tienda, setTienda ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerTienda();\r\n\t}, []);\r\n\r\n\tasync function obtenerTienda() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/tienda/`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tres.data.forEach((element) => setTienda(element));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t});\r\n\t}\r\n\r\n\tif (tienda.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Spin spinning={loading}>\r\n\t\t\t<div className=\"contenedor-info-tienda\">\r\n\t\t\t\t<p className=\"titulos-vista-productos text-center\">Encuentra nuestra tienda</p>\r\n\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t<div className=\"contenedor-imagen-info\">\r\n\t\t\t\t\t\t<div className=\"contenedor-imagen-info-tienda\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"logo-tienda\"\r\n\t\t\t\t\t\t\t\tsrc={aws+tienda.imagenLogo}\r\n\t\t\t\t\t\t\t\tclassName=\"imagen-info-tienda\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{/* <Avatar size={64} src={`https://prueba-imagenes-uploads.s3.us-west-1.amazonaws.com/${tienda.imagenLogo}`} /> */}\r\n\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t<p className=\"font-weight-bold\" style={{ fontSize: 20 }}>\r\n\t\t\t\t\t\t\t{tienda.nombre}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.direccion.map((direccion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={direccion._id} className=\"container\">\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Dirección:</span> {direccion.calle_numero}, Col.{' '}\r\n\t\t\t\t\t\t\t\t\t{direccion.colonia}, {direccion.ciudad}, {direccion.cp}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"direccion-tienda-vista-producto\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-weight-bold\">Teléfono:</span> {tienda.telefono}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t\t{tienda.length !== 0 ? (\r\n\t\t\t\t\ttienda.ubicacion.map((ubicacion) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div key={ubicacion._id}>\r\n\t\t\t\t\t\t\t\t<Geolocalizacion\r\n\t\t\t\t\t\t\t\t\theight=\"50vh\"\r\n\t\t\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\t\t\tcenter={[ ubicacion.lat, ubicacion.lng ]}\r\n\t\t\t\t\t\t\t\t\ttitleLayer={'map'}\r\n\t\t\t\t\t\t\t\t\tzoom={16}\r\n\t\t\t\t\t\t\t\t\tapikey=\"I0G4Jr6RUg71dsHIRF0qGzn0l39bAY1V\"\r\n\t\t\t\t\t\t\t\t\tnombreMarcador=\"AB soluciones Empresariales\"\r\n\t\t\t\t\t\t\t\t\ttituloheader={false}\r\n\t\t\t\t\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n};\r\n\r\nexport default withRouter(InfoTienda);\r\n","import React, { useState, useEffect } from 'react';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Divider, Row, Col, Tag, Spin, Alert, notification } from 'antd';\r\nimport { CreditCardOutlined } from '@ant-design/icons';\r\nimport Scroll from './subs/scroll';\r\nimport Sugerencia from './subs/sugerencia';\r\nimport Galeria from './Galeria_tienda/galeria';\r\nimport TallasCantidades from './subs/cantidades_y_tallas';\r\nimport InfoTienda from './Info_tienda/info-tienda';\r\nimport 'antd/dist/antd.css';\r\nimport './vistas.scss';\r\nimport { formatoMexico, agregarPorcentaje } from '../../../config/reuserFunction';\r\nimport DOMPurify from 'dompurify';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTruck } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction VistaProductos(props) {\r\n\tconst [ productos, setProductos ] = useState([]);\r\n\tconst [ promocion, setPromocion ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ readMore, setReadMore ] = useState('read-less');\r\n\tconst producto = props.match.params.url;\r\n\tconst [ costoEnvio, setCostoEnvio ] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tobtenerProducto();\r\n\t\tobtenerPoliticasEnvio();\r\n\t\twindow.scrollTo(0, 0);\r\n\t}, []);\r\n\r\n\tasync function obtenerPoliticasEnvio() {\r\n\t\tawait clienteAxios\r\n\t\t\t.get('/politicasEnvio/')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCostoEnvio(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tasync function obtenerProducto() {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/productos/${producto}`)\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetProductos(res.data);\r\n\t\t\t\tres.data.promocion.forEach((res) => setPromocion(res));\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tprops.history.push('/error500');\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}\r\n\r\n\tconst OnClickReadMore = () => {\r\n\t\tif (readMore === 'read-less') {\r\n\t\t\tsetReadMore('read-more');\r\n\t\t} else {\r\n\t\t\tsetReadMore('read-less');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"container mt-5 shadow caracteristicas \">\r\n\t\t\t\t<div className=\"row mt-5\">\r\n\t\t\t\t\t<div className=\"col-lg-8 imagen-gallery-vista zoom\">\r\n\t\t\t\t\t\t<div id=\"zoom-render\" />\r\n\t\t\t\t\t\t<div className=\"mb-5\">\r\n\t\t\t\t\t\t\t<Galeria id={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos producto-descripcion\">Descripción</p>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t{/* ### Componenete de Sugerencia */}\r\n\t\t\t\t\t\t<div className=\"descripcion-lg\">\r\n\t\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg-4 border-left\">\r\n\t\t\t\t\t\t<h1 className=\"titulo-principal\">{productos.nombre}</h1>\r\n\t\t\t\t\t\t{promocion.length === 0 ? (\r\n\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-rebaja titulo-precio\">\r\n\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio-tachado precio-producto\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(productos.precio)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-precio precio-rebaja d-inline mr-3\">\r\n\t\t\t\t\t\t\t\t\t$ {formatoMexico(promocion.precioPromocion)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className=\"titulo-porcentaje porcentaje-descuento d-inline mr-2\">\r\n\t\t\t\t\t\t\t\t\t{agregarPorcentaje(promocion.precioPromocion, productos.precio)}% OFF\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{costoEnvio ? (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 15 }} className=\"envio-texto\">\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faTruck} style={{ fontSize: 15, marginRight: 10 }} /> <span>Costo del envío:</span>{' '}\r\n\t\t\t\t\t\t\t\t\t<span>${costoEnvio.costoEnvio}</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{costoEnvio.promocionEnvio ?  costoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\t\t\tmessage={\r\n\t\t\t\t\t\t\t\t\t\t\tcostoEnvio.descuento !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`¡En compras arriba de $${costoEnvio.promocionEnvio} el envío será GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t`¡En compras arriba de $${costoEnvio.promocionEnvio}, el envío será GRATIS!`\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"success\"\r\n\t\t\t\t\t\t\t\t\t\tshowIcon\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t): \"\" : (\r\n\t\t\t\t\t\t\t\t\t<div />\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"d-none\" />\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"row justify-content-center\">\r\n\t\t\t\t\t\t\t<div className=\"col-4\">\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 10 }}>Género:</p>\r\n\t\t\t\t\t\t\t\t<Tag color=\"blue\" style={{ fontSize: 16 }}>\r\n\t\t\t\t\t\t\t\t\t{productos.genero}\r\n\t\t\t\t\t\t\t\t</Tag>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-6\">\r\n\t\t\t\t\t\t\t\t<p style={{ fontSize: 20, fontWeight: 'bold', marginBottom: 5 }}>Color: {productos.color}</p>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"rounded-circle ml-2\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ height: 30, width: 30, backgroundColor: productos.colorHex }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<TallasCantidades producto={productos} /> {/* Componente tallas */}\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<p className=\"mb-3 formas-pago\" style={{ fontSize: 20, fontWeight: 'bold' }}>\r\n\t\t\t\t\t\t\t<CreditCardOutlined style={{ fontSize: 25 }} className=\"mr-2\" />\r\n\t\t\t\t\t\t\tFormas de Pago\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"contenedor-img-tarjetas\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://www.paymentmedia.com/gallery/5b927b5d6fc472000px-Mastercard-logo.svg.jpg\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\talt=\"tarjetas de credito\"\r\n\t\t\t\t\t\t\t\tclassName=\"img-tarjetas\"\r\n\t\t\t\t\t\t\t\tsrc=\"https://logos-marcas.com/wp-content/uploads/2020/04/Visa-Logo.png\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t\t<p className=\"titulos-vista-productos text-center\">Descripcion:</p>\r\n\t\t\t\t\t\t\t<div style={{ fontSize: 18, textAlign: 'justify' }} className=\"px-3\">\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName={readMore}\r\n\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(productos.descripcion) }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{readMore === 'read-less' ? (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer más...\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<p className=\"texto-ver-mas\" onClick={OnClickReadMore}>\r\n\t\t\t\t\t\t\t\t\t\tVer menos\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<InfoTienda />\r\n\t\t\t\t\t\t{/* Componente informacion de la tienda */}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"descripcion-sm\">\r\n\t\t\t\t\t\t<Sugerencia producto={producto} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* ### Componenete de productos similares */}\r\n\t\t\t\t<Row className=\"mt-5\">\r\n\t\t\t\t\t<Col span={24}>\r\n\t\t\t\t\t\t<Scroll productos={productos} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n\r\nexport default withRouter(VistaProductos);\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"404\"\r\n        subTitle=\"Ups, Parece que esta pagina no existe.\"\r\n      />\r\n    )\r\n}","//layout\r\nimport LayoutAdmin from '../components/Layout_admin/LayoutAdmin'\r\nimport LayoutBasic from '../components/Layout/Layout'\r\n\r\n//Admin pages\r\nimport AdminHome from '../pages/admin/Principal/principal'\r\nimport RegistrarProductos from '../pages/admin/Productos/productos'\r\nimport Pedidos from '../pages/admin/Pedidos/pedidos'\r\nimport Promociones from '../pages/admin/Promociones/promociones'\r\nimport SistemaApartado from '../pages/admin/Apartado/apartado'\r\nimport Inventario from '../pages/admin/Inventario/inventario'\r\nimport Sugerencias from '../pages/admin/Sugerencias/sugerencias'\r\nimport Carousel from '../pages/admin/Carousel/carousel'\r\nimport Publicidad from '../pages/admin/Publicidad/publicidad'\r\nimport BlogAdmin from '../pages/admin/Blog/blog'\r\nimport Clientes from '../pages/admin/Clientes/clientes'\r\n\r\n//Users pages\r\nimport Home from '../pages/users/home'\r\nimport Entrar from '../pages/users//Inicio_sesion/entrar'\r\nimport QuienesSomos from '../pages/users/Quienes_somos/quienes_somos';\r\nimport ShoppingCart from '../pages/users/Carrito/shopping_cart'\r\nimport Productos from '../pages/users/Productos/productos'\r\nimport Blog from '../pages/users/Blogs/blog';\r\nimport PedidosUsuario from '../pages/users/Pedidos/pedidos'\r\nimport Ofertas from '../pages/users/Ofertas/ofertas'\r\nimport ResultadoBusqueda from '../pages/users/Resultado_Busqueda/resultado_busqueda'\r\nimport Perfiles from '../pages/users/Perfiles/perfiles'\r\nimport Confirmacion_compra from '../pages/users/Confirmacion_compra/confirmacion_compra'\r\n\r\n\r\n\r\nimport Politicas from '../pages/users/Politicas/politicas'\r\n//Secondary Component\r\nimport VistaProducto from '../pages/users/Vista_Producto/vista_producto'\r\n\r\n//other\r\nimport Error404 from '../pages/users/error404'\r\nimport Error500 from '../pages/users/error500'\r\nimport Search404 from '../pages/users/Resultado_Busqueda/404'\r\nimport Success from '../pages/users/Success/success';\r\nimport ErrorPago from '../pages/users/Success/error';\r\n\r\nconst routes = [\r\n\t{\r\n\t\tpath: '/admin',\r\n\t\tcomponent: LayoutAdmin,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin',\r\n\t\t\t\tcomponent: AdminHome,\r\n\t\t\t\texact: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/productos',\r\n\t\t\t\tcomponent: RegistrarProductos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/pedidos',\r\n\t\t\t\tcomponent: Pedidos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/promociones',\r\n\t\t\t\tcomponent: Promociones,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sistema_apartado',\r\n\t\t\t\tcomponent: SistemaApartado,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/inventario',\r\n\t\t\t\tcomponent: Inventario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/blog',\r\n\t\t\t\tcomponent: BlogAdmin,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/sugerencias',\r\n\t\t\t\tcomponent: Sugerencias,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/carousel',\r\n\t\t\t\tcomponent: Carousel,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/publicidad',\r\n\t\t\t\tcomponent: Publicidad,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/admin/clientes',\r\n\t\t\t\tcomponent: Clientes,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tpath: '/',\r\n\t\tcomponent: LayoutBasic,\r\n\t\texact: false,\r\n\t\troutes: [\r\n\t\t\t{\r\n\t\t\t\tpath: '/',\r\n\t\t\t\tcomponent: Home,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/entrar',\r\n\t\t\t\tcomponent: Entrar,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/quienes_somos',\r\n\t\t\t\tcomponent: QuienesSomos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/shopping_cart',\r\n\t\t\t\tcomponent: ShoppingCart,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/blog/:url',\r\n\t\t\t\tcomponent: Blog,\r\n\t\t\t\texact: true\r\n            },\r\n            {\r\n\t\t\t\tpath: '/pedidos',\r\n\t\t\t\tcomponent: PedidosUsuario,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/ofertas',\r\n\t\t\t\tcomponent: Ofertas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/productos',\r\n\t\t\t\tcomponent: Productos,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/vista_producto/:url',\r\n\t\t\t\tcomponent: VistaProducto,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/politicas',\r\n\t\t\t\tcomponent: Politicas,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/:url',\r\n\t\t\t\tcomponent: ResultadoBusqueda,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/searching/',\r\n\t\t\t\tcomponent: Search404,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/perfiles/',\r\n\t\t\t\tcomponent: Perfiles,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/confirmacion_compra/:url',\r\n\t\t\t\tcomponent: Confirmacion_compra,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error500/',\r\n\t\t\t\tcomponent: Error500,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/success/:id',\r\n\t\t\t\tcomponent: Success,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tpath: '/error/:id/:error',\r\n\t\t\t\tcomponent: ErrorPago,\r\n\t\t\t\texact: true\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcomponent: Error404\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport default routes;\r\n","import React from 'react'\r\n\r\nexport default function Publicidad (){\r\n    return (\r\n        <div>Hello publicidad</div>\r\n    )\r\n}","/* eslint-disable react/jsx-pascal-case */\r\nimport React from 'react';\r\nimport Carousel from './Carusel_ofertas/carousel';\r\nimport ConsultaProductos from './Productos/consulta_productos';\r\nimport Ofertas from './Ofertas/ofertasHome';\r\nimport Datos_tienda from './Datos_tienda/datos_tienda'\r\nimport './home.scss'\r\n\r\nexport default function Home(props) {\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Carousel />\r\n\t\t\t<div className=\"contenedor-home-background\">\r\n\t\t\t\t<div className=\"row contenedor-home-banner\">\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">REALIZA TU PAGO EN LÍNEA</h2>\r\n\t\t\t\t\t\t<p>ACEPTAMOS PAGOS CON TARJETA</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home divider-home-banner col-lg-4 col-12 \">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">ENVÍO GRATUITO</h2>\r\n\t\t\t\t\t\t<p>EN PEDIDOS MAYORES A $1500.00</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"text-center textos-home col-lg-4 col-12\">\r\n\t\t\t\t\t\t<h2 className=\"mb-0\">APARTA TU PRODUCTO FAVORITO</h2>\r\n\t\t\t\t\t\t<p>PUEDES APARTAR TU PEDIDO Y PASAR POR EL</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<ConsultaProductos propiedades={props} />\r\n            <Ofertas />\r\n            <Datos_tienda />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Spin,notification } from 'antd';\r\n\r\n\r\nexport default function QuienesSomos() {\r\n\r\n    const [ loading, setLoading ] = useState(false);\r\n    const [imagenCorp, setImagenCorp] = useState([]);\r\n\r\n    function peticionImagenCoorporativa(){\r\n        clienteAxios.get('/tienda/')\r\n            .then((res) => {\r\n                setLoading(false)\r\n                if (res.data[0].politicas !== \"\") {\r\n                    setImagenCorp(res.data[0].imagenCorp)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                if(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n            });\r\n    }\r\n    \r\n    useEffect(() => {\r\n        peticionImagenCoorporativa();\r\n        setLoading(true)\r\n    }, [])\r\n\r\n    return (\r\n        <Spin size=\"large\" spinning={loading}>\r\n            <div className=\"container bg-white shadow mb-5\">\r\n                <div style={{lineHeight: \"35px\",color:\"black\"}} dangerouslySetInnerHTML={{__html: imagenCorp}} className='mt-5 px-4' />\r\n            </div>\r\n        </Spin>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport MostrarDatosProductos from './MostrarDatosCarrito';\r\nimport { CarritoProvider } from './context_carrito/context-carrito';\r\n\r\nexport default function ShoppingCart() {\r\n\treturn (\r\n\t\t<div className=\"container\">\r\n\t\t\t<div style={{ background: 'white' }} className=\"shadow\">\r\n\t\t\t\t<CarritoProvider>\r\n\t\t\t\t\t<MostrarDatosProductos />\r\n\t\t\t\t</CarritoProvider>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error404 () {\r\n    return (\r\n        <Result\r\n        status=\"404\"\r\n        title=\"Escribe el nombre del producto que deseas buscar\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { Spin,notification } from 'antd';\r\nimport ActualizarUsuario from './service/ActualizarUsuario';\r\n\r\nexport default function Perfiles(props) {\r\n\tconst [ datosUser, setDatosUser ] = useState(null);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst [ accion, setAccion ] = useState(false);\r\n\r\n\t//Obtener token de localStorage\r\n\tconst token = localStorage.getItem('token');\r\n\tvar decoded = Jwt(token);\r\n\r\n\t//Decodificar el JWT\r\n\tfunction Jwt(token) {\r\n\t\ttry {\r\n\t\t\treturn jwt_decode(token);\r\n\t\t} catch (e) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n\t//Verificar el JWT\r\n\tif (token === '' || token === null) {\r\n\t\tprops.history.push('/entrar');\r\n\t} else if (decoded['rol'] !== false) {\r\n\t\tprops.history.push('/');\r\n\t}\r\n\r\n\tasync function obtenerDatosUser() {\r\n\t\tif (token === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/cliente/${decoded._id}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetDatosUser(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\tsetLoading(false);\r\n\t}\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tobtenerDatosUser();\r\n\t\t\tsetAccion(false);\r\n\t\t},\r\n\t\t[ accion ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<Spin size=\"large\" spinning={loading}>\r\n\t\t\t<div className=\"container col-lg-6\">\r\n\t\t\t\t<h1 className=\"mt-5 text-center\">Bienvenido a tu perfil</h1>\r\n\t\t\t\t<div className=\"mt-3 px-5 mx-auto\" style={{ background: 'white', left: '50%' }}>\r\n\t\t\t\t\t<ActualizarUsuario\r\n\t\t\t\t\t\tdatosUser={datosUser}\r\n\t\t\t\t\t\tdecoded={decoded}\r\n\t\t\t\t\t\ttoken={token}\r\n\t\t\t\t\t\tsetLoading={setLoading}\r\n\t\t\t\t\t\tsetAccion={setAccion}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Spin>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport { Result } from 'antd';\r\n\r\nexport default function Error500 () {\r\n    return (\r\n        <Result\r\n        status=\"500\"\r\n        title=\"Error del servidor\"\r\n        subTitle=\"Ups, Parece que hubo un error con el servidor.\"\r\n      />\r\n    )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Result, Button, notification, Divider, Spin } from 'antd';\r\nimport { Avatar } from 'antd';\r\nimport clienteAxios from '../../../config/axios';\r\nimport { formatoMexico } from '../../../config/reuserFunction';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport aws from '../../../config/aws';\r\n\r\nexport default function Success(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst [ pedido, setPedido ] = useState([]);\r\n\tconst [ loading, setLoading ] = useState(false);\r\n\tconst token = localStorage.getItem('token');\r\n\r\n\tconst obtenerPedido = async () => {\r\n\t\tsetLoading(true);\r\n\t\tawait clienteAxios\r\n\t\t\t.get(`/pedidos/pedido/${pedidoID}`, {\r\n\t\t\t\theaders: {\r\n\t\t\t\t\tAuthorization: `bearer ${token}`\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetPedido(res.data);\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tif(err.response){\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error',\r\n\t\t\t\t\t\tdescription: err.response.data.message,\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tnotification.error({\r\n\t\t\t\t\t\tmessage: 'Error de conexion',\r\n\t\t\t\t\t\tdescription: 'Al parecer no se a podido conectar al servidor.',\r\n\t\t\t\t\t\tduration: 2\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!token) {\r\n\t\t\tprops.history.push('/');\r\n\t\t} else {\r\n\t\t\tobtenerPedido();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tif (pedido.pedido) {\r\n\t\tvar avatar_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Avatar\r\n\t\t\t\t\tsize={75}\r\n\t\t\t\t\tkey={pedido._id}\r\n\t\t\t\t\tsrc={aws+pedido.producto.imagen}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\t\tvar nombre_productos = pedido.pedido.map((pedido) => {\r\n\t\t\treturn <p key={pedido._id}>{pedido.producto.nombre}</p>;\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-success\">\r\n\t\t\t<div className=\"contenedor-success m-5 shadow-lg\">\r\n\t\t\t\t<Spin spinning={loading}>\r\n\t\t\t\t\t<Result\r\n\t\t\t\t\t\tclassName=\"result-pago\"\r\n\t\t\t\t\t\ticon={\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"swal2-icon swal2-success swal2-animate-success-icon\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: 'flex' }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-left\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-tip\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-success-line-long\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-ring\" />\r\n\t\t\t\t\t\t\t\t<div className=\"swal2-success-fix\" style={{ backgroundColor: 'rgb(255, 255, 255)' }} />\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tclassName=\"swal2-success-circular-line-right\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: 'rgb(255, 255, 255)' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttitle=\"Pago realizado exitosamente\"\r\n\t\t\t\t\t\tsubTitle={\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tEl ID del pedido es <strong> {pedido._id}</strong>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<Divider>Detalles del pedido</Divider>\r\n\t\t\t\t\t\t\t\t<div className=\"m-2\">{avatar_productos}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h6>Productos:</h6>\r\n\t\t\t\t\t\t\t\t\t<div>{nombre_productos}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"mt-3\">\r\n\t\t\t\t\t\t\t\t\t<h5>Total del pedido:</h5>\r\n\t\t\t\t\t\t\t\t\t<h4>${formatoMexico(pedido.total)}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\textra={[\r\n\t\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t\t<Button type=\"primary\" className=\"mb-3\">\r\n\t\t\t\t\t\t\t\t\tIr a Pagina principal\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Spin>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Result, Button } from 'antd';\r\nimport './success.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ErrorPago(props) {\r\n\tconst pedidoID = props.match.params.id;\r\n\tconst error = props.match.params.error;\r\n\r\n\treturn (\r\n\t\t<div className=\"contenedor-bgcolor-error\">\r\n\t\t\t<div className=\"contenedor-error m-5 shadow-lg\">\r\n\t\t\t\t<Result\r\n\t\t\t\t\ticon={\r\n\t\t\t\t\t\t<div className=\"swal2-icon swal2-error swal2-animate-error-icon\" style={{ display: 'flex' }}>\r\n\t\t\t\t\t\t\t<span className=\"swal2-x-mark\">\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-left\" />\r\n\t\t\t\t\t\t\t\t<span className=\"swal2-x-mark-line-right\" />\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttitle=\"Tu pago no ha sido aprovado\"\r\n\t\t\t\t\tsubTitle={error}\r\n\t\t\t\t\textra={[\r\n\t\t\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t\t\t<Button type=\"primary\">\r\n\t\t\t\t\t\t\t\tIr a pagina principal\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Link>,\r\n                        <Link to={`/confirmacion_compra/${pedidoID}`}>\r\n                            <Button type=\"primary\" ghost className=\"mb-3\">\r\n                                Reintentar\r\n                            </Button>\r\n                        </Link>\r\n\t\t\t\t\t]}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'antd/dist/antd.css'\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\r\nimport routes from './config/routes'\r\nimport {Helmet} from \"react-helmet\";\r\nimport './scss/variables.scss'\r\n\r\nexport default function App() {\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Tienda Online</title>       \r\n      </Helmet>\r\n      <Router>\r\n          <Switch>\r\n            { routes.map((route, index) => (\r\n              <RoutesWithSubRoutes key= {index} {...route} />\r\n            ))}           \r\n          </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction RoutesWithSubRoutes(route) {\r\n  return (\r\n    <Route \r\n      path={route.path}\r\n      exact={route.exact}\r\n      render={props => <route.component routes={route.routes} {...props}/>}\r\n    />\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'antd/dist/antd.css'\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}